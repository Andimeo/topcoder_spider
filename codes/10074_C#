<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br>using System.Collections;<br>using System.Collections.Generic;<br> <br>public class CakesEqualization<br>{<br>  struct X<br>  {<br>    public X (int w)<br>    {<br>      this.weight = w;<br>      this.cuts = 1;<br>    }<br>    <br>    public long weight;<br>    public long cuts;<br>  }<br>  <br>  <br>  public double fairDivision (int[] weights, int maxCuts)<br>  {<br>    Array.Sort (weights);<br>    int n = weights.Length;<br> <br>    X[] q = new X[n];<br>    <br>    for (int i = 0; i &lt; n; ++i)<br>      q[i] = new X (weights[i]);<br> <br>    double min = q[n - 1].weight - q[0].weight;<br>    <br>    while (maxCuts-- &gt; 0)<br>    {<br>      int k = n - 1;<br>      <br>      X x = q[k];<br>      ++x.cuts;<br>      <br>      while (k &gt; 0 &amp;&amp; x.weight * q[k - 1].cuts &lt; q[k - 1].weight * x.cuts)<br>      {<br>        q[k] = q[k - 1];<br>        --k;<br>      }<br> <br>      q[k] = x;<br> <br>      min = Math.Min (min, (double) q[n - 1].weight / q[n - 1].cuts - (double) q[0].weight / q[0].cuts);<br>    }<br>    <br>    return min;<br>  }<br>  <br>  <br> <br>}<br> <br> <br>// Powered by FileEdit<br>// Powered by TZTester 1.01 [25-Feb-2003] [modified for C# by Petr]<br>// Powered by CodeProcessor<br></td>