<td class="problemText" colspan="8" valign="middle" align="left">
            public class BestRoads {<br>  public int[] numberOfRoads(String[] roads, int M) {<br>    int N = roads.length;<br>    int[][] a = new int[N][N];<br>    for (int i = 0; i &lt; a.length; i++) {<br>      for (int j = 0; j &lt; a.length; j++) {<br>        a[i][j] = (roads[i].charAt(j)=='Y')? 1:0;<br>      }<br>    }<br>    int[] seen = new int[N];<br>    int[] ret = new int[N];<br>    seen[0] = 1;<br>    int done = 0;<br>    while (true) {<br>      boolean found = false;<br>      x:<br>      for (int i = 0; i &lt; a.length; i++) {<br>        for (int j = 0; j &lt; a.length; j++) {<br>          if (seen[i]==1 &amp;&amp; a[i][j]==1 &amp;&amp; seen[j]==0) {<br>            ret[i]++;<br>            ret[j]++;<br>            seen[j] = 1;<br>            done++;<br>            found = true;<br>            a[i][j] = 0;<br>            a[j][i] = 0;<br>//            System.out.println(i+" "+j);<br>            break x;<br>          }<br>          if (seen[i]==0 &amp;&amp; a[i][j]==1 &amp;&amp; seen[j]==1) {<br>            ret[i]++;<br>            ret[j]++;<br>            seen[i] = 1;<br>            done++;<br>            found = true;<br>            a[i][j] = 0;<br>            a[j][i] = 0;<br>//            System.out.println(i+" "+j);<br>            break x;<br>          }<br>        }<br>      }<br>      if (!found) break;<br>    }<br>//    System.out.println( done+" "+toString(ret) );<br>    if (done!=(N-1)) return new int[0];<br>    if (done==M) return ret;<br>      for (int j = 0; j &lt; a.length; j++) {<br>        for (int k = 0; k &lt; a.length; k++) {<br>          if (a[j][k]==1) {<br>            ret[j]++;<br>            ret[k]++;<br>            a[j][k] = 0;<br>            a[k][j] = 0;<br>//            System.out.println(j+" "+k);<br>            done++;<br>            if (done==M) {<br>//              System.out.println(j+" "+k+"      "+ toString(a[3]));<br>              return ret;<br>            }<br>          }<br>        }<br>      }<br>    return new int[0];<br>  }<br>  <br>  public static void main(String[] args) {<br>    System.out.println( toString ( new BestRoads() .numberOfRoads(new String[]{"NYYNYYYN","YNNNNYYN","YNNNYNNN","NNNNNNYY","YNYNNNNN","YYNNNNYY","YYNYNYNY","NNNYNYYN"}, 10)));<br>    System.out.println( toString ( new BestRoads() .numberOfRoads(new String[]{"NNYY","NNYY","YYNN","YYNN"}, 5)));<br>    System.out.println( toString ( new BestRoads() .numberOfRoads(new String[]{"NYNNY","YNNNY","NNNNN","NNNNY","YYNYN"}, 4)));<br>    System.out.println( toString ( new BestRoads() .numberOfRoads(new String[]{"NYY","YNY","YYN"}, 2)));<br>  }<br>  <br>  static String toString(int[] a) {<br>    String s="";<br>    for (int i = 0; i &lt; a.length; i++) {<br>      s+= " "+a[i];<br>    }<br>    return s;<br>  }<br>}<br></td>