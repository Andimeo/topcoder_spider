<td class="problemText" colspan="8" valign="middle" align="left">
            public class MagicWords {<br>  public int count(string[] S, int K) {<br>        return rec(K, S, "", new bool[S.Length]);<br>  }<br><br>    private int rec(int K, string[] S, string p, bool[] was)<br>    {<br>        bool any = false;<br>        int res = 0;<br>        for (int i = 0; i &lt; was.Length; ++i)<br>        {<br>            if (!was[i])<br>            {<br>                any = true;<br>                was[i] = true;<br>                res += rec(K, S, p + S[i], was);<br>                was[i] = false;<br>            }<br>        }<br>        if (!any &amp;&amp; nice(p, K))<br>            ++res;<br>        return res;<br>    }<br><br>    private bool nice(string p, int K)<br>    {<br>        int delta = (p.Substring(1) + p).IndexOf(p) + 1;<br>        return K * delta == p.Length;<br>    }<br>}<br><br><br>// Powered by FileEdit<br>// Powered by TZTester 1.01 [25-Feb-2003] [modified for C# by Petr]<br>// Powered by CodeProcessor<br></td>