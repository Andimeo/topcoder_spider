<td class="problemText" colspan="8" valign="middle" align="left">
            public class SubrectanglesOfTable {<br>  public long[] getQuantity( String[] t ) {<br>    int m = t.length;<br>    char[][] c = new char[2 * m][];<br>    for ( int i = 0; i &lt; m; i ++ ) {<br>      c[i] = ( t[i] + t[i] ).toCharArray();<br>      c[i + m] = c[i].clone();<br>    }<br>    m *= 2;<br>    int n = c[0].length;<br>    long[] r = new long[26];<br>    for ( int i = 0; i &lt; m; i ++ ) {<br>      for ( int j = 0; j  &lt; n; j ++ ) {<br>        r[c[i][j] - 'A'] += 1l * ( i + 1 ) * ( m - i ) * ( j + 1 ) * ( n - j );<br>      }<br>    }<br>    return r;<br>  }<br>}<br></td>