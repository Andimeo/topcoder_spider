<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br><br>public class KthProbableElement {<br>  public double probability(int M, int lowerBound, int upperBound, int N, int K) {<br>        double[,] c = new double[M + 1, M + 1];<br>        c[0, 0] = 1;<br>        for (int i = 1; i &lt;= M; ++i)<br>        {<br>            c[i, 0] = 1;<br>            for (int j = 1; j &lt;= M; ++j)<br>            {<br>                c[i, j] = c[i - 1, j - 1] + c[i - 1, j];<br>            }<br>        }<br>        double res = 0.0;<br>        for (int a = 0; a &lt;= K - 1; ++a)<br>            for (int b = 0; b &lt;= M - K; ++b)<br>            {<br>                double cur = c[M, a + b + 1] * c[M - a - b - 1, K - 1 - a] * pw((N - lowerBound) / (double)(upperBound - lowerBound + 1), K - 1 - a) * pw((upperBound - N) / (double)(upperBound - lowerBound + 1), M - K - b) * pw(1.0  / (double) (upperBound - lowerBound + 1), a + b + 1);<br>                res += cur;<br>            }<br>        return res;<br>  }<br><br>    private double pw(double p, int q)<br>    {<br>        if (q == 0)<br>            return 1.0;<br>        return Math.Pow(p, q);<br>    }<br><br><br><br>}<br><br><br>// Powered by FileEdit<br>// Powered by TZTester 1.01 [25-Feb-2003] [modified for C# by Petr]<br>// Powered by CodeProcessor<br></td>