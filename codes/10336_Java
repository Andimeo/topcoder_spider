<td class="problemText" colspan="8" valign="middle" align="left">
            import java.util.*;<br>import java.util.regex.*;<br>import java.text.*;<br>import java.math.*;<br> <br> <br>public class CircularShifts<br>{<br>  public int maxScore(int n, int Z0, int A, int B, int M)<br>  {<br>    int size = 1;<br>    while (size &lt; n) {<br>      size *= 2;<br>    }<br>    long z = (Z0 % M);<br>    int[] x = new int[size];<br>    for (int i = 0; i &lt; n; ++i) {<br>      x[i] = (int)(z % 100);<br>      z = (z * A + B) % M;<br>    }<br>    int[] y = new int[size];<br>    for (int i = 0; i &lt; n; ++i) {<br>      y[n - i - 1] = (int)(z % 100);<br>      z = (z * A + B) % M;<br>    }<br>    int[] a = mul(x, y);<br>    for (int i = n; i &lt; a.length; ++i) {  <br>      a[i % n] += a[i];<br>    }<br>    int ans = Integer.MIN_VALUE;<br>    for (int i = 0; i &lt; n; ++i) {<br>      ans = Math.max(ans, a[i]);<br>    }<br>    return ans;<br>  }<br>  <br>  int[] mul(int[] a, int[] b) {<br>    if (a.length &lt;= 16) {<br>      int[] r = new int[a.length * 2];<br>      for (int i = 0; i &lt; a.length; ++i) {<br>        for (int j = 0; j &lt; b.length; ++j) {<br>          r[i + j] += a[i] * b[j];<br>        }<br>      }<br>      return r;<br>    }<br>    int n = a.length;<br>    int[] u = new int[n / 2];<br>    int[] v = new int[n / 2];<br>    int[] x = new int[n / 2];<br>    int[] y = new int[n / 2];<br>    System.arraycopy(a, n / 2, u, 0, n / 2);<br>    System.arraycopy(a, 0, v, 0, n / 2);<br>    System.arraycopy(b, n / 2, x, 0, n / 2);<br>    System.arraycopy(b, 0, y, 0, n / 2);<br>    int[] ux = mul(u, x);<br>    int[] vy = mul(v, y);<br>    for (int i = 0; i &lt; n / 2; ++i) {<br>      u[i] += v[i];<br>      x[i] += y[i];<br>    }<br>    int[] uvxy = mul(u, x);<br>    for (int i = 0; i &lt; n; ++i) {<br>      uvxy[i] -= ux[i] + vy[i];<br>    }<br>    int[] r = new int[2 * n];<br>    for (int i = 0; i &lt; n; ++i) {<br>      r[i] += vy[i];<br>      r[i + n / 2] += uvxy[i];<br>      r[i + n] += ux[i];<br>    }<br>    return r;<br>  }<br>  <br> <br>}<br>//Powered by KawigiEdit 2.1.4 (beta) modified by pivanof!<br></td>