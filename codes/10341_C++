<td class="problemText" colspan="8" valign="middle" align="left">
            #include &lt;vector&gt;<br>#include &lt;list&gt;<br>#include &lt;map&gt;<br>#include &lt;set&gt;<br>#include &lt;deque&gt;<br>#include &lt;queue&gt;<br>#include &lt;stack&gt;<br>#include &lt;bitset&gt;<br>#include &lt;algorithm&gt;<br>#include &lt;functional&gt;<br>#include &lt;numeric&gt;<br>#include &lt;utility&gt;<br>#include &lt;sstream&gt;<br>#include &lt;iostream&gt;<br>#include &lt;iomanip&gt;<br>#include &lt;cstdio&gt;<br>#include &lt;cmath&gt;<br>#include &lt;cstdlib&gt;<br>#include &lt;cctype&gt;<br>#include &lt;string&gt;<br>#include &lt;cstring&gt;<br>#include &lt;cstdio&gt;<br>#include &lt;cmath&gt;<br>#include &lt;cstdlib&gt;<br>#include &lt;ctime&gt;<br><br>using namespace std;<br><br>#define SIZE(X) ((int)(X.size()))<br>typedef long long int64;<br>template&lt;class T&gt; inline void checkmax(T &amp;a,T b){if(b&gt;a) a=b;}<br><br>class BestView<br>{<br>public:<br>  vector&lt;int&gt; solve(vector&lt;int&gt; A)<br>  {<br>    vector&lt;int&gt; R(SIZE(A),0);<br>    for (int i=0;i&lt;SIZE(A);i++)<br>    {<br>      int64 x1=0,y1=-1;<br>      for (int k=i+1;k&lt;SIZE(A);k++)<br>      {<br>        int64 x2=k-i,y2=A[k]-A[i];<br>        if (y2*x1&gt;x2*y1)<br>        {<br>          R[i]++;<br>          x1=x2;<br>          y1=y2;<br>        }<br>      }<br>    }<br>    return R;<br>  }<br>  int numberOfBuildings(vector &lt;int&gt; A)<br>  {<br>    vector&lt;int&gt; B=solve(A);<br>    reverse(A.begin(),A.end());<br>    vector&lt;int&gt; C=solve(A);<br>    reverse(C.begin(),C.end());<br>    int R=0;<br>    for (int i=0;i&lt;SIZE(A);i++) checkmax(R,B[i]+C[i]);<br>    return R;<br>  }<br>};<br></td>