<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br><br>public class StrangeCountry {<br>  public int transform(string[] g) {<br>        foreach (string x in g)<br>            if (x.IndexOf('Y') &lt; 0)<br>                return -1;<br>        int cnt = 0;<br>        foreach (string x in g)<br>            foreach (char ch in x)<br>                if (ch == 'Y')<br>                    ++cnt;<br>        cnt /= 2;<br>        if (cnt &lt; g.Length - 1)<br>            return -1;<br>        bool[] was = new bool[g.Length];<br>        int res = -1;<br>        for (int i = 0; i &lt; g.Length; ++i)<br>            if (!was[i])<br>            {<br>                ++res;<br>                dfs(i, was, g);<br>            }<br>        return res;<br>  }<br><br>    private void dfs(int i, bool[] was, string[] g)<br>    {<br>        if (was[i])<br>            return;<br>        was[i] = true;<br>        for (int j = 0; j &lt; g.Length; ++j)<br>            if (g[i][j] == 'Y')<br>                dfs(j, was, g);<br>    }<br><br><br><br>}<br><br><br>// Powered by FileEdit<br>// Powered by TZTester 1.01 [25-Feb-2003] [modified for C# by Petr]<br>// Powered by CodeProcessor<br></td>