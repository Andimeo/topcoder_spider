<td class="problemText" colspan="8" valign="middle" align="left">
            import java.util.*;<br>import java.util.regex.*;<br>import java.text.*;<br>import java.math.*;<br>import java.awt.geom.*;<br> <br>public class TheProduct<br>{<br>  public long maxProduct(int[] numbers, int k, int maxDist)<br>  {<br>    int n = numbers.length;<br>    long [][]dp = new long[ n ][ k ];<br>    long [][]dp2 = new long[ n ][ k ];<br>    long res = Long.MIN_VALUE;<br>    for (int i = 0; i &lt; n; i++)<br>      for (int j = 0; j &lt; k; j++){<br>        dp[ i ][ j ] = res;<br>        dp2[ i ][ j ] = Long.MAX_VALUE;<br>      }<br>    for (int i = 0; i &lt; n; i++)<br>      for (int j = 0; j &lt; k; j++){<br>        if (j &gt; 0){<br>          for (int ii = 1; ii &lt;= maxDist &amp;&amp; i - ii &gt;= 0; ii++){<br>            if (numbers[ i ] &gt; 0){<br>              if (dp[ i - ii ][ j - 1 ] != Long.MIN_VALUE &amp;&amp; dp[ i - ii ][ j - 1 ] * numbers[ i ] &gt; dp[ i ][ j ])<br>                dp[ i ][ j ] = dp[ i - ii ][ j - 1 ] * numbers[ i ];<br>              if (dp2[ i - ii ][ j - 1 ] != Long.MAX_VALUE &amp;&amp; dp2[ i - ii ][ j - 1 ] * numbers[ i ] &lt; dp2[ i ][ j ])<br>                dp2[ i ][ j ] = dp2[ i - ii ][ j - 1 ] * numbers[ i ];<br>            }else{<br>              if (dp2[ i - ii ][ j - 1 ] != Long.MAX_VALUE &amp;&amp; dp2[ i - ii ][ j - 1 ] * numbers[ i ] &gt; dp[ i ][ j ])<br>                dp[ i ][ j ] = dp2[ i - ii ][ j - 1 ] * numbers[ i ];<br>              if (dp[ i - ii ][ j - 1 ] != Long.MIN_VALUE &amp;&amp; dp[ i - ii ][ j - 1 ] * numbers[ i ] &lt; dp2[ i ][ j ])<br>                dp2[ i ][ j ] = dp[ i - ii ][ j - 1 ] * numbers[ i ];<br>            }                                    <br>          }<br>        }else dp[ i ][ j ] = dp2[ i ][ j ] = numbers[ i ];<br>        //System.out.println(i + " " + j + " : " + dp2[ i ][ j ] + " " + dp[i][j]);<br>      }<br>    for (int i = 0; i &lt; n; i++)<br>      if (dp[ i ][ k-1 ] &gt; res) res = dp[ i ][ k - 1 ];<br>    return res;<br>  }<br>  <br>  <br>}<br>//Powered by [KawigiEdit] 2.0!<br></td>