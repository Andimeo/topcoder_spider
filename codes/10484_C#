<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br>using System.Collections;<br>using System.Collections.Generic;<br> <br>public class UnfoldingTriangles<br>{<br>  public int solve (string[] grid, int unfoldLimit)<br>  {<br>    int r = grid.Length;<br>    int c = grid[0].Length;<br> <br>    int max = -1;<br> <br>    for (int i = 0; i &lt; r; ++i)<br>      for (int j = 0; j &lt; c; ++j)<br>    {<br>      int cnt = 0;<br>      int left = unfoldLimit;<br> <br>      for (int q = 0; i - q &gt;= 0 &amp;&amp; j + q &lt; c; ++q)<br>      {<br>        if (grid[i - q][j + q] != '/')<br>          break;<br> <br>        bool ok = true;<br>        for (int w = 0; w &lt; q &amp;&amp; ok; ++w)<br>        {<br>          if (grid[i - w][j + q] == '.')<br>          {<br>            ok = false;<br>            break;<br>          }<br>          if (grid[i - w][j + q] == '/')<br>          {<br>            if (left &gt; 0)<br>              --left;<br>            else<br>            {<br>              ok = false;<br>              break;<br>            }<br>          }<br>        }<br> <br>        if (!ok)<br>          break;<br> <br>        cnt += q + 1;<br> <br>        if (i + 1 &lt; r)<br>          for (int w = 0; w &lt;= q &amp;&amp; ok; ++w)<br>            if (grid[i + 1][j + w] == '#')<br>              ok = false;<br> <br>        if (j + q + 1 &lt; c)<br>          for (int w = 0; w &lt;= q &amp;&amp; ok; ++w)<br>            if (grid[i - w][j + q + 1] == '#')<br>              ok = false;<br> <br>        if (ok)<br>          max = Math.Max (max, cnt);<br>      }<br>    }<br> <br>    return max;<br>  }<br>  <br>  <br> <br>}<br> <br> <br>// Powered by FileEdit<br>// Powered by TZTester 1.01 [25-Feb-2003] [modified for C# by Petr]<br>// Powered by CodeProcessor<br></td>