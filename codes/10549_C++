<td class="problemText" colspan="8" valign="middle" align="left">
            // unfortunately I have no ideas for a good line here<br><br>#include &lt;algorithm&gt;<br>#include &lt;vector&gt;<br>#include &lt;set&gt;<br>using namespace std;<br><br>typedef long long ll;<br><br>#define LS &lt;<br>#define Size(x) (int(x.size()))<br><br>// All macros with parameters "k,a,b" run the "k" variable in range [a,b)<br>#define FOR(k,a,b) for(typeof(a) k=(a); k LS (b); ++k)<br><br>#line 3 "HexagonalBattlefield.cc"<br><br>int RN;<br><br>char mp[20][20];<br><br>#define P (1&lt;&lt;16)<br>#define PRI 2000000011<br><br>int lrow[P], nrow[P];<br><br>void propagate(int set, int qty, int nset) {<br>//printf("prop %d\n", set);<br>  if(set == 0) {<br>    nrow[nset] = (nrow[nset] + ll(qty)) % PRI;<br>    return;<br>    }<br>  int at = 1;<br>  while((set &amp; at) == 0) at &lt;&lt;= 1;<br>  if(!(nset &amp; at)) propagate(set &amp;~ at, qty, nset | at);<br>  propagate(set &amp;~ at, qty, nset | (at&lt;&lt;1));<br>  int at2 = 3*at;<br>  if((set &amp; at2) == at2) propagate(set &amp;~ at2, qty, nset);<br>  }<br><br>class HexagonalBattlefield {<br>  public:<br>  int countArrangements(vector &lt;int&gt; X, vector &lt;int&gt; Y, int N) {<br>    // !FDI<br>    RN = 2*N-1;<br>    <br>    FOR(k,0,RN) FOR(l,0,RN) <br>      if(k &gt;= l + N || l &gt;= k + N) mp[k][l] = '#';<br>      else mp[k][l] = '.';<br>    <br>    FOR(u,0,Size(X)) mp[X[u]+N-1][Y[u]+N-1] = '#';<br><br>    FOR(y,0,RN) { FOR(x,0,RN) printf("%c", mp[y][x]); printf("\n"); }<br>    <br>    FOR(k,0,1&lt;&lt;RN) lrow[k] = nrow[k] = 0; lrow[0] = 1;<br>    <br>    FOR(row,0,RN) {<br>      int mask = 0;<br>      FOR(q,0,RN) if(mp[q][row] == '#') mask |= (1&lt;&lt;q);<br>      <br>      FOR(hi,0,1&lt;&lt;RN) {<br>        if(hi &amp; mask) continue;<br>        propagate(((1&lt;&lt;RN)-1)^mask^hi, lrow[hi], 0);<br>        }<br>      <br>      FOR(k,0,1&lt;&lt;RN) lrow[k] = nrow[k], nrow[k] = 0;<br>      // return 0;<br>      }<br>    <br>    return lrow[0];<br>    }<br>  };<br><br><br><br><br>// Powered by FileEdit<br>// Powered by TZTester 1.01 [25-Feb-2003]<br>// Powered by CodeProcessor<br></td>