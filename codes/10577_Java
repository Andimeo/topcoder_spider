<td class="problemText" colspan="8" valign="middle" align="left">
            import java.util.*;<br>import java.util.regex.*;<br>import java.text.*;<br>import java.math.*;<br> <br> <br> <br> <br>public class KnightsTour<br>{<br> <br>int[][] a;<br>int[] dx = {-2, -2, -1, -1, 1, 1, 2, 2};<br>int[] dy = {1, -1, 2, -2, 2, -2, 1, -1};<br> <br>public int calacc(int ii,int jj)<br>{<br>int res = 0;<br>for (int i=0; i&lt;8; i++)<br>  {<br>    int iii = ii+dx[i];<br>    int jjj = jj+dy[i];<br>    if (iii&lt;0) continue;<br>    if (jjj&lt;0) continue;<br>    if (iii&gt;7) continue;<br>    if (jjj&gt;7) continue;<br>    if (a[iii][jjj]==0) res++;<br>  }  <br>return res;<br> <br>}<br> <br>  public int visitedPositions(String[] board)<br>  {<br>a = new int[8][8];<br>int ii=0;<br>int jj=0;<br> <br>for (int i=0; i&lt;8; i++)<br>  for (int j=0; j&lt;8; j++)<br>    {<br>      char c = board[i].charAt(j);<br>      if (c=='*') a[i][j]=-1; else a[i][j] = 0;<br>      if (c=='K') { ii=i; jj=j; a[i][j]=-1;}<br>    }<br>int ans = 1;<br> <br> <br> <br>while (1==1) {<br>int besti = 100;<br>int bestj = 100;<br>int besta = 100;<br>int f = 0;<br>for (int i=0; i&lt;8; i++)<br>{<br>int iii = ii+dx[i];<br>int jjj = jj+dy[i];<br>    if (iii&lt;0) continue;<br>    if (jjj&lt;0) continue;<br>    if (iii&gt;7) continue;<br>    if (jjj&gt;7) continue;<br>    <br>    if (a[ii+dx[i]][jj+dy[i]]==0)<br>    {<br>      f = 1;<br>      int acc = calacc(ii+dx[i],jj+dy[i]);<br>      if (acc&lt;besta)<br>        {<br>          besti = ii+dx[i];<br>          bestj = jj+dy[i];<br>          besta = acc;<br>        }<br>      else if (acc==besta)<br>        {<br>          if ((ii+dx[i])&lt;besti)<br>            {<br>              besti = ii+dx[i];<br>              bestj = jj+dy[i];<br>              besta = acc;<br>            }<br>          else<br>            if ( ((ii+dx[i])==besti) &amp;&amp; ((jj+dy[i])&lt;bestj))<br>            {<br>              besti = ii+dx[i];<br>              bestj = jj+dy[i];<br>              besta = acc;<br>            }<br>        }<br>    }<br>}<br>ans+=f;<br>if (f==0) break;<br>ii = besti;<br>jj = bestj;<br>a[ii][jj] = -1;<br> <br>}<br> <br>    return ans;    <br>  }<br>  <br> <br>}<br>//Powered by KawigiEdit 2.1.4 (beta) modified by pivanof!<br></td>