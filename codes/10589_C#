<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br>using System.Collections;<br>using System.Collections.Generic;<br><br>public class AgeEncoding {<br>    public double getRadix(int age, string candlesLine) {<br><br>        double minbase = 0;<br>        double maxbase = 100;<br>        if (calc(candlesLine, 1) == age &amp;&amp; calc(candlesLine, 2) == age) return -2;<br>        if (age == 1 &amp;&amp; calc(candlesLine, 0) == 1 &amp;&amp; calc(candlesLine,1)!=1) return -1;<br>        double ret = 0;<br>        for (int i = 0; i &lt; 100; i++) {<br>            double b = (maxbase+minbase)/2;<br>            ret = calc(candlesLine, b);<br>            if (ret &gt; age) {<br>                maxbase = b;<br>            } else {<br>                minbase = b;<br>            }<br>        }<br>        if (Math.Abs(ret - age) &lt; 1e-9) return maxbase;<br>        return -1;<br>    }<br><br>    private double calc(string candles, double b) {<br>        double ret = 0;<br>        double mult = 1;<br>        for (int i = candles.Length - 1; i &gt;= 0; i--) {<br>            if (candles[i] == '1') ret += mult;<br>            mult *= b;<br>        }<br>        return ret;<br>    }<br>}<br></td>