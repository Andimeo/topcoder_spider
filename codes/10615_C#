<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br>using System.Collections;<br>using System.Collections.Generic;<br>using System.Collections.Specialized;<br>using System.Text;<br>using System.Text.RegularExpressions;<br> <br>public class TheBlackJackDivOne<br>{<br>  string ranks = "23456789TJQKA";<br>  int[] values = { 2, 3, 4, 5, 6, 7, 8, 9, 10, 10, 10, 10, 11 };<br> <br>  public double expected(string[] cards)<br>  {<br>    int[] used = new int[13];<br>    int current = 0;<br>    foreach (string card in cards)<br>    {<br>      int r = ranks.IndexOf(card[0]);<br>      current += values[r];<br>      used[r]++;<br>    }<br>    return doit(current, used);<br>  }<br>  <br>  double doit(int c, int[] u)<br>  {<br>    if (c &gt;= 21) return 0;<br>    int n = 0;<br>    double r = 0;<br>    for (int i = 0; i &lt; u.Length; i++)<br>    {<br>      if (u[i] &gt;= 4) continue;<br>      int t = 4 - u[i];<br>      u[i]++;<br>      r += t * (1 + doit(c + values[i], u));<br>      n += t;<br>      u[i]--;<br>    }<br>    return r / n;<br>  }<br> <br> <br>}<br>//Powered by [KawigiEdit] 2.0!<br></td>