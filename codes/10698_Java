<td class="problemText" colspan="8" valign="middle" align="left">
            public class ProductTriplet {<br>    public long countTriplets(int minx, int maxx, int miny, int maxy, int minz, int maxz) {<br>        long s1 = solutionsCount(minx, maxx, miny, maxy, minz, maxz);<br>        long s2 = solutionsCount(miny, maxy, minx, maxx, minz, maxz);<br><br>        int squaresCount = 0;<br>        if (maxx &gt;= miny &amp;&amp; minx &lt;= maxy) {<br>            int min = Math.max(minx, miny);<br>            int max = Math.min(maxx, maxy);<br><br>            for (int i = (int) Math.sqrt(minz); i &lt;= Math.sqrt(maxz); i++) {<br>                if (i &gt;= minx &amp;&amp; i &lt;= maxx &amp;&amp; i &gt;= miny &amp;&amp; i &lt;= maxy)<br>                if (i * i &gt;= minz &amp;&amp; i * i &lt;= maxz) {<br>                    squaresCount++;<br>                }<br>            }<br>        }<br><br>        return s1 + s2 + squaresCount;<br>    }<br><br>    public long solutionsCount(long minx, long maxx, long miny, long maxy, long minz, long maxz) {<br>        long count = 0l;<br>        // x &lt; y<br>        long x1 = minx;<br>        long x2 = (long) Math.sqrt(maxz);<br>        if (x2 &gt; maxx) {<br>            x2 = maxx;<br>        }<br>        if (x1 &gt; x2) {<br>            // no sol<br>        } else {<br>            for (long x = x1; x &lt;= x2; x++) {<br>                long solutions = 0;<br>                long y1 = minz / x;<br>                long y2 = maxz / x;<br>                if (y1 &lt;= x) {<br>                    y1 = x + 1;<br>                }<br>                if (y1 &lt; miny) {<br>                    y1 = miny;<br>                }<br>                if (y2 &gt; maxy) {<br>                    y2 = maxy;<br>                }<br>                if (y1 &gt; y2) {<br>                    // no sol<br>                } else if (y1 == y2) {<br>                    if (y1 * x &gt;= minz &amp;&amp; y1 * x &lt;= maxz) {<br>                        solutions = 1;<br>                    } else {<br>                        solutions = 0;<br>                    }<br>                } else {<br>                    solutions = y2 - y1 + 1;<br>                    if (y1 * x &lt; minz) {<br>                        solutions--;<br>                    }<br>                    if (y2 * x &gt; maxz) {<br>                        solutions--;<br>                    }<br>                }<br>                count += solutions;<br>            }<br>        }<br>        return count;<br>    }<br><br>}<br><br><br>// Powered by FileEdit<br>// Powered by CodeProcessor<br></td>