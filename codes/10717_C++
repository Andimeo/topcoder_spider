<td class="problemText" colspan="8" valign="middle" align="left">
            #line 5 "DonutsOnTheGrid.cpp"<br>#include &lt;cstdlib&gt;<br>#include &lt;cctype&gt;<br>#include &lt;cstring&gt;<br>#include &lt;cstdio&gt;<br>#include &lt;cmath&gt;<br>#include &lt;algorithm&gt;<br>#include &lt;vector&gt;<br>#include &lt;string&gt;<br>#include &lt;iostream&gt;<br>#include &lt;sstream&gt;<br>#include &lt;map&gt;<br>#include &lt;set&gt;<br>#include &lt;queue&gt;<br>#include &lt;stack&gt;<br>#include &lt;numeric&gt;<br>#include &lt;bitset&gt;<br>#include &lt;list&gt;<br>#include &lt;functional&gt;<br>#include &lt;utility&gt;<br>#include &lt;ctime&gt;<br>using namespace std;<br> <br>int mat[400][400], sumx[400][400], sumy[400][400];<br>struct DonutsOnTheGrid {<br>    long long calc(int n, int m, int seed, int threshold)<br>    {<br>        int x0 = seed;<br>        for (int i=1; i&lt;=n; ++i)<br>            for (int j=1; j&lt;=m; ++j) {<br>                x0 = (x0*25173 + 13849) % 65536;<br>                mat[i][j] = x0 &gt;= threshold ? 1 : 0;<br>            }<br>        for (int i=1; i&lt;=n; ++i) {<br>            sumx[i][0] = 0;<br>            for (int j=1; j&lt;=m; ++j)<br>                sumx[i][j] = sumx[i][j-1] + mat[i][j];<br>        }<br>        for (int i=1; i&lt;=m; ++i) {<br>            sumy[0][i] = 0;<br>            for (int j=1; j&lt;=n; ++j)<br>                sumy[j][i] = sumy[j-1][i] + mat[j][i];<br>        }<br>        long long ans = 0;<br>        for (int i=1; i&lt;=n; ++i)<br>            for (int j=i+2; j&lt;=n; ++j) {<br>                int que[400], h=1, t=0;<br>                for (int k=1; k&lt;=m; ++k)<br>                    if (sumy[j][k] - sumy[i-1][k] == 0) {<br>                        que[++t] = k;<br>                        while (h&lt;=t &amp;&amp; (sumx[i][k]-sumx[i][que[h]-1]&gt;0 || sumx[j][k]-sumx[j][que[h]-1]&gt;0)) ++h;<br>                        if (h&lt;t) ans += t-h-(que[t-1]==k-1);<br>                    }<br>            }<br>        return ans;<br>    }<br> <br>    <br> <br>};<br> <br> <br> <br>// Powered by FileEdit<br>// Powered by TZTester 1.01 [25-Feb-2003]<br>// Powered by CodeProcessor<br></td>