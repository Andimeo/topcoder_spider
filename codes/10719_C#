<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br>using System.Collections;<br>using System.Collections.Generic;<br>using System.Collections.Specialized;<br>using System.Text;<br>using System.Text.RegularExpressions;<br> <br> <br>public class DonutsOnTheGridEasy<br>{<br>    int[, , ,] d;<br>    private int[,] sum;<br>    private int m;<br>    private int n;<br> <br>    public int calc(string[] grid)<br>  {<br>      m = grid.Length;<br>      n = grid[0].Length;<br>        d = new int[m,n,m,n];<br>        sum = new int[m+1,n+1];<br>        for (int i = 0; i &lt; m; i++)<br>            for (int j = 0; j &lt; n; j++)<br>                if (grid[i][j] == '0')<br>                    sum[i + 1, j + 1] = sum[i, j + 1] + sum[i + 1, j] - sum[i, j] + 1;<br>                else<br>                {<br>                    sum[i + 1, j + 1] = sum[i, j + 1] + sum[i + 1, j] - sum[i, j];<br>                }<br>        return find(0, 0, m - 1, n - 1);<br>  }<br> <br>    private int find(int x1, int y1, int x2, int y2)<br>    {<br>        if (x2 - x1 &lt; 2 || y2 - y1 &lt; 2) return 0;<br>        if (d[x1, y1, x2, y2] &gt; 0) return d[x1, y1, x2, y2] - 1;<br>        int ans = 0;<br>        if (isdonut(x1,y1,x2,y2))<br>        {<br>            ans = find(x1 + 1, y1 + 1, x2 - 1, y2 - 1) + 1;<br>        }<br>        ans = Math.Max(ans, find(x1 + 1, y1, x2, y2));<br>        ans = Math.Max(ans, find(x1, y1+1, x2, y2));<br>        ans = Math.Max(ans, find(x1, y1, x2-1, y2));<br>        ans = Math.Max(ans, find(x1, y1, x2, y2-1));<br>        d[x1, y1, x2, y2] = ans + 1;<br>        return ans;<br>    }<br> <br>    private bool isdonut(int x1, int y1, int x2, int y2)<br>    {<br>        if(x2-x1 &lt; 2) return false;<br>        if (y2 - y1 &lt; 2) return false;<br>        int a = sum[x2+1, y2+1] - sum[x1, y2+1] - sum[x2+1, y1] + sum[x1, y1];<br>        int b = sum[x2, y2] - sum[x1 + 1, y2] - sum[x2, y1 + 1] + sum[x1 + 1, y1 + 1];<br>        if (a-b == (y2-y1+1)*2+(x2-x1-1)*2) return true;<br>        return false;<br>    }<br> <br> <br>}<br>//Powered by KawigiEdit 2.1.4 (beta) modified by pivanof!<br></td>