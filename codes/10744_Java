<td class="problemText" colspan="8" valign="middle" align="left">
            import java.util.*;<br> <br>public class CandyBox {<br>  public double[] expectedScore(int C, int[] score, int S) {<br>    double[] a = new double[score.length];<br>    for (int i = 0; i &lt; a.length; i++) {<br>      a[i] = score[i]; <br>    }<br>    <br>    long tot = C*score.length;<br>    long all = tot*(tot-1) / 2;<br>    long dif = C * (tot - C);<br>    double p = (double) dif / all;<br>    debug(p, dif, all);<br>    for (int time = 0; time &lt; S; time++) {<br>      double [] b = calc(p, C, a);<br>      for (int i = 0; i &lt; b.length; i++) {<br>        a[i] = b[i]; <br>      }<br>    }<br>    <br>    return a;<br>  }<br>  private double[] calc(double p, int each, double[] a) {<br>    double sum = 0;<br>    for (int i = 0; i &lt; a.length; i++) {<br>      sum += a[i];<br>    }<br>    double[] res = new double[a.length];<br>    for (int i = 0; i &lt; res.length; i++) {<br>      res[i] += (1-p) * a[i];<br>      double k = sum - a[i];<br>      if (res.length &gt; 1) k /= (res.length - 1);<br>      res[i] += p * (a[i] * (each - 1) + k) / each;<br>    }<br>    return res;<br>  }<br>  static void debug(Object...os) {<br>    System.out.println(Arrays.deepToString(os));<br>  }<br> <br>}<br>//Powered by KawigiEdit 2.1.8 (beta) modified by pivanof!<br></td>