<td class="problemText" colspan="8" valign="middle" align="left">
            #include &lt;vector&gt;<br>#include &lt;list&gt;<br>#include &lt;map&gt;<br>#include &lt;set&gt;<br>#include &lt;deque&gt;<br>#include &lt;stack&gt;<br>#include &lt;bitset&gt;<br>#include &lt;algorithm&gt;<br>#include &lt;functional&gt;<br>#include &lt;numeric&gt;<br>#include &lt;utility&gt;<br>#include &lt;sstream&gt;<br>#include &lt;iostream&gt;<br>#include &lt;iomanip&gt;<br>#include &lt;cstdio&gt;<br>#include &lt;cmath&gt;<br>#include &lt;cstdlib&gt;<br>#include &lt;ctime&gt;<br> <br>using namespace std;<br> <br>class TheLuckyNumbersLevelThree {<br>public:<br>  vector &lt;long long&gt; find(long long, long long);<br>};<br> <br>long long f[20][4][7][2][2];<br>long long s[20][4][7][2][2][10];<br> <br>vector &lt;long long&gt; TheLuckyNumbersLevelThree::find(long long a, long long b) {<br>  int i;<br>  if (a &gt; 1) {<br>    vector &lt;long long&gt; ret = find(1,b), ret2 = find(1,a-1);<br>    for (i=0;i&lt;10;i++) ret[i] -= ret2[i];<br>    return ret;<br>  }<br>  vector &lt;long long&gt; ret;<br>  ret.clear();<br>  for (i=0;i&lt;10;i++) ret.push_back(0);<br>  if (b &lt; 4) return ret;<br>  int kd, d[50];<br>  kd = 0;<br>  while (b) {<br>    d[kd++] = b % 10;<br>    b /= 10;<br>  }<br>  memset(f,0,sizeof(f));<br>  memset(s,0,sizeof(s));<br>  f[kd][0][0][0][1] = 1;<br>  int j4, j7, p, rg, n4, n7, np, c, q, w, nw;<br>  for (i=kd;i&gt;0;i--)<br>    for (j4=0;j4&lt;4;j4++)<br>      for (j7=0;j7&lt;7;j7++)<br>        for (w=0;w&lt;2;w++)<br>          for (p=0;p&lt;2;p++)<br>            if (f[i][j4][j7][w][p]) {<br>              if (p == 1) rg = d[i-1];<br>              else rg = 9;<br>              for (c=0;c&lt;=rg;c++) {<br>                n4 = (j4*10+c) % 4;<br>                n7 = (j7*10+c) % 7;<br>                np = p &amp; (c == rg);<br>                nw = w | (c &gt; 0);<br>                f[i-1][n4][n7][nw][np] += f[i][j4][j7][w][p];<br>                for (q=0;q&lt;10;q++) s[i-1][n4][n7][nw][np][q] += s[i][j4][j7][w][p][q];<br>                if (nw) s[i-1][n4][n7][nw][np][c] += f[i][j4][j7][w][p];<br>              }<br>            }<br>  for (j4=0;j4&lt;4;j4++)<br>    for (j7=0;j7&lt;7;j7++)<br>      if (!j4 || !j7)<br>        for (w=0;w&lt;2;w++)<br>          for (p=0;p&lt;2;p++)<br>            for (q=0;q&lt;10;q++) ret[q] += s[0][j4][j7][w][p][q];<br>  return ret;<br>}<br> <br> <br>//Powered by [KawigiEdit] 2.0!<br></td>