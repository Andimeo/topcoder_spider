<td class="problemText" colspan="8" valign="middle" align="left">
            public class RightTriangle {<br> <br>  boolean[] red;<br> <br>  public long triangleCount(int places, int points, int a, int b, int c) {<br>    if (places % 2 != 0) return 0;<br>    red = new boolean[places];<br>    int[] cum = new int[places];<br>    int cur = 0;<br>    for (long i = 0; i &lt; points; ++i) {<br>      cum[(int) ((a * i * i + b * i + c) % places)]++;<br>    }<br>    int count = 0;<br>    for (int i = 0; i &lt; places; ++i) {<br>      count += cum[i];<br>      if (count &gt; 0) {<br>        --count;<br>        red[i] = true;<br>      }<br>    }<br>    for (int i = 0; i &lt; places; ++i) {<br>      if (count &gt; 0 &amp;&amp; !red[i]) {<br>        --count;<br>        red[i] = true;<br>      }<br>    }<br>    long ans = 0;<br>    for (int i = 0; i &lt; places / 2; ++i) {<br>      if (!red[i] || !red[i + places / 2]) continue;<br>      ans += points - 2;<br>    }<br> <br>    return ans;<br>  }<br> <br>}<br></td>