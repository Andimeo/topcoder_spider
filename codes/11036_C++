<td class="problemText" colspan="8" valign="middle" align="left">
            #include &lt;vector&gt;<br>using namespace std;<br> <br>class EllysPairing {<br>public: int getMax(int M, vector&lt;int&gt; count, vector&lt;int&gt; first, vector&lt;int&gt; mult, vector&lt;int&gt; add) {<br>  int s = count.size();<br>  unsigned int bst = 0;<br>  int cnt = 0;<br>  for(int i = 0; i &lt; s; ++i) {<br>    unsigned int cur = first[i];<br>    for(int j = 0; j &lt; count[i]; ++j) {<br>      if (cnt == 0) bst = cur;<br>      if (cur == bst) ++cnt;<br>      else --cnt;<br>      cur *= mult[i];<br>      cur += add[i];<br>      cur &amp;= M - 1;<br>    }<br>  }<br>  cnt = 0;<br>  int tot = 0;<br>  for(int i = 0; i &lt; s; ++i) {<br>    unsigned int cur = first[i];<br>    for(int j = 0; j &lt; count[i]; ++j) {<br>      ++tot;<br>      if (cur == bst) ++cnt;<br>      cur *= mult[i];<br>      cur += add[i];<br>      cur &amp;= M - 1;<br>    }<br>  }<br>  <br>  int lft = tot - cnt;<br>  if (lft &lt; cnt) return lft;<br>  else return tot / 2;<br>      <br>}<br>};<br></td>