<td class="problemText" colspan="8" valign="middle" align="left">
            #include &lt;iostream&gt;<br>#include &lt;sstream&gt;<br>#include &lt;string&gt;<br>#include &lt;vector&gt;<br>#include &lt;deque&gt;<br>#include &lt;queue&gt;<br>#include &lt;set&gt;<br>#include &lt;map&gt;<br>#include &lt;algorithm&gt;<br>#include &lt;functional&gt;<br>#include &lt;utility&gt;<br>#include &lt;cmath&gt;<br>#include &lt;cstdlib&gt;<br>#include &lt;ctime&gt;<br><br>using namespace std;<br><br>#define REP(i,n) for((i)=0;(i)&lt;(int)(n);(i)++)<br><br>typedef long long ll;<br>#define MOD 1000000007ll<br><br>#define M 77<br><br>ll C[100][100];<br>ll dp[30][100][100]; // pos, max, sum<br>ll dp2[30][100][100]; // pos, maxsum, sum<br><br>class CubeBuilding{<br>  public:<br>  <br>  ll func(int S, int front, int R, int G){<br>    if(R &lt; front) return 0;<br>    R -= front; S -= front;<br>    return C[S][R] * C[S-R][G] % MOD;<br>  }<br><br>  int getCount(int R, int G, int B, int N){<br>    int i,j,k,l,m;<br>    <br>    REP(i,100) REP(j,i+1){<br>      if(j == 0 || j == i) C[i][j] = 1;<br>      else C[i][j] = (C[i-1][j-1] + C[i-1][j]) % MOD;<br>    }<br>    <br>    dp[0][0][0] = 1;<br>    REP(i,N) REP(j,M+1) REP(k,M+1) if(dp[i][j][k] &gt; 0) REP(l,M+1) if(k+l &lt;= M){<br>      dp[i+1][max(j,l)][k+l] = (dp[i+1][max(j,l)][k+l] + dp[i][j][k]) % MOD;<br>    }<br>    <br>    dp2[0][0][0] = 1;<br>    REP(i,N) REP(j,M+1) REP(k,M+1) if(dp2[i][j][k] &gt; 0) REP(l,M-j+1) REP(m,M-k+1) if(dp[N][l][m] &gt; 0){<br>      dp2[i+1][j+l][k+m] = (dp2[i+1][j+l][k+m] + dp2[i][j][k] * dp[N][l][m]) % MOD;<br>    }<br>    <br>    int S = R+G+B;<br>    ll ans = 0;<br>    REP(i,S+1) if(dp2[N][i][S] &gt; 0){<br>      ll tmp = (func(S,i,R,G) + func(S,i,G,B) + func(S,i,B,R)) % MOD;<br>      ans = (ans + tmp * dp2[N][i][S]) % MOD;<br>    }<br>    <br>    return (int)ans;<br>  }<br><br>};<br><br><br>// Powered by FileEdit<br>// Powered by TZTester 1.01 [25-Feb-2003]<br>// Powered by CodeProcessor<br></td>