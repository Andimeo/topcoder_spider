<td class="problemText" colspan="8" valign="middle" align="left">
            //  SRM 494 (B)<br><br>#include &lt;cstdio&gt;<br>#include &lt;cstdlib&gt;<br>#include &lt;cstring&gt;<br>#include &lt;cmath&gt;<br>#include &lt;cassert&gt;<br>#include &lt;iostream&gt;<br>#include &lt;sstream&gt;<br>#include &lt;string&gt;<br>#include &lt;vector&gt;<br>#include &lt;queue&gt;<br>#include &lt;set&gt;<br>#include &lt;map&gt;<br>#include &lt;utility&gt;<br>#include &lt;numeric&gt;<br>#include &lt;algorithm&gt;<br>#include &lt;bitset&gt;<br>#include &lt;complex&gt;<br><br>using namespace std;<br><br>typedef unsigned uint;<br>typedef long long Int;<br>typedef vector&lt;int&gt; vint;<br>typedef vector&lt;string&gt; vstr;<br>typedef pair&lt;int,int&gt; pint;<br>#define mp make_pair<br><br>template&lt;class T&gt; void pv(T a, T b) { for (T i = a; i != b; ++i) cout &lt;&lt; *i &lt;&lt; " "; cout &lt;&lt; endl; }<br><br>int N;<br><br>struct AlternatingLane {<br>  <br>  double calc(int a, int b, int c, int d) {<br>    int i;<br>    double ret = 0.0;<br>    for (i = a; i &lt;= b; ++i) {<br>      if (i &lt;= c) {<br>        ret += ((c - i) + (d - i)) / 2.0;<br>      } else if (c &lt; i &amp;&amp; i &lt; d) {<br>        double p = (i - c + 1) / (double)(d - c + 1);<br>        ret -= (c - i) / 2.0 * p;<br>        ret += (d - i + 1) / 2.0 * (1 - p);<br>      } else if (d &lt;= i) {<br>        ret -= ((c - i) + (d - i)) / 2.0;<br>      } else {<br>        assert(0);<br>      }<br>    }<br>    ret /= (b - a + 1);<br>//cout&lt;&lt;a&lt;&lt;" "&lt;&lt;b&lt;&lt;" "&lt;&lt;c&lt;&lt;" "&lt;&lt;d&lt;&lt;" : "&lt;&lt;ret&lt;&lt;endl;<br>    return ret;<br>  }<br>  <br>  double expectedBeauty(vector &lt;int&gt; low, vector &lt;int&gt; high) {<br>    int i;<br>    double ans = 0.0;<br>    <br>    N = low.size();<br>    for (i = 0; i &lt; N - 1; ++i) {<br>      ans += calc(low[i], high[i], low[i + 1], high[i + 1]);<br>    }<br>    return ans;<br>    <br>  }<br>  <br>};<br></td>