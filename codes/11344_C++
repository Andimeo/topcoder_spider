<td class="problemText" colspan="8" valign="middle" align="left">
            #include &lt;stdio.h&gt;<br>#include &lt;math.h&gt;<br>#include &lt;vector&gt;<br>#include &lt;string&gt;<br>#include &lt;algorithm&gt;<br>#include &lt;map&gt;<br>#include &lt;set&gt;<br>#include &lt;queue&gt;<br>#include &lt;iostream&gt;<br>#include &lt;sstream&gt;<br>using namespace std;<br> <br>class FractalPicture<br>{<br>  public:<br>  double len(int n, int x, int y, int dist, int x1, int y1, int x2, int y2) {<br>    if (dist &gt; 1) {<br>      int seg = dist/3;<br>      int final = seg * 2;<br>      double res = 0.0;<br>      if (x1&lt;=x &amp;&amp; x&lt;=x2) {<br>        int start = max(y, y1);<br>        int finish = min(y+final, y2);<br>        res += max(0, finish-start);<br>      }<br>      res += len(n+1, x, y+final, seg, x1, y1, x2, y2);<br>      res += len(n+1, y+final, x, seg, y1, x1, y2, x2);<br>      res += len(n+1, y+final, -x, seg, y1, -x2, y2, -x1);<br>      return res;<br>    }<br>    printf("%d %d %d %d %d %d %d %d\n", n, x, y, dist, x1, y1, x2, y2);<br>    if (x&lt;x1 || x&gt;x2) return 0.0;<br>    if (y&gt;=y1 &amp;&amp; y+1&lt;=y2) {<br>      if (x==x1 || x==x2) return 1.0+1/3.0*(500-n);<br>      return 1.0+2/3.0*(500-n);<br>    }<br>    return 0.0;<br>  }<br>  <br>  double getLength(int x1, int y1, int x2, int y2)<br>  {<br>    return len(1, 0, 0, 81, x1, y1, x2, y2);<br>  };<br>};<br></td>