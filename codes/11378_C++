<td class="problemText" colspan="8" valign="middle" align="left">
            #include &lt;string&gt;<br>#include &lt;vector&gt;<br>#include &lt;map&gt;<br>#include &lt;set&gt;<br>#include &lt;algorithm&gt;<br>#include &lt;cmath&gt;<br>#include &lt;queue&gt;<br>#include &lt;cstdio&gt;<br>#include &lt;sstream&gt;<br>#include &lt;iostream&gt;<br>using namespace std;<br> <br>#define FORE(a,b) for(typeof((b).begin()) a=(b).begin();a!=(b).end();++a)<br>#define REP(i,a) for(int i=0;i&lt;(a);++i)<br> <br>vector&lt;int&gt; tokenize(string s,char znak='.')<br>{<br> s+=znak;<br> int i,j; vector&lt;int&gt; w;<br> for(i=j=0;i&lt;s.size();i++) if(s[i]==znak &amp;&amp; i&gt;j)<br> {<br>   int x;<br>   if(s.substr(j,i-j) == "*") x=-1;<br>   else { sscanf(s.substr(j,i-j).c_str(), "%d", &amp;x); }<br>  w.push_back(x);<br>  j=i+1;<br> }<br> return w;<br>}<br> <br>class IPv444 <br>{<br>  public:<br>  long long go(int i, vector&lt;vector&lt;int&gt; &gt; t) {<br>    if(i==4) {<br>      int m = 0;<br>      FORE(it, t) m = max(m, (*it)[4]);<br>      return m;<br>    }<br>    set&lt;int&gt; s;<br>    FORE(it, t) s.insert((*it)[i]);<br>    s.insert(-1);<br>    long long ret = 0;<br>    FORE(x, s) {<br>      vector&lt;vector&lt;int&gt; &gt; tt;<br>      FORE(it, t) if((*it)[i] == -1 || (*it)[i] == *x) tt.push_back(*it);<br>      if(*x == -1)<br>        ret += go(i+1, tt) * (1001 - s.size());<br>      else<br>        ret += go(i+1, tt);<br>    }<br>    return ret;<br>  }<br>  long long getMaximumMoney(vector &lt;string&gt; s, vector &lt;int&gt; price) <br>  {<br>    int n = price.size();<br>    vector&lt;vector&lt;int&gt; &gt; t(n);<br>    REP(i,n) {<br>      t[i] = tokenize(s[i]);<br>      t[i].push_back(price[i]);<br>    }<br>    return go(0, t);<br>  }<br>  <br>};<br> <br>// Powered by PopsEdit<br>// Powered by TZTester 1.01 [25-Feb-2003]<br>// Powered by CodeProcessor<br></td>