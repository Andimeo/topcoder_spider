<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br>using System.Collections;<br>using System.Collections.Generic;<br>using System.Collections.Specialized;<br>using System.Text;<br>using System.Text.RegularExpressions;<br> <br>public class ComplementMachine2D<br>{<br>  public int largestSubmatrix(string[] matrix)<br>  {<br>        int n = matrix.Length;<br>        int m = matrix[0].Length;<br>        int largest = Math.Max(n, m);<br>        for (int left = 0; left &lt; m; ++left)<br>            for (int right = left; right &lt; m; ++right)<br>            {<br>                int width = right - left + 1;<br>                int height = 1;<br>                for (int i = 1; i &lt; n; ++i)<br>                {<br>                    bool ok = true;<br>                    for (int j = left + 1; j &lt;= right; ++j)<br>                        if ((matrix[i][j] == matrix[i][j - 1]) != (matrix[i - 1][j] == matrix[i - 1][j - 1]))<br>                        {<br>                            ok = false;<br>                            break;<br>                        }<br>                    if (ok)<br>                    {<br>                        ++height;<br>                        largest = Math.Max(largest, height * width);<br>                    }<br>                    else<br>                        height = 1;<br>                }<br>            }<br>        return largest;<br>  }<br>}<br></td>