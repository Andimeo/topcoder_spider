<td class="problemText" colspan="8" valign="middle" align="left">
            import java.util.*;<br>public class ComplementMachine2D {<br>    public int largestSubmatrix(String[] matrix) {<br>      long[] masks = new long[matrix.length];<br>      for(int i = 0; i&lt;matrix.length; i++) {<br>        long x = 0;<br>        for(int j = 0; j&lt;matrix[0].length(); j++) {<br>          if (matrix[i].charAt(j)=='1') {<br>            x += 1L&lt;&lt;j;<br>          }<br>        }<br>        masks[i] = x;<br>      }<br>        int res = 0;<br>        int M = matrix.length;<br>        int N = matrix[0].length();<br>        for(int i1 = 0; i1&lt;N; i1++) {<br>          for(int i2 = i1+1; i2&lt;=N; i2++) {<br>            long mm = (1L&lt;&lt;i2) - (1L&lt;&lt;i1);<br>            int lastj = 0;<br>            long lm = masks[0] &amp; mm;<br>            for(int j = 1; j&lt;M; j++) {<br>              long m = masks[j] &amp; mm;<br>              if (m!=lm &amp;&amp; (m!=(lm^mm))) {<br>                int ar = (i2-i1) * (j-lastj);<br>                if (ar&gt;res) res = ar;<br>                lastj = j;<br>                lm = m;<br>              }<br>            }<br>        int ar = (i2-i1) * (M-lastj);<br>        if (ar&gt;res) res = ar;            <br>          }<br>        }<br>        return res;<br>    }<br> <br>}<br> <br> <br>// Powered by FileEdit<br>// Powered by CodeProcessor<br></td>