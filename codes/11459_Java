<td class="problemText" colspan="8" valign="middle" align="left">
            import java.util.*;<br>import java.util.regex.*;<br>import java.text.*;<br>import java.math.*;<br> <br> <br>public class RowOfColors<br>{<br>  long mod = 1000000007;<br>  <br>  public int countWays(int w, int h, int k)<br>  {<br>    long[] fact = new long[301];<br>    for (int i = 0; i &lt; fact.length; ++i) {<br>      fact[i] = i == 0 ? 1 : (fact[i - 1] * i) % mod;<br>    }<br>    long[][][] d = new long[w + 1][][];<br>    d[0] = new long[h + 1][k + 1];<br>    d[0][0][0] = 1;<br>    for (int i = 0; i &lt; w; ++i) {<br>      d[i + 1] = new long[h + 1][k + 1];<br>      for (int j = 0; j &lt;= h; ++j) {<br>        for (int t = 0; t &lt;= k; ++t) {<br>          if (d[i][j][t] == 0 || j + t &gt; k || i + j &gt; w) {<br>            continue;<br>          }<br>          if (j &lt; h &amp;&amp; j + t &lt; k) {<br>            d[i + 1][j + 1][t] = (d[i + 1][j + 1][t] + d[i][j][t]) % mod;<br>            d[i + 1][j][t + 1] = (d[i + 1][j][t + 1] + d[i][j][t]) % mod;<br>          }<br>          if (j &gt; 0) {<br>            d[i + 1][j][t] = (d[i + 1][j][t] + d[i][j][t]) % mod;<br>            d[i + 1][j - 1][t + 1] = (d[i + 1][j - 1][t + 1] + d[i][j][t]) % mod;<br>          }<br>        }<br>      }<br>      d[i] = null;<br>    }<br>    return (int) ((d[w][0][k] * fact[k]) % mod);<br>  }<br>  <br> <br>}<br>//Powered by KawigiEdit 2.1.4 (beta) modified by pivanof!<br></td>