<td class="problemText" colspan="8" valign="middle" align="left">
            public class TheLuckyBasesDivTwo {<br>public long find(long n) {<br>  if(n==4 || n==7) return -1;<br>  if(n&lt;7) return 0;<br>  long k=0;<br>  for(long b=5; b*b&lt;n; ++b) { // 3+ digits<br>    long nn=n;<br>    boolean res=true;<br>    while(nn&gt;0 &amp;&amp; res) {<br>      long d=nn%b;<br>      if(d!=4 &amp;&amp; d!=7) res=false;<br>      nn/=b;<br>    }<br>    if(res) {<br>      //System.out.println(b);<br>      ++k;<br>    }<br>  }<br>  // 2 digits:<br>  if(n&gt;=4*5+4 &amp;&amp; n%4==0) ++k; // 44<br>  if(n&gt;=4*8+7 &amp;&amp; n%4==3) ++k; // 47<br>  if(n&gt;=7*8+4 &amp;&amp; n%7==4) ++k; // 74<br>  if(n&gt;=7*8+7 &amp;&amp; n%7==0) ++k; // 77<br>  <br>  return k;<br>}<br>}<br></td>