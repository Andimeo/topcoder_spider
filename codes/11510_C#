<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br>using System.Collections;<br>using System.Collections.Generic;<br>using System.Collections.Specialized;<br>using System.Text;<br>using System.Text.RegularExpressions;<br> <br>public class NewItemShopTwo<br>{<br>    void parse(string customer, int[] p, int[] c)<br>    {<br>        int[] z = Array.ConvertAll&lt;string, int&gt;(customer.Split(' ', ','), int.Parse);<br>        for (int i = 0; i &lt; z.Length; i += 3)<br>        {<br>            p[z[i]] = z[i + 2];<br>            c[z[i]] = z[i + 1];<br>        }<br>    }<br>    public double getMaximum(string[] customers)<br>  {<br>        int[] p1 = new int[24];<br>        int[] c1 = new int[24];<br>        int[] p2 = new int[24];<br>        int[] c2 = new int[24];<br>        parse(customers[0], p1, c1);<br>        parse(customers[1], p2, c2);<br>        double sum = 0, sum1 = 0, sum2 = 0;<br>        int sump1 = 100, sump2 = 100;<br>        for (int i = 0; i &lt; 24; ++i)<br>        {<br>            sump1 -= p1[i];<br>            sump2 -= p2[i];<br>        }<br>        for (int i = 23; i &gt;= 0; --i)<br>        {<br>            sump1 += p1[i];<br>            sump2 += p2[i];<br>            double pr1 = (sump1 == 0) ? 0 : (double)p1[i] / sump1;<br>            double pr2 = (sump2 == 0) ? 0 : (double)p2[i] / sump2;<br>            sum = pr1 * pr2 * Math.Max(c1[i], c2[i])<br>                + pr1 * (1 - pr2) * Math.Max(c1[i], sum2)<br>                + (1 - pr1) * pr2 * Math.Max(sum1, c2[i])<br>                + (1 - pr1) * (1 - pr2) * sum;<br>            sum1 = pr1 * c1[i] + (1 - pr1) * sum1;<br>            sum2 = pr2 * c2[i] + (1 - pr2) * sum2;<br>        }<br>        return sum;<br>  }<br>}<br></td>