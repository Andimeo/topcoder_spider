<td class="problemText" colspan="8" valign="middle" align="left">
            // Paste me into the FileEdit configuration dialog<br><br>#include &lt;cmath&gt;<br>#include &lt;ctime&gt;<br>#include &lt;iostream&gt;<br>#include &lt;string&gt;<br>#include &lt;vector&gt;<br>#include&lt;set&gt;<br>#include&lt;map&gt;<br>#include&lt;list&gt;<br>#include&lt;algorithm&gt;<br>#include&lt;sstream&gt;<br>using namespace std;<br>#define min(a,b) ((a)&lt;(b)?(a):(b))<br>#define max(a,b) ((a)&gt;(b)?(a):(b))<br><br>#define pb push_back<br>#define all(a) a.begin(),a.end()<br>#define inf (1&lt;&lt;29)<br>#define MOD 1000000007<br><br>int dp[55][10][10];<br>vector&lt;string&gt; des;<br>int solve(int pos,int pass,int chal){<br>  if(pos == des.size())<br>    return 1;<br>  int &amp;ret = dp[pos][pass][chal];<br>  if(ret!=-1) return ret;<br>  int i,j,k,sz[3];<br>  for(i = 0;i&lt;3;i++){<br>    if(des[pos][i] == 'N') sz[i] = 1;<br>    else sz[i] = 3;<br>  }<br>  ret = 0;<br>  for(i = 0;i&lt;sz[0];i++){<br>    int ps = 0, ch = 0;<br>    if(des[pos][0]!='N'){<br>      if(i == 0) ps ++;<br>      else if(i == 1) ch++;<br>    }<br>    for(j = 0;j&lt;sz[1];j++){<br>      int psj = ps, chj = ch;<br>      if(des[pos][1]!='N'){<br>        if(j == 0) psj ++;<br>        else if(j == 1) chj++;<br>      }<br>      for(k = 0;k&lt;sz[2];k++){<br>        int psk = psj, chk = chj;<br>        if(des[pos][2]!='N'){<br>          if(k == 0) psk ++;<br>          else if(k == 1) chk++;<br>        }<br>        if(psk&gt;pass) continue;<br>        if(psk == pass &amp;&amp; chk&lt;chal) continue;<br>        ret+=solve(pos+1,psk,chk);<br>        ret%=MOD;<br>      }<br>    }<br>  }<br>  return ret;<br>}<br>class SRMSystemTestPhase {<br>public:<br>   int countWays( vector &lt;string&gt; description ) {<br>     des = description;<br>     memset(dp,-1,sizeof(dp));<br>     return solve(0,4,0);<br>   }<br>};<br><br><br><br>// Powered by FileEdit<br>// Powered by moj 4.15 [modified TZTester]<br>// Powered by CodeProcessor<br></td>