<td class="problemText" colspan="8" valign="middle" align="left">
            import java.util.*;<br>import static java.util.Arrays.fill;<br>import static java.lang.System.arraycopy;<br>import static java.lang.Math.*;<br><br>public class PerfectlyFairGame {<br>  public double winChance(String[] board, int darts) {<br>    int n = board.length;<br>    int m = board[0].length();<br>    int[][] a = new int[board.length][];<br>    for (int i = 0; i &lt; board.length; i++) {<br>      a[i] = new int[board[i].length()];<br>      for (int j = 0; j &lt; board[i].length(); j++) {<br>        a[i][j] = board[i].charAt(j) - '0';<br>      }<br>    }<br>    int max = darts * 9;<br>    double[] p1 = new double[2 * max + 1];<br>    double[] p2 = new double[2 * max + 1];<br>    for (int i = 0; i &lt; max; i++) {<br>      p1[max + i + 1] = 1;<br>    }<br>    p1[max] = .5;<br>    for (int t = 0; t &lt; darts; t++) {<br>      for (int it = 0; it &lt; 2; it++) {<br>        for (int diff = -max + 9 * (t + 1) - (it == 0? 9: 0); diff &lt;= max - 9 * (t + 1); diff++) {<br>          double best = 0;<br>          for (int i = 0; i &lt; n; i++) {<br>            for (int j = 0; j &lt; m; j++) {<br>              double cur = 0;<br>              for (int i1 = -1; i1 &lt;= 1; i1++) {<br>                for (int j1 = -1; j1 &lt;= 1; j1++) {<br>                  int pts = getScore(a, i + i1, j + j1);<br>                  cur += 1. / 9 * (1 - p1[-pts - diff + max]);<br>                }<br>              }<br>              best = max(best, cur);<br>            }<br>          }<br>          p2[diff + max] = best;<br>        }<br>        double[] tmp = p1;<br>        p1 = p2;<br>        p2 = tmp;<br>      }<br>    }<br>    return 1 - p1[max];<br>  }<br>  <br>  static int getScore(int[][] board, int i, int j) {<br>    if (i &lt; 0 || i &gt;= board.length || j &lt; 0 || j &gt;= board[i].length) return 0;<br>    return board[i][j];<br>  }<br><br>  private static void debug(Object... o) {<br>    System.out.println(Arrays.deepToString(o));<br>  }<br>}<br><br><br>// Powered by FileEdit<br></td>