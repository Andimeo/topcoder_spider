<td class="problemText" colspan="8" valign="middle" align="left">
            public class BricksN {<br>    static final int MODULO = 1000000007;<br> <br>  public int countStructures(int maxw, int maxh, int k) {<br>        long[] lineWays = new long[maxw + 1];<br>        lineWays[0] = 1;<br>        for (int w = 1; w &lt;= maxw; ++w)<br>            for (int block = 1; block &lt;= w &amp;&amp; block &lt;= k; ++block) {<br>                lineWays[w] += lineWays[w - block];<br>                if (lineWays[w] &gt;= MODULO) lineWays[w] -= MODULO;<br>            }<br>        long[][] res = new long[maxh + 1][maxw + 1];<br>        for (int w = 1; w &lt;= maxw; ++w)<br>            res[0][w] = 1;<br>        for (int h = 1; h &lt;= maxh; ++h) {<br>            res[h][0] = 1;<br>            for (int w = 1; w &lt;= maxw; ++w) {<br>                res[h][w] += res[h][w - 1];<br>                if (res[h][w] &gt;= MODULO) res[h][w] -= MODULO;<br>                for (int blockSize = 1; blockSize &lt;= w; ++blockSize) {<br>                    res[h][w] = (res[h][w] + res[h][Math.max(0, w - blockSize - 1)] * res[h - 1][blockSize] % MODULO * lineWays[blockSize] % MODULO) % MODULO;<br>                }<br>            }<br>        }<br>    return (int) res[maxh][maxw];<br>  }<br> <br>}<br> <br> <br>// Powered by FileEdit<br>// Powered by RETester [based on ExampleBuilder]<br>// Powered by CodeProcessor<br></td>