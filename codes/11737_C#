<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br>using System.Collections.Generic;<br><br>    class SafeRemoval<br>    {<br>        List&lt;int&gt;[] div;<br>        int KK;<br>        int[, , ,] tab;<br>        int dp(int sum, int a, int b, int c, int d)<br>        {<br>            if (a + b + c + d == KK)<br>                return sum;<br><br>            if (tab[a,b,c,d] == -2)<br>            {<br>                tab[a, b, c, d] = -1;<br>                if (a &lt; div[0].Count)<br>                {<br>                    tab[a, b, c, d] = Math.Max(tab[a, b, c, d], dp(sum - div[0][a], a + 1, b, c, d));<br>                }<br><br>                if (b &lt; div[1].Count)<br>                {<br>                    if ((sum - div[1][b]) % 4 != 0)<br>                        tab[a, b, c, d] = Math.Max(tab[a, b, c, d], dp(sum - div[1][b], a , b+1, c, d));<br>                }<br><br>                if (c &lt; div[2].Count)<br>                {<br>                    if ((sum - div[2][c]) % 4 != 0)<br>                        tab[a, b, c, d] = Math.Max(tab[a, b, c, d], dp(sum - div[2][c], a, b, c+1, d));<br>                }<br><br>                if (d &lt; div[3].Count)<br>                {<br>                    if ((sum - div[3][d]) % 4 != 0)<br>                        tab[a, b, c, d] = Math.Max(tab[a, b, c, d], dp(sum - div[3][d], a, b, c, d+1));<br>                }<br>            }<br><br>            return tab[a, b, c, d];<br><br>        }<br>        <br>        public int removeThem(int[] seq, int k)<br>        {<br>          KK = k;<br>            div = new List&lt;int&gt;[4];<br>            for (int i = 0; i &lt; 4; i++)<br>                div[i] = new List&lt;int&gt;();<br>            int sum = 0;<br>            for (int i = 0; i &lt; seq.Length; i++)<br>            {<br>                div[seq[i] % 4].Add(seq[i]);<br>                sum += seq[i];<br>            }<br><br>            for (int i = 0; i &lt; 4; i++)<br>            {<br>                div[i].Sort();<br>            }<br><br>            tab = new int[51, 51, 51, 51];<br>            for (int a = 0; a &lt;= 50; a++)<br>                for (int b = 0; b &lt;= 50; b++)<br>                    for (int c = 0; c &lt;= 50; c++)<br>                        for (int d = 0; d &lt;= 50; d++)<br>                            tab[a, b, c, d] = -2;<br><br>            return dp(sum, 0, 0, 0, 0);<br>        }<br>    }<br></td>