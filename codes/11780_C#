<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br>using System.Collections;<br>using System.Collections.Generic;<br>using System.Collections.Specialized;<br>using System.Text;<br>using System.Text.RegularExpressions;<br> <br> <br>public class MagicBoard<br>{<br>  public string ableToUnlock(string[] board)<br>  {<br>      string no = "NO";<br>      string yes = "YES";<br>      int R = board.Length;<br>      int C = board[0].Length;<br>      int N = R + C;<br>        bool[,] graph = new bool[N,N];<br>      for (int i = 0; i &lt; R; i++)<br>      {<br>          for (int j = 0; j &lt; C; j++)<br>          {<br>              if (board[i][j]=='#')<br>              {<br>                    graph[j, i + C] = true;<br>                    graph[i+C, j] = true;<br>                }<br>          }<br>      }<br>        int[] deg = new int[N];<br>      for (int i = 0; i &lt; N; i++)<br>      {<br>          for (int j = 0; j &lt; N; j++)<br>          {<br>              if (j==i)<br>              {<br>                  continue;<br>              }<br>              if (graph[i,j])<br>              {<br>                  deg[i]++;<br>              }<br>          }<br>      }<br>      int cnt = 0;<br>      foreach (int i in deg)<br>      {<br>          if (i%2!=0)<br>          {<br>              ++cnt;<br>          }<br>      }<br>      if (cnt&gt;2)<br>      {<br>          return no;<br>      }<br>      for (int i = 0; i &lt; N; i++)<br>      {<br>          for (int j = 0; j &lt; N; j++)<br>          {<br>              for (int k = 0; k &lt; N; k++)<br>              {<br>                  if (graph[j,i]&amp;&amp;graph[i,k])<br>                  {<br>                      graph[j, k] = true;<br>                  }<br>              }<br>          }<br>      }<br>      for (int i = 0; i &lt; N; i++)<br>      {<br>          for (int j = 0; j &lt; N; j++)<br>          {<br>              if (deg[i]&gt;0&amp;&amp;deg[j]&gt;0&amp;&amp;!graph[i,j])<br>              {<br>                  return no;<br>              }<br>          }<br>      }<br>      cnt = 0;<br>      for (int i = C; i &lt; N; i++)<br>      {<br>          if (deg[i]%2!=0)<br>          {<br>              ++cnt;<br>          }<br>      }<br>      if (cnt==2)<br>      {<br>          return no;<br>      }<br>      return yes;<br>  }<br> <br> <br>}<br>//Powered by KawigiEdit 2.1.8 (beta) modified by pivanof!<br></td>