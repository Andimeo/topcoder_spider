<td class="problemText" colspan="8" valign="middle" align="left">
            #include &lt;vector&gt;<br>#include &lt;map&gt;<br>#include &lt;set&gt;<br>#include &lt;queue&gt;<br>#include &lt;stack&gt;<br>#include &lt;bitset&gt;<br>#include &lt;algorithm&gt;<br>#include &lt;sstream&gt;<br>#include &lt;iostream&gt;<br>#include &lt;iomanip&gt;<br>#include &lt;cstdio&gt;<br>#include &lt;cmath&gt;<br>#include &lt;cstdlib&gt;<br>#include &lt;ctype.h&gt;<br> <br>using namespace std;<br> <br>class MagicalGirl {<br>public:<br>  double maxExpectation(int, vector &lt;int&gt;, vector &lt;int&gt;, vector &lt;int&gt;);<br>};<br> <br>typedef pair&lt;int, pair&lt;int,int&gt; &gt; witch;<br>#define ff first<br>#define ss second<br>#define MAXN 55<br>#define MAXM 100005<br>vector&lt;witch&gt; w;<br>int n,m;<br>double mem[MAXN][MAXM];<br> <br>// day, {win, gain}<br> <br>double doit(int wn, int hp) {<br>  <br>  if(wn==n) return w[n-1].ff + hp;<br>  if(wn==0) hp-=w[0].ff;<br>  else hp=hp-(w[wn].ff - w[wn-1].ff);<br>  if(hp&lt;=0) return w[wn].ff+hp;<br>  if(mem[wn][hp] - 1e-5 &gt; -1.0) return mem[wn][hp];<br>  //printf("(%d) hp: %d\n",wn,hp);<br>  double ret=0.0;<br>  // don't fight<br>  ret=doit(wn+1,hp);<br>  //printf("(%d) don't : %lf\n",wn,ret);<br>  int winp=w[wn].ss.ff, hpgain=w[wn].ss.ss, dayno=w[wn].ff;<br>  // fight<br>  ret=max(ret, winp/100.0*doit(wn+1,min(m,hp+hpgain)) + (1-winp/100.0)*dayno);<br>  //printf("(%d) do : %lf\n" ,wn,ret);  <br>  return mem[wn][hp]=ret;<br>}<br> <br>double MagicalGirl::maxExpectation(int M, vector &lt;int&gt; day, vector &lt;int&gt; win, vector &lt;int&gt; gain) {<br>  int i; m=M;<br>  n=day.size();<br>  w.clear();<br>  for(i=0;i&lt;n;i++) {<br>    w.push_back(witch(day[i],make_pair(win[i],gain[i])));<br>  }<br>  sort(w.begin(),w.end());<br>  for(i=0;i&lt;=n;i++)<br>    for(int j=0;j&lt;=m;j++)<br>      mem[i][j]=-1.0;<br>  //for(i=0;i&lt;n;i++) printf("%d, (%d,%d)\n",w[i].ff,w[i].ss.ff,w[i].ss.ss);<br>  double res=doit(0,M);<br>  return res;<br>}<br> <br> <br>//Powered by [KawigiEdit] 2.0!<br> <br>//Powered by KawigiEdit 2.1.4 (beta) modified by pivanof!<br></td>