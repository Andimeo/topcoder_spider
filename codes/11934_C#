<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br>using System.Collections;<br>using System.Collections.Generic;<br>using System.Collections.Specialized;<br>using System.Text;<br>using System.Text.RegularExpressions;<br> <br>public class PatrolRoute<br>{<br>    private int Calc(int W, int H)<br>    {<br>        return ((W - 2) * (H - 2)) * 4 + ((W - 2) * (H - 2)) * 2;<br>    }<br>    private bool InRange(int x, int min, int max)<br>    {<br>        return (x &lt;= max &amp;&amp; x &gt;= min);<br>    }<br> <br>    public int countRoutes(int X, int Y, int MinT, int MaxT)<br>    {<br>        long ans = 0;<br>        for (int w = 3; w &lt;= X; ++w)<br>        {<br>            for (int h = 3; h &lt;= Y; ++h)<br>            {<br>                if (InRange((w - 1) * 2 + (h - 1) * 2, MinT, MaxT))<br>                {<br>                    ans += ((long)Calc(w, h) * (X - w + 1) * (Y - h + 1));<br>                    ans %= 1000000007;<br>                }<br>            }<br>        }<br>        return (int)ans;<br>    }<br>    <br>}<br></td>