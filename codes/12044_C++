<td class="problemText" colspan="8" valign="middle" align="left">
            #include &lt;iostream&gt;<br>#include &lt;sstream&gt;<br>#include &lt;cstdio&gt;<br>#include &lt;cstdlib&gt;<br>#include &lt;cmath&gt;<br>#include &lt;memory&gt;<br>#include &lt;cctype&gt;<br>#include &lt;string&gt;<br>#include &lt;vector&gt;<br>#include &lt;list&gt;<br>#include &lt;queue&gt;<br>#include &lt;deque&gt;<br>#include &lt;stack&gt;<br>#include &lt;map&gt;<br>#include &lt;set&gt;<br>#include &lt;algorithm&gt;<br>using namespace std;<br><br>typedef long long Int;<br>typedef pair&lt;int,int&gt; PII;<br>typedef vector&lt;int&gt; VInt;<br><br>#define FOR(i, a, b) for(i = (a); i &lt; (b); ++i)<br>#define RFOR(i, a, b) for(i = (a) - 1; i &gt;= (b); --i)<br>#define CLEAR(a, b) memset(a, b, sizeof(a))<br>#define SIZE(a) int((a).size()) <br>#define ALL(a) (a).begin(),(a).end() <br>#define PB push_back<br>#define MP make_pair<br><br>#define MOD 1000000009<br><br>int A[1 &lt;&lt; 10];<br>int B[1 &lt;&lt; 10];<br>int C[1 &lt;&lt; 10];<br>Int R[1 &lt;&lt; 10][1 &lt;&lt; 10];<br><br>Int F(int n, int cnt)<br>{<br>  Int&amp; res = R[n][cnt];<br>  if(res != -1)<br>    return res;<br><br>  if(cnt == 0)<br>    return res = 1;<br><br>  res = 0;<br>  if(cnt &gt;= 4)<br>  {<br>    Int a = (cnt - 1)*(cnt - 2)*(cnt - 3);<br>    Int b = (a*n*n*n) % MOD;<br>    res += (F(n, cnt - 4)*b) % MOD;<br>  }<br><br>  if(n % 2 != 0 &amp;&amp; cnt &gt;= 2)<br>    res += (F(n, cnt - 2)*(cnt - 1)*n) % MOD;<br><br>  if(n % 2 != 0)<br>    res += F(n, cnt - 1);<br><br>  res %= MOD;<br>  return res;<br>}<br><br><br>class FleaCircus {<br>  public:<br>  int countArrangements(vector &lt;string&gt; afterFourClicks)<br>  {<br>    string s = "";<br><br>    int i;<br>    FOR(i, 0, SIZE(afterFourClicks))<br>      s = s + afterFourClicks[i];<br><br>    stringstream ss(s);<br>    int n = 0;<br>    while(ss &gt;&gt; A[n])<br>      ++n;<br><br>    CLEAR(B, 0);<br>    CLEAR(C, 0);<br>    FOR(i, 0, n)<br>      if(B[i] == 0)<br>      {<br>        int a = i;<br>        int cnt = 0;<br>        while(B[a] == 0)<br>        {<br>          B[a] = 1;<br>          a = A[a];<br>          ++cnt;<br>        }<br><br>        ++C[cnt];<br>      }<br><br>    CLEAR(R, -1);<br>    Int res = 1;<br>    FOR(i, 1, n + 1)<br>      res = (res * F(i, C[i])) % MOD;<br><br>    return int(res);<br>  }<br><br>  <br><br>};<br><br><br><br>// Powered by FileEdit<br>// Powered by TZTester 1.01 [25-Feb-2003]<br>// Powered by CodeProcessor<br></td>