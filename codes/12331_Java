<td class="problemText" colspan="8" valign="middle" align="left">
            import java.util.Arrays;<br> <br>/**<br> * Built using CHelper plug-in<br> * Actual solution is at the top<br> */<br>public class FoxAndHandle {<br>  public String lexSmallestName(String S) {<br>        int[] cnt = new int[26];<br>        for (int i = 0; i &lt; S.length(); ++i) {<br>            ++cnt[S.charAt(i) -'a'];<br>        }<br>        for (int i = 0; i &lt; 26; ++i) {<br>            cnt[i] /= 2;<br>        }<br>        String res = "";<br>        int leftmost = 0;<br>        int[] rem = new int[26];<br>        for (int step = 0; step &lt; S.length() / 2; ++step) {<br>            for (char ch = 0; ch &lt; 26; ++ch) if (cnt[ch] &gt; 0) {<br>                int at = leftmost;<br>                while (at &lt; S.length() &amp;&amp; S.charAt(at) != ('a' + ch)) ++at;<br>                if (at &gt;= S.length()) continue;<br>                Arrays.fill(rem, 0);<br>                for (int i = at; i &lt; S.length(); ++i) {<br>                    ++rem[S.charAt(i) - 'a'];<br>                }<br>                boolean ok = true;<br>                for (int i = 0; i &lt; 26; ++i)<br>                    if (rem[i] &lt; cnt[i]) {<br>                        ok = false;<br>                        break;<br>                    }<br>                if (ok) {<br>                    res += (char) ('a' + ch);<br>                    --cnt[ch];<br>                    leftmost = at + 1;<br>                    break;<br>                }<br>            }<br>        }<br>        return res;<br>  }<br>}<br></td>