<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br>using System.Collections;<br>using System.Collections.Generic;<br>using System.Collections.Specialized;<br>using System.Text;<br>using System.Text.RegularExpressions;<br> <br>public class EllysRoomAssignmentsDiv1<br>{<br>  public double getAverage(string[] ratings)<br>  {<br>        StringBuilder sb = new StringBuilder();<br>        for (int i = 0; i &lt; ratings.Length; ++i)<br>        {<br>            sb.Append(ratings[i]);<br>        }<br> <br>        string rs = sb.ToString();<br>        string[] rss = rs.Split();<br>        double[] r = new double[rss.Length];<br>        for (int i = 0; i &lt; r.Length; ++i)<br>            r[i] = Double.Parse(rss[i]);<br> <br>        double mine = r[0];<br>        Array.Sort(r);<br>        Array.Reverse(r);<br>        int n = r.Length, room = (n + 19) / 20;<br>        int pos = -1;<br>        for (int i = 0; i &lt; n; ++i)<br>            if (mine == r[i])<br>                pos = i;<br> <br>        double a0 = .0, a1 = .0;<br>        for (int i = 0; i &lt; n; ++i)<br>        {<br>            if (i / room == pos / room) continue;<br>            if (n % room != 0 &amp;&amp; i &gt;= n / room * room)<br>            {<br>                a1 += r[i] / (n - n / room * room);<br>            }<br>            else<br>            {<br>                a0 += r[i] / room;<br>            }<br>        }<br> <br>        double d = n % room;<br>        if (d == 0)<br>            return (a0 + mine) / (n / room);<br>        else if (pos &lt; n / room * room)<br>            return (a0 + mine) / (n / room) * (1 - d / room) + (a0 + a1 + mine) / (n / room + 1) * (d / room);<br>        else<br>            return (a0 + mine) / (n / room + 1);<br>  }<br> <br> <br>}<br>//Powered by [KawigiEdit] 2.0!<br></td>