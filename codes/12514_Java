<td class="problemText" colspan="8" valign="middle" align="left">
            import java.util.*;<br> <br>import static java.lang.Math.*;<br>import static java.util.Arrays.*;<br> <br>public class EllysRoomAssignmentsDiv1 {<br>  <br>  public double getAverage(String[] ratings) {<br>    StringBuilder sb = new StringBuilder();<br>    for (String s : ratings) sb.append(s);<br>    ArrayList&lt;Integer&gt; rates = new ArrayList&lt;Integer&gt;();<br>    for (String s : sb.toString().split(" ")) rates.add(Integer.parseInt(s));<br>    int my = rates.get(0);<br>    Collections.sort(rates);<br>    int N = rates.size(), R = (N + 19) / 20, m = N / R;<br>    int id = (N - 1 - Collections.binarySearch(rates, my)) / R;<br>    double res = 0;<br>    double sum = 0;<br>    for (int i = 0; i &lt; m * R; i++) if (i / R != id) sum += (double)rates.get(N - 1 - i) / R;<br>    if (id &lt; m) {<br>      double sum2 = 0;<br>      for (int i = m * R; i &lt; N; i++) sum2 += (double)rates.get(N - 1 - i) / (N - m * R);<br>      res = (sum + my + sum2) / (m + 1) * (N - m * R) / R + (sum + my) / m * (R - (N - m * R)) / R;<br>    } else {<br>      res = (sum + my) / (m + 1);<br>    }<br>    debug(res);<br>    return res;<br>  }<br>  <br>  void debug(Object...os) {<br>    System.err.println(deepToString(os));<br>  }<br>  <br>}<br></td>