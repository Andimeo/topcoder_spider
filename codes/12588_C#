<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br>using System.Collections;<br>using System.Collections.Generic;<br>using System.Collections.Specialized;<br>using System.Text;<br>using System.Text.RegularExpressions;<br> <br> <br>public class SurveillanceSystem<br>{<br>  public string getContainerInfo(string containers, int[] reports, int L)<br>  {<br>      int n = containers.Length;<br>      int[] dp = new int[n - L + 1];<br>      for (int i = 0; i &lt; L; i++)<br>      {<br>          if (containers[i] == 'X')<br>              dp[0] ++;<br>      }<br>      for (int i = 1; i &lt; n-L+1; i++)<br>      {<br>          dp[i] = dp[i - 1];<br>          if (containers[i - 1] == 'X')<br>              dp[i]--;<br>          if (containers[i + L-1] == 'X')<br>              dp[i]++;<br>      }<br>        Array.Sort(reports);<br>        char[] res = new char[n];<br>      for (int i = 0; i &lt; n; i++)<br>      {<br>          res[i] = '-';<br>      }<br>      int seeCount = reports[0];<br>      int count = 1;<br>      for (int i = 1; i &lt;= reports.Length; i++)<br>      {<br>          if (i&lt;reports.Length &amp;&amp; seeCount == reports[i])<br>          {<br>              count++;<br>          }<br>          else<br>          {<br>                int[] used = new int[n];<br>                int countSame = 0;<br>              for (int j = 0; j &lt; dp.Length; j++)<br>              {<br>                  if(dp[j] != seeCount)<br>                        continue;<br> <br>                  for (int k = j; k &lt; L+j; k++)<br>                  {<br>                      used[k]++;<br>                  }<br>                  countSame++;<br>              }<br> <br>                for (int j = 0; j &lt; n; j++)<br>              {<br>                    if (countSame - used[j] &lt; count)<br>                        res[j] = '+';<br>                    else if (used[j] &gt; 0 &amp;&amp; res[j] != '+')<br>                        res[j] = '?';<br>              }<br> <br>              if (i &lt; reports.Length)<br>              {<br>                  seeCount = reports[i];<br>                  count = 1;<br>              }<br>          }<br>      }<br>        return new string(res);<br>  }<br> <br> <br>}<br>//Powered by KawigiEdit 2.1.8 (beta) modified by pivanof!<br></td>