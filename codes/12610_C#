<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br>using System.Collections.Generic;<br><br>public class IDNumberVerification {<br>    public string verify(string id, string[] regionCodes) {<br>        string result = "Invalid";<br><br>        bool r = CheckRegionCode(id.Substring(0, 6), regionCodes);<br>        bool b = IsValidBirthday(id.Substring(6, 8));<br>        bool s = id.Substring(14, 3) != "000";<br><br>        if (!r || !b || !s) return result;<br><br>        bool isMale = (int.Parse(id.Substring(14, 3)) &amp; 1) != 0;<br><br>        int p = 0;<br>        int t = 1 &lt;&lt; 17;<br>        <br>        for (int i = 0; i &lt; id.Length - 1; i++)<br>        {<br>            p += ((int)(id[i] - '0')) * t;<br>            t &gt;&gt;= 1;<br>        }<br><br>        bool res = false;<br>        for (int x = 0; x &lt;= 10; x++)<br>        {<br>            if ((x + p) % 11 == 1)<br>            {<br>                if ((id[id.Length - 1] == 'X' &amp;&amp; x == 10) || (id[id.Length - 1] == (char)(x + '0')))<br>                {<br>                    res = true;<br>                    break;<br>                }<br>            }<br>        }<br><br>        if (!res) return result;<br><br>        return isMale ? "Male" : "Female";<br>    }<br><br>    private int[] days = { 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 };<br><br>    private bool IsValidBirthday(string birthday)<br>    {<br>        int year = int.Parse(birthday.Substring(0, 4));<br>        int month = int.Parse(birthday.Substring(4, 2));<br>        int day = int.Parse(birthday.Substring(6, 2));<br><br>        if (year &lt; 1900 || year &gt; 2011) return false;<br>        if (month &lt; 1 || month &gt; 12) return false;<br><br>        if (IsLeap(year)) days[1] = 29;<br>        else days[1] = 28;<br><br>        if (day &lt; 1 || day &gt; days[month - 1]) return false;<br><br>        return true;<br>    }<br><br>    private bool IsLeap(int year)<br>    {<br>        return (year % 4 == 0 &amp;&amp; year % 100 != 0) || (year % 400 == 0);<br>    }<br><br>    private bool CheckRegionCode(string code, string[] regionCodes)<br>    {<br>        foreach (string c in regionCodes)<br>        {<br>            if (c == code)<br>            {<br>                return true;<br>            }<br>        }<br><br>        return false;<br>    }<br><br>}<br><br><br>// Powered by FileEdit<br>// Powered by CodeProcessor<br></td>