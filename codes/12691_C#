<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br>using System.Collections;<br>using System.Collections.Generic;<br>using System.Collections.Specialized;<br>using System.Text;<br>using System.Text.RegularExpressions;<br> <br>public class PiecewiseLinearFunction<br>{<br>    public int Check(int[] Y, double x)<br>    {<br>        int count = Y[0] == x ? 1 : 0;<br>        int N = Y.Length;<br>        for (int i = 0; i &lt; N - 1; i++)<br>        {<br>            if ((Y[i] - x) * (Y[i + 1] - x) &lt; 0)<br>                count++;<br>            else if (Y[i + 1] == x)<br>                count++;<br>        }<br>        return count;<br>    }<br> <br>  public int maximumSolutions(int[] Y)<br>  {<br>        int N = Y.Length;<br>        int[] sort = new int[N];<br>        Array.Copy(Y, sort, N);<br>        Array.Sort(sort);<br> <br>        for (int i = 0; i &lt; N-1; i++)<br>        {<br>            if (Y[i] == Y[i + 1])<br>                return -1;<br>        }<br> <br>        int ans = Check(Y, sort[0]);<br>        for (int i = 0; i &lt; N-1; i++)<br>        {<br>            double x = (sort[i] + sort[i + 1]) * 0.5;<br>            ans = Math.Max(ans, Check(Y, sort[i + 1]));<br>            ans = Math.Max(ans, Check(Y, x));<br>        }<br> <br>        return ans;<br>  }<br> <br>  #region Testing code generated by KawigiEdit<br>  [STAThread]<br>  public static void Main(string[] args)<br>  {<br>    int answer, desiredAnswer;<br>    bool errors = false;<br>    DateTime time;<br>    <br>    time = DateTime.Now;<br>    answer = new PiecewiseLinearFunction().maximumSolutions(new int[]{3, 2});<br>    Console.WriteLine("Time: " + (DateTime.Now-time).TotalSeconds + " seconds");<br>    desiredAnswer = 1;<br>    Console.WriteLine("Your answer:");<br>    Console.WriteLine("\t" + answer);<br>    Console.WriteLine("Desired answer:");<br>    Console.WriteLine("\t" + desiredAnswer);<br>    if (answer != desiredAnswer)<br>    {<br>      errors = true;<br>      Console.WriteLine("DOESN'T MATCH!!!!");<br>    }<br>    else<br>      Console.WriteLine("Match :-)");<br>    Console.WriteLine();<br>    time = DateTime.Now;<br>    answer = new PiecewiseLinearFunction().maximumSolutions(new int[]{4, 4});<br>    Console.WriteLine("Time: " + (DateTime.Now-time).TotalSeconds + " seconds");<br>    desiredAnswer = -1;<br>    Console.WriteLine("Your answer:");<br>    Console.WriteLine("\t" + answer);<br>    Console.WriteLine("Desired answer:");<br>    Console.WriteLine("\t" + desiredAnswer);<br>    if (answer != desiredAnswer)<br>    {<br>      errors = true;<br>      Console.WriteLine("DOESN'T MATCH!!!!");<br>    }<br>    else<br>      Console.WriteLine("Match :-)");<br>    Console.WriteLine();<br>    time = DateTime.Now;<br>    answer = new PiecewiseLinearFunction().maximumSolutions(new int[]{1, 4, -1, 2});<br>    Console.WriteLine("Time: " + (DateTime.Now-time).TotalSeconds + " seconds");<br>    desiredAnswer = 3;<br>    Console.WriteLine("Your answer:");<br>    Console.WriteLine("\t" + answer);<br>    Console.WriteLine("Desired answer:");<br>    Console.WriteLine("\t" + desiredAnswer);<br>    if (answer != desiredAnswer)<br>    {<br>      errors = true;<br>      Console.WriteLine("DOESN'T MATCH!!!!");<br>    }<br>    else<br>      Console.WriteLine("Match :-)");<br>    Console.WriteLine();<br>    time = DateTime.Now;<br>    answer = new PiecewiseLinearFunction().maximumSolutions(new int[]{2, 1, 2, 1, 3, 2, 3, 2});<br>    Console.WriteLine("Time: " + (DateTime.Now-time).TotalSeconds + " seconds");<br>    desiredAnswer = 5;<br>    Console.WriteLine("Your answer:");<br>    Console.WriteLine("\t" + answer);<br>    Console.WriteLine("Desired answer:");<br>    Console.WriteLine("\t" + desiredAnswer);<br>    if (answer != desiredAnswer)<br>    {<br>      errors = true;<br>      Console.WriteLine("DOESN'T MATCH!!!!");<br>    }<br>    else<br>      Console.WriteLine("Match :-)");<br>    Console.WriteLine();<br>    time = DateTime.Now;<br>    answer = new PiecewiseLinearFunction().maximumSolutions(new int[]{125612666, -991004227, 0, 6, 88023, -1000000000, 1000000000, -1000000000, 1000000000});<br>    Console.WriteLine("Time: " + (DateTime.Now-time).TotalSeconds + " seconds");<br>    desiredAnswer = 6;<br>    Console.WriteLine("Your answer:");<br>    Console.WriteLine("\t" + answer);<br>    Console.WriteLine("Desired answer:");<br>    Console.WriteLine("\t" + desiredAnswer);<br>    if (answer != desiredAnswer)<br>    {<br>      errors = true;<br>      Console.WriteLine("DOESN'T MATCH!!!!");<br>    }<br>    else<br>      Console.WriteLine("Match :-)");<br>    Console.WriteLine();<br>    <br>    <br>    if (errors)<br>      Console.WriteLine("Some of the test cases had errors :-(");<br>    else<br>      Console.WriteLine("You're a stud (at least on the test data)! :-D ");<br>  }<br>  #endregion<br> <br>}<br>//Powered by [KawigiEdit] 2.0!<br></td>