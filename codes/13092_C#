<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br>using System.Collections;<br>using System.Collections.Generic;<br>using System.Collections.Specialized;<br>using System.Text;<br>using System.Text.RegularExpressions;<br> <br> <br>public class AlternativePiles<br>{<br>  public int count(string C, int M)<br>  {<br>        int MOD = 1000000007;<br>        int N = C.Length;<br>        long[,,] ways = new long[N + 1,M+1,M];<br> <br>        ways[0, 0, 0] = 1;<br>        for (int i = 0; i &lt; N; i++)<br>        {<br>            if (C[i] == 'R' || C[i]=='W')<br>            {<br>                for (int rcount = 0; rcount &lt; M; rcount++)<br>                {<br>                    for (int rextras = 0; rextras &lt; M; rextras++)<br>                    {<br>                        ways[i + 1, rextras + 1, (rcount + 1) % M] += ways[i, rextras, rcount];<br>                        ways[i + 1, rextras + 1, (rcount + 1) % M] %= MOD;<br>                    }<br>                }<br>            }<br> <br>            if (C[i] == 'G' || C[i]=='W')<br>            {<br>                for (int rcount = 0; rcount &lt; M; rcount++)<br>                {<br>                    for (int rextras = 1; rextras &lt;= M; rextras++)<br>                    {<br>                        ways[i + 1, rextras-1, rcount] += ways[i, rextras, rcount];<br>                        ways[i + 1, rextras-1, rcount] %= MOD;<br>                    }<br>                }<br>            }<br> <br>            if (C[i]=='B' || C[i]=='W')<br>            {<br>                for (int rcount = 0; rcount &lt; M; rcount++)<br>                {<br>                    for (int rextras = 0; rextras &lt;= M; rextras++)<br>                    {<br>                        ways[i + 1, rextras, rcount] += ways[i, rextras, rcount];<br>                        ways[i + 1, rextras, rcount] %= MOD;<br>                    }<br>                }<br> <br>            }<br>        }<br> <br>        return (int)ways[N, 0, 0];<br>  }<br> <br> <br>}<br>//Powered by KawigiEdit 2.1.4 (beta) modified by pivanof!<br></td>