<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br>using System.Text;<br>using System.Text.RegularExpressions;<br>using System.Collections;<br><br>public class MessageMess {<br>    Hashtable seen = new Hashtable();<br>    public MessageMess() {<br>        seen[""]="";<br>    }<br>    public string restore(string[] dd, string mm) {<br>        if ( seen.Contains(mm))<br>            return (string)seen[mm];<br>        string res="IMPOSSIBLE!";<br>        for ( int i = 0; i != dd.Length; i++) {<br>            if (mm.StartsWith(dd[i])) {<br>                string rr = restore(dd,mm.Substring(dd[i].Length));<br>                if ( rr == "AMBIGUOUS!") {<br>                    res="AMBIGUOUS!";<br>                    break;<br>                }<br>                if ( rr == "IMPOSSIBLE!")<br>                    continue;<br>                if ( res != "IMPOSSIBLE!" ) {<br>                    res="AMBIGUOUS!";<br>                    break;<br>                }<br>                if ( rr.Length != 0 ) {<br>                    res = dd[i]+" "+rr;<br>                } else {<br>                    res = dd[i];<br>                }<br>            }<br>        }<br>        seen[mm] = res;<br>        return res;<br>    }<br><br>}<br><br><br>// Powered by FileEdit<br>// Powered by CodeProcessor<br></td>