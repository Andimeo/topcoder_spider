<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br> <br>public class Champagne{<br> public string howMuch(int height, int glass, int units){<br>  int numGlasses = (height * height + height) / 2;<br>  double[] filled = new double[numGlasses];<br>  for (int i = 0; i &lt; numGlasses; ++i) filled[i] = 0;<br>  filled[0] = units;<br>  for (int i = 0; i &lt; numGlasses; ++i){<br>   if (filled[i] &gt; 2.0){<br>    double overFlow = filled[i] - 2.0;<br>    if (getRow(i) != height){<br>     filled[i + getRow(i)] += overFlow / 2;<br>     filled[i + getRow(i) + 1] += overFlow / 2;<br>    }<br>    filled[i] = 2.0;<br>   }<br>   if (glass != i + 1) continue;<br>   if (filled[i] == 2.0) return "1/1";<br>   if (filled[i] == 0.0) return "0/1";<br>   int numerator, denominator = 1;<br>   double fill = filled[i] / 2.0;<br>   while (fill != Math.Floor(fill)){<br>    fill *= 2;<br>    denominator *= 2;<br>   }<br>   numerator = (int)fill;<br>   return numerator.ToString() + "/" + denominator.ToString();<br>  }<br>  return "ERROR";<br> }<br> <br> private int getRow(int glass){<br>  ++glass;<br>  for (int i = 0; i &lt; 21; ++i)<br>   if ((i * i + i) / 2 &gt;= glass) return i;<br>  return -1;<br> }<br>}<br></td>