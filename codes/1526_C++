<td class="problemText" colspan="8" valign="middle" align="left">
            #include &lt;vector&gt;<br>#include &lt;string&gt;<br>#include &lt;map&gt;<br>#include &lt;set&gt;<br>#include &lt;stdio.h&gt;<br>using namespace std;<br> <br>#define vs vector&lt;string&gt;<br>#define vi vector&lt;int&gt;<br>#define ll long long<br> <br>int canproc[256][50][50];<br> <br>class Macros { public: vs whichOnes(vs rules, string target) {<br>int i,j,k,l,d;<br>int nr=rules.size(),nt=target.size();<br> <br>for(i=0;i&lt;nt;i++) canproc[target[i]][i][i]=1;<br>for(d=1;d&lt;nt;d++) for(i=0;i&lt;nt;i++) { j=d+i; if (j&lt;nt) {<br>for(k=0;k&lt;nr;k++) for(l=i;l&lt;j;l++) if (canproc[rules[k][2]][i][l] &amp;&amp; canproc[rules[k][3]][l+1][j]) canproc[rules[k][0]][i][j]=1;<br>}}<br>vs ret; char buf[50]; for(i='A';i&lt;='Z';i++) if (canproc[i][0][nt-1]) { sprintf(buf,"%c",i); ret.push_back(buf); } return ret;<br>}};<br></td>