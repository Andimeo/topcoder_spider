<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br> <br>public class game : IComparable<br>{  <br>  public string name;<br>  public long choices;<br>  public long blanks;<br>  public bool sorted;<br>  public bool unique;<br>  public long p;<br>  <br> <br>  public char [] sep1 = { ':'};<br>  public char [] sep2 = { ' '};<br>   <br> <br>  int System.IComparable.CompareTo(object y)<br>  {<br>    game x = (game)y;<br>    if (p &lt; x.p) return -1;<br>    if (p &gt; x.p) return 1;<br>    return name.CompareTo(x.name);<br>  }  <br> <br>  public game(string s)<br>  {<br>    string [] m = s.Split(sep1);<br>    string [] l = m[1].Split(sep2);<br> <br>    name = m[0];<br>//    Console.WriteLine(l[1]+"|"+l[2]+"|"+l[3]);<br>    choices = long.Parse(l[1]);<br>    blanks = long.Parse(l[2]);<br>    sorted = l[3][0] == 'T';<br>    unique = l[4][0] == 'T';<br> <br>    if (sorted) calcsup(); else calcp();<br>    <br>  }<br> <br>  public long calcp()<br>  {<br>    long i,j,t;<br> <br>    j = choices;<br>    t = 1;<br> <br>    for(i=0; i&lt;blanks; i++)<br>    {<br>      t = t * (j);<br>      if (unique) j--;<br>    }<br> <br>    p = t;<br>    return t;<br>  }<br> <br>  public long calcsup()<br>  {<br>    long i,j,k,t;<br>    long [,] prob = new long[blanks, choices];<br> <br>      <br>    for(i=0; i&lt;choices; i++)<br>    {<br>      prob[blanks-1, i] = 1;<br>    }<br> <br>    for(i=blanks-2; i&gt;=0; i--)<br>    {<br> <br>      for(j=0; j&lt;choices; j++)<br>      {<br>        t = 0;<br>        for (k=j; k&lt;choices; k++)<br>        {<br>          if (k&gt;j || !unique) t+=prob[i+1,k];<br>        }<br>        prob[i,j] = t;      <br>      }<br>    }<br>    t = 0;<br>    for(i=0; i&lt;choices;i++)<br>      t = t + prob[0,i];<br> <br>    p = t;<br>    return t;<br> <br>    <br>  }<br>}<br> <br>public class Lottery<br>{<br>  public string[] sortByOdds(string [] r)<br>  {<br>    int i;<br>    int n = r.Length;<br>    string [] res = new string[n];<br> <br>    game [] g = new game[n];<br> <br>    for(i = 0; i&lt;n; i++)<br>      g[i] = new game(r[i]);<br> <br>    Array.Sort(g);<br> <br>    for(i=0; i&lt;n; i++)<br>    {<br>      res[i] = g[i].name;<br>//      Console.WriteLine(g[i].name + " " +g[i].p);<br>    }<br> <br>    return res;<br>  }<br>}<br></td>