<td class="problemText" colspan="8" valign="middle" align="left">
            import java.util.*;  /* Powered by GNU Emacs */<br>public class BrickByBrick { /************************************************/<br>static boolean debugging = false ; void exit(int code){if(debugging)System.exit(code);}<br>/****************************************************************************/<br>public int timeToClear(String[] map) <br>{ /***************************************************************************/<br>int i , j , k , l , m , n , count ;<br>int ans ; String [ ] arg = map ;<br>int [ ] [ ] dd = new int [ arg.length + 2 ] [ arg[0].length()+2] ;<br>int pad = 1 ;<br>int bc = 0 ;<br>for ( i = 0 ; i &lt; arg.length + pad*2 ; i ++ )<br>   for ( j = 0 ; j &lt; arg[0].length() + pad *2; j ++ )<br>      dd [ i ] [ j ] = 2 ;<br>for ( i = 0 ; i &lt; arg.length ; i ++ )<br>   for ( j = 0 ; j &lt; arg[0].length() ; j ++ )<br>      {<br>      if (arg[i].charAt(j)=='.') dd [ i + pad] [ j + pad ] = 0 ;<br>      if (arg[i].charAt(j)=='B'){dd[i+pad][j+pad]= 1 ; bc ++ ; }<br>      if (arg[i].charAt(j)=='#'){dd[i+pad][j+pad]= 2 ;}<br>      <br>      }<br> <br>int x , y ;<br>int t = 0 ;<br>x = 1 ; y = 1 ;<br>int dx , dy ;<br>dx = 1 ; dy = 1 ;<br>int idle ;<br> ans = 0;<br> <br>idle = 0 ;<br>while ( bc &gt; 0 &amp;&amp; idle &lt; 100000 )<br>   {<br>   if ( dd [ y ] [ x + dx ] == 0 ) x += dx ;<br>   else if ( dd [ y ] [ x + dx ] == 1 ) <br>      { bc -- ; dd [ y ] [ x + dx ] = 0 ; dx *= -1 ;  idle = 0 ; }<br>   else if ( dd [ y ] [ x + dx ] == 2 ) dx *= -1 ;<br>   ans ++ ;<br>   <br>   if( bc == 0 ) break ;<br>   if ( dd [ y +dy] [ x ] == 0 ) y += dy ;<br>   else if ( dd [ y +dy] [ x  ] == 1 ) <br>      { bc -- ; dd [ y +dy ] [ x ] = 0 ; dy *= -1 ;  idle = 0 ; }<br>   else if ( dd [ y +dy] [ x ] == 2 ) dy *= -1 ;<br> <br>   idle ++ ;<br>   ans ++ ;<br>   <br>   }<br> <br> if ( bc &gt; 0  ) return -1 ;<br> <br> <br>return ans ;<br>} /***************************************************************************/<br>}  /*   end of class:  BrickByBrick ****************************************/<br> <br> <br>// Powered by FileEdit<br></td>