<td class="problemText" colspan="8" valign="middle" align="left">
            #include &lt;vector&gt;<br>#include &lt;set&gt;<br>#include &lt;map&gt;<br>#include &lt;string&gt;<br>#include &lt;sstream&gt;<br>#include &lt;iostream&gt;<br>#include &lt;algorithm&gt;<br>#include &lt;cmath&gt;<br> <br>using namespace std;<br> <br>#define ARRAY_SIZE(array) (sizeof(array)/sizeof((array)[0]))<br> <br>vector&lt;string&gt; split(const string &amp;s, const char *delim = " \t\n") {<br>  vector&lt;string&gt; result;<br>  for (size_t candidate = 0; ; ) {<br>    size_t begin = s.find_first_not_of(delim, candidate);<br>    if (begin==string::npos)<br>      break; // only delimiters remain<br>    size_t end = s.find_first_of(delim, begin+1);<br>    if (end==string::npos) {<br>      result.push_back(s.substr(begin));<br>      return result;<br>    }<br>    result.push_back(s.substr(begin, end-begin));<br>    candidate = end+1;<br>  }<br>  return result;<br>}<br> <br>template &lt;typename Dst&gt;<br>Dst &amp;convert(Dst &amp;dst, const string &amp;src) {<br>    istringstream ss(s);<br>    ss &gt;&gt; dst;<br>    return dst;<br>}<br> <br>template &lt;typename Dst&gt;<br>Dst convertTo(const string &amp;src) {<br>    Dst dst; return convert(dst, src);<br>}<br> <br>struct Cubism {<br> <br>    char col(const vector &lt;string&gt; &amp;lattice, int x, int y, int z) {<br>        return lattice[x][4*y+z];<br>    }<br>    int lines(vector &lt;string&gt; lat, string color) {<br>        int count = 0;<br>        char c = (color=="black"? 'B': 'W');<br>        for (int x = 0; x&lt;4; ++x)<br>            for (int y = 0; y&lt;4; ++y) {<br>                ++count;<br>                for (int z = 0; z&lt;4; ++z)<br>                    if (col(lat, x, y, z)!=c) {<br>                        --count;<br>                        break;<br>                    }<br>            }<br>                for (int z = 0; z&lt;4; ++z)<br>            for (int y = 0; y&lt;4; ++y) {<br>                ++count;<br>        for (int x = 0; x&lt;4; ++x)<br>                    if (col(lat, x, y, z)!=c) {<br>                        --count;<br>                        break;<br>                    }<br>            }<br>        for (int x = 0; x&lt;4; ++x)<br>            for (int z = 0; z&lt;4; ++z) {<br>                ++count;<br>            for (int y = 0; y&lt;4; ++y)<br>                    if (col(lat, x, y, z)!=c) {<br>                        --count;<br>                        break;<br>                    }<br>            }<br> <br>    for (int x = 0; x&lt;4; ++x) {<br>                        ++count;<br>            for (int i = 0; i&lt;4; ++i)<br>                if (col(lat, x, i, i)!=c) {<br>                        --count;<br>                        break;<br>                }<br>                        ++count;<br>            for (int i = 0; i&lt;4; ++i)<br>                if (col(lat, x, 3-i, i)!=c) {<br>                        --count;<br>                        break;<br>                }<br>    }<br> <br>    for (int x = 0; x&lt;4; ++x) {<br>                        ++count;<br>            for (int i = 0; i&lt;4; ++i)<br>                if (col(lat, i, x, i)!=c) {<br>                        --count;<br>                        break;<br>                }<br>                        ++count;<br>            for (int i = 0; i&lt;4; ++i)<br>                if (col(lat, 3-i, x, i)!=c) {<br>                        --count;<br>                        break;<br>                }<br>    }<br> <br>    for (int x = 0; x&lt;4; ++x) {<br>                        ++count;<br>            for (int i = 0; i&lt;4; ++i)<br>                if (col(lat, i, i, x)!=c) {<br>                        --count;<br>                        break;<br>                }<br>                        ++count;<br>            for (int i = 0; i&lt;4; ++i)<br>                if (col(lat, 3-i, i, x)!=c) {<br>                        --count;<br>                        break;<br>                }<br>    }<br> <br>    ++count;<br>    for (int i = 0; i&lt;4; ++i)<br>        if (col(lat, i, i, i)!=c) {<br>                --count;<br>                break;<br>        }<br> <br>     ++count;<br>    for (int i = 0; i&lt;4; ++i)<br>        if (col(lat, 3-i, i, i)!=c) {<br>                --count;<br>                break;<br>        }<br> <br>     ++count;<br>    for (int i = 0; i&lt;4; ++i)<br>        if (col(lat, i, 3-i, i)!=c) {<br>                --count;<br>                break;<br>        }<br>     ++count;<br>    for (int i = 0; i&lt;4; ++i)<br>        if (col(lat, i, i, 3-i)!=c) {<br>                --count;<br>                break;<br>        }<br>    return count;<br>    }<br>};<br></td>