<td class="problemText" colspan="8" valign="middle" align="left">
            #include &lt;vector&gt;<br>#include &lt;string&gt;<br>#include &lt;algorithm&gt;<br>#include &lt;set&gt;<br>#include &lt;map&gt;<br>#include &lt;list&gt;<br>#include &lt;iostream&gt;<br>#include &lt;math.h&gt;<br>#include &lt;queue&gt;<br>#include &lt;iterator&gt;<br>#include &lt;sstream&gt;<br>#include &lt;stdio.h&gt;<br> <br>using namespace std;<br> <br>#define fi(a, b) for(int i=((int)(a)); i &lt; ((int)(b)); i++)<br>#define fie(a, b) for(int i=((int)(a)); i &lt;= ((int)(b)); i++)<br>#define fj(a, b) for(int j=((int)(a)); j &lt; ((int)(b)); j++)<br>#define fje(a, b) for(int j=((int)(a)); j &lt;= ((int)(b)); j++)<br>#define fk(a, b) for(int k=((int)(a)); k &lt; ((int)(b)); k++)<br>#define fl(a, b) for(int l=((int)(a)); l &lt; ((int)(b)); l++)<br>#define di(a) for(int i=(int)((a)-1); i&gt;=0; i--)<br>#define dj(a) for(int j=(int)((a)-1); j&gt;=0; j--)<br>#define die(a) for(int i=(int)(a); i&gt;=0; i--)<br>#define dje(a) for(int j=(int)(a); j&gt;=0; j--)<br>#define fdi(a, b) for(int i=((int)(a)); i &gt; ((int)(b)); i--)<br>#define fdj(a, b) for(int j=((int)(a)); j &gt; ((int)(b)); j--)<br>#define fdk(a, b) for(int k=((int)(a)); k &gt; ((int)(b)); k--)<br>#define fdl(a, b) for(int l=((int)(a)); l &gt; ((int)(b)); l--)<br>#define ri(b) for(int i=0; i &lt; ((int)(b)); i++)<br>#define rie(b) for(int i=0; i &lt;= ((int)(b)); i++)<br>#define rj(b) for(int j=0; j &lt; ((int)(b)); j++)<br>#define rje(b) for(int j=0; j &lt;= ((int)(b)); j++)<br>#define rk(b) for(int k=0; k &lt; ((int)(b)); k++)<br>#define rke(b) for(int k=0; k &lt; ((int)(b)); k++)<br>#define rl(b) for(int l=0; l &lt; ((int)(b)); l++)<br> <br>#define itadj for(int adx=-1; adx&lt;=1; adx++) for(int ady=-1; ady&lt;=1; ady++)<br>#define chkadj(i, j, n, m) ((i)&gt;=0&amp;&amp;(j)&gt;=0&amp;&amp;(i)&lt;n&amp;&amp;(j)&lt;m)<br> <br>#define fe(v,it) for(__typeof(v.begin()) it=v.begin(); it != v.end(); it++)<br> <br>typedef int i32;<br>typedef unsigned int u32;<br>typedef long long i64;<br>typedef long long ll;<br>typedef unsigned long long u64;<br>typedef string str;<br>typedef double dbl;<br> <br>#define bz(a) memset(a,0,sizeof(a))<br>#define sq(x) ((x)*(x))<br> <br>typedef vector&lt; i32 &gt; vi;<br>typedef vector&lt; str &gt; vs;<br>typedef vector&lt; i64 &gt; vl;<br>typedef vector&lt; vi  &gt; vvi;<br>typedef vector&lt; vs  &gt; vvs;<br>typedef vector&lt; dbl &gt; vd;<br>typedef vector&lt; vd  &gt; vvd;<br> <br>typedef set&lt; i32 &gt; si;<br>typedef set&lt; str  &gt; ss;<br> <br>typedef vi::iterator  itri;<br>typedef vvi::iterator itrvi;<br>typedef vs::iterator  itrs;<br>typedef vvs::iterator itrvs;<br>typedef vd::iterator  itrd;<br>typedef vvd::iterator itrvd;<br> <br>#define ffof   find_first_of<br>#define ffnof  find_first_not_of<br> <br>#define dbg_vint(v) do { copy(va(v),ostream_iterator&lt;int&gt;(cout,"\t")); cout &lt;&lt; endl; } while(0)<br>#define dbg_vll(v) do { copy(va(v),ostream_iterator&lt;ll&gt;(cout,"\t")); cout &lt;&lt; endl; } while(0)<br>#define dbg_vstr(v) do { copy(va(v),ostream_iterator&lt;str&gt;(cout,"\t")); cout &lt;&lt; endl; } while(0)<br>#define dbg_vdbl(v) do { copy(va(v),ostream_iterator&lt;dbl&gt;(cout,"\t")); cout &lt;&lt; endl; } while(0)<br> <br>#define MAX(a,b) ((a)&gt;(b)?(a):(b))<br>#define MIN(a,b) ((a)&gt;(b)?(b):(a))<br>#define ABS(a)   MAX((a),-(a))<br>#define DIST(a,b) ABS((a)-(b))<br> <br>#define vp(v,a)  (v).push_back(a)<br>#define vpb(v,a) (v).push_back(a)<br>#define vpf(v,a) (v).push_front(a)<br>#define vpob(v) (v).pop_back()<br>#define vpof(v) (v).pop_front()<br> <br>#define va(v) (v).begin(), (v).end()<br>#define vf(v,a) find(va(v),(a))<br>#define ve(v,a) (vf(v,a)!=(v).end())<br>#define vins(v,a) do { if (!ve(v,a)) vpb(v, a); } while(0)<br>#define vind(v,a) (ve(v,a)?(vf(v,a)-v.begin()):-1)<br> <br>inline i64 gcd(i64 a, i64 b) { if (b==0) return a; return gcd(b, a%b); }<br>inline i64 lcm(i64 a, i64 b) { return (a*b)/gcd(a,b);                  }<br> <br>#define sz size()<br> <br>#define mp(x, y) make_pair(x, y)<br>#define mt(x, y, z) mp(mp(x,y),z)<br> <br>#define pfst(p) (p).first<br>#define pscd(p) (p).second<br> <br>#define tfst(t) (t).first.first<br>#define tscd(t) (t).first.second<br>#define tthd(t) (t).second<br> <br>typedef pair&lt;int, int&gt; pii;<br>typedef pair&lt;int, str&gt; pis;<br>typedef pair&lt;str, int&gt; psi;<br>typedef pair&lt;str, str&gt; pss;<br> <br>typedef pair&lt; pii, int &gt; tii;<br>typedef pair&lt; pss, str &gt; tss;<br> <br>#define pq priority_queue<br> <br>int doit2(str s)<br>{<br>  int i=s.sz-1;<br>  while(i&gt;=0)<br>  {<br>    if (s[i]=='+'||s[i]=='-')<br>    {<br>      int a=doit2(s.substr(0,i));<br>      int b=doit2(s.substr(i+1));<br>      if (s[i]=='+') return a+b; else return a-b;<br>    }<br>    i--;<br>  }<br>  <br>  i=s.sz-1;<br>  while(i&gt;=0)<br>  {<br>    if (s[i]=='*'||s[i]=='/')<br>    {<br>      int a=doit2(s.substr(0,i));<br>      int b=doit2(s.substr(i+1));<br>      if (s[i]=='*') return a*b; else return a/b;<br>    }<br>    i--;<br>  }<br>  <br>  istringstream st(s);<br>  int val;<br>  st&gt;&gt;val;<br>  <br>  return val;<br>}<br> <br>str doit1(vs &amp;v, int i)<br>{<br>  if (v[i][0]!='+' &amp;&amp; v[i][0]!='-' &amp;&amp; v[i][0]!='*' &amp;&amp; v[i][0]!='/') return v[i];<br>  <br>  char op = v[i][0];<br>  <br>  str s1=v[i].substr(2);<br>  istringstream st(s1);<br>  int j,k;<br>  st&gt;&gt;j&gt;&gt;k;<br>  <br>  str ret=doit1(v,j);<br>  ret += op;<br>  ret += doit1(v,k);<br>  <br>  return ret;<br>}<br> <br>class BadParser {<br>  public:<br>  int evaluate(vector &lt;string&gt; badTree) {<br>    <br>// BEGIN CUT HERE<br>    static bool s_FirstTime = true; if (s_FirstTime) { s_FirstTime = false; run_test(-1); }<br>// END CUT HERE<br> <br>str s=doit1(badTree,0);<br> <br>return doit2(s);<br>  }<br>  <br>// BEGIN CUT HERE<br>  public:<br>  void run_test(int Case) { if ((Case == -1) || (Case == 0)) test_case_0(); if ((Case == -1) || (Case == 1)) test_case_1(); if ((Case == -1) || (Case == 2)) test_case_2(); if ((Case == -1) || (Case == 3)) test_case_3(); }<br>  private:<br>  template &lt;typename T&gt; string print_array(const vector&lt;T&gt; &amp;V) { ostringstream os; os &lt;&lt; "{ "; for (typename vector&lt;T&gt;::const_iterator iter = V.begin(); iter != V.end(); ++iter) os &lt;&lt; '\"' &lt;&lt; *iter &lt;&lt; "\","; os &lt;&lt; " }"; return os.str(); }<br>  void verify_case(int Case, const int &amp;Expected, const int &amp;Received) { cerr &lt;&lt; "Test Case #" &lt;&lt; Case &lt;&lt; "..."; if (Expected == Received) cerr &lt;&lt; "PASSED" &lt;&lt; endl; else { cerr &lt;&lt; "FAILED" &lt;&lt; endl; cerr &lt;&lt; "\tExpected: \"" &lt;&lt; Expected &lt;&lt; '\"' &lt;&lt; endl; cerr &lt;&lt; "\tReceived: \"" &lt;&lt; Received &lt;&lt; '\"' &lt;&lt; endl; } }<br>  void test_case_0() { string Arr0[] = {"+ 1 2","5","- 3 4","2","- 5 6","3","* 7 8","4","2"}; vector &lt;string&gt; Arg0(Arr0, Arr0 + (sizeof(Arr0) / sizeof(Arr0[0]))); int Arg1 = -4; verify_case(0, Arg1, evaluate(Arg0)); }<br>  void test_case_1() { string Arr0[] = {"- 1 2","5","- 3 4","2","- 5 6","3","* 7 8","4","2"}; vector &lt;string&gt; Arg0(Arr0, Arr0 + (sizeof(Arr0) / sizeof(Arr0[0]))); int Arg1 = -8; verify_case(1, Arg1, evaluate(Arg0)); }<br>  void test_case_2() { string Arr0[] = {"* 1 2","5","- 3 4","2","- 5 6","3","* 7 8","4","2"}; vector &lt;string&gt; Arg0(Arr0, Arr0 + (sizeof(Arr0) / sizeof(Arr0[0]))); int Arg1 = -1; verify_case(2, Arg1, evaluate(Arg0)); }<br>  void test_case_3() { string Arr0[] = {"99"}; vector &lt;string&gt; Arg0(Arr0, Arr0 + (sizeof(Arr0) / sizeof(Arr0[0]))); int Arg1 = 99; verify_case(3, Arg1, evaluate(Arg0)); }<br> <br>// END CUT HERE<br> <br>};<br> <br>BadParser BadParser_obj;<br> <br>extern  "C" void i_know_it_would_fail_but_at_least_i_can_try() {<br>  BadParser_obj.run_test(-1);<br>}<br> <br> <br>// Powered by PopsEdit<br>// Powered by TZTester 1.01 [25-Feb-2003]<br>// Powered by CodeProcessor<br></td>