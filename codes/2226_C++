<td class="problemText" colspan="8" valign="middle" align="left">
            #include &lt;vector&gt;<br>#include &lt;string&gt;<br> <br>using namespace std;<br> <br>class LongPipes{<br>  vector &lt;pair &lt;long long, int&gt; &gt; make1(vector &lt;long long&gt; x) {<br>    int n=x.size();<br>    int a=1&lt;&lt;n;<br>    int i,j,k;<br>    long long sum;<br>    int c;<br>    vector &lt;pair &lt;long long, int&gt; &gt; res; res.clear();<br>    res.push_back(make_pair(0,0));<br>    for (i=0;i&lt;a;i++) {<br>      k=i;<br>      c=0;<br>      sum=0;<br>      for (j=0;j&lt;n;j++) {<br>        if (k%2) {<br>          c++;<br>          sum+=x[j];<br>        }<br>        k/=2;<br>      }<br>      res.push_back(make_pair(sum,c));<br>    }<br>    sort(res.begin(),res.end());<br>    return res;<br>  }<br>  vector &lt;pair &lt;long long, int&gt; &gt; make2(vector &lt;long long&gt; x, long long s) {<br>    int n=x.size();<br>    int a=1&lt;&lt;n;<br>    int i,j,k;<br>    long long sum;<br>    int c;<br>    vector &lt;pair &lt;long long, int&gt; &gt; res; res.clear();<br>    res.push_back(make_pair(s,0));<br>    for (i=0;i&lt;a;i++) {<br>      k=i;<br>      c=0;<br>      sum=0;<br>      for (j=0;j&lt;n;j++) {<br>        if (k%2) {<br>          c++;<br>          sum+=x[j];<br>        }<br>        k/=2;<br>      }<br>      if (s&gt;=sum) res.push_back(make_pair(s-sum,c));<br>    }<br>    sort(res.begin(),res.end());<br>    return res;<br>  }<br>  long long tolong(string x) {<br>    long long res=0;<br>    int i;<br>    for (i=0;i&lt;x.size();i++) if (x[i]&gt;='0' &amp;&amp; x[i]&lt;='9') {<br>      res*=10;<br>      res+=(x[i]-'0');<br>    }<br>    return res;<br>  }<br>public:<br>  int fewestWelds(vector &lt;string&gt; segments, string desiredLength) {<br>    vector &lt;long long&gt; a,b;<br>    int i,j;<br>    for (i=0;i&lt;segments.size();i++) {<br>      if (i%2==0) a.push_back(tolong(segments[i]));<br>      else b.push_back(tolong(segments[i]));<br>    }<br>    vector &lt;pair &lt;long long, int&gt; &gt; x1,x2;<br>    x1=make1(a);<br>    x2=make2(b,tolong(desiredLength));<br>    int res=-1;<br>    int r;<br>    for (i=0,j=0;i&lt;x1.size() &amp;&amp; j&lt;x2.size();) {<br>      if (x1[i].first&gt;x2[j].first) {<br>        j++;<br>        continue;<br>      }<br>      if (x1[i].first&lt;x2[j].first) {<br>        i++;<br>        continue;<br>      }<br>      r=x1[i].second+x2[j].second;<br>      if (res&lt;0 || res&gt;r) res=r;<br>      i++; j++;<br>    }<br>    if (res&lt;0) return -1;<br>    if (res==0) return 0;<br>    return res-1;<br>  };<br>};<br> <br> <br>// Powered by FileEdit<br></td>