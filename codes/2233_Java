<td class="problemText" colspan="8" valign="middle" align="left">
            import java.util.*;<br><br>public class RangeGame<br>{<br>  int[][][] R;<br>  boolean[] P;<br>  <br>  public int[] bestDoors(String[] possible, String[] hints)<br>  {<br>    R = new int[possible.length][][];<br>    P = new boolean[possible.length];<br>    Arrays.fill(P, true);<br>    for (int i = 0; i &lt; possible.length; i++)<br>    {<br>      R[i] = doors(possible[i]);<br>    }<br>    int[] ret = new int[hints.length+1];<br>    for (int i = 0; i &lt; hints.length; i++)<br>    {<br>      ret[i] = calcBest();<br>      int[][] h = doors(hints[i]);<br>      ploop: for (int p = 0; p &lt; P.length; p++)<br>      {<br>        if (!P[p]) continue;<br>        for (int a = 0; a &lt; h.length; a++)<br>        {<br>          for (int b = 0; b &lt; R[p].length; b++)<br>          {<br>            if (R[p][b][0] &lt;= h[a][1] &amp;&amp;<br>                R[p][b][1] &gt;= h[a][0])<br>            {<br>              P[p] = false;<br>              continue ploop;<br>            }<br>          }<br>        }<br>      }<br>    }<br>    ret[hints.length] = calcBest();<br>    return ret;<br>  }<br><br>  int calcBest()<br>  {<br>    int best = 0;<br>    int bestCt = 0;<br>    for (int p = 0; p &lt; P.length; p++)<br>    {<br>      for (int i = 0; i &lt; R[p].length; i++)<br>      {<br>        int num;<br>        if (P[p])<br>        {<br>          num = R[p][i][0];<br>        }<br>        else<br>        {<br>          num = R[p][i][1] + 1;<br>        }<br>        int v = countValid(num);<br>        if (v &gt; bestCt ||<br>            v == bestCt &amp;&amp; num &lt; best)<br>        {<br>          best = num;<br>          bestCt = v;<br>        }<br>      }<br>    }<br>    return best;<br>  }<br><br>  int countValid(int num)<br>  {<br>    int ret = 0;<br>    for (int p = 0; p &lt; P.length; p++)<br>    {<br>      if (!P[p]) continue;<br>      for (int i = 0; i &lt; R[p].length; i++)<br>      {<br>        if (num &gt;= R[p][i][0] &amp;&amp; num &lt;= R[p][i][1])<br>          ret++;<br>      }<br>    }<br>    return ret;<br>  }<br>  <br>  int[][] doors(String s)<br>  {<br>    String[] rs = s.split(" ");<br>    int ret[][] = new int[rs.length][2];<br>    int minP = 0;<br>    for (int j = 0; j &lt; rs.length; j++)<br>    {<br>      int space = rs[j].indexOf('-');<br>      if (space &lt; 0)<br>      {<br>        int x = Integer.parseInt(rs[j]);<br>        ret[j][0] = x;<br>        ret[j][1] = x;<br>      }<br>      else<br>      {<br>        int l = Integer.parseInt(rs[j].substring(0, space));<br>        int h = Integer.parseInt(rs[j].substring(space+1));<br>        ret[j][0] = l;<br>        ret[j][1] = h;<br>      }<br>    }<br>    return ret;<br>  }<br>  <br>  public static void test(int c)<br>  {<br>    if (c == 0)<br>    {<br>      String[] input0 = {"1-100","100-200","200-300"};<br>      String[] input1 = {"50-75","250-1000"};<br>      int[] realOutput = { 100,  200,  100 };<br>    RangeGame t = new RangeGame();<br>      int[] testOutput = t.bestDoors(input0, input1);<br>      boolean ok = true;<br>      ok &amp;= testOutput.length == realOutput.length;<br>      for (int dim1 = 0; (dim1 &lt; testOutput.length) &amp;&amp; ok ; dim1++)<br>      {<br>ok &amp;= testOutput[dim1] == realOutput[dim1];<br>      }<br>      if (ok)<br>      {<br>        System.out.println("Case 0 is ok");<br>      }<br>      else<br>      {<br>        System.out.println("Case 0 failed");<br>        System.out.println("Expected:");<br>        for (int dim1 = 0; dim1 &lt; realOutput.length; dim1++)<br>        {<br>          System.out.println(realOutput[dim1]);<br>        }<br>        System.out.println("Got:");<br>        for (int dim1 = 0; dim1 &lt; testOutput.length; dim1++)<br>        {<br>          System.out.println(testOutput[dim1]);<br>        }<br>      }<br><br>    }<br><br>    if (c == 1)<br>    {<br>      String[] input0 = {"100-900 1111","200-800 2222","300-700 3333","4444"};<br>      String[] input1 = {"2000-4000","500"};<br>      int[] realOutput = { 300,  100,  4444 };<br>    RangeGame t = new RangeGame();<br>      int[] testOutput = t.bestDoors(input0, input1);<br>      boolean ok = true;<br>      ok &amp;= testOutput.length == realOutput.length;<br>      for (int dim1 = 0; (dim1 &lt; testOutput.length) &amp;&amp; ok ; dim1++)<br>      {<br>ok &amp;= testOutput[dim1] == realOutput[dim1];<br>      }<br>      if (ok)<br>      {<br>        System.out.println("Case 1 is ok");<br>      }<br>      else<br>      {<br>        System.out.println("Case 1 failed");<br>        System.out.println("Expected:");<br>        for (int dim1 = 0; dim1 &lt; realOutput.length; dim1++)<br>        {<br>          System.out.println(realOutput[dim1]);<br>        }<br>        System.out.println("Got:");<br>        for (int dim1 = 0; dim1 &lt; testOutput.length; dim1++)<br>        {<br>          System.out.println(testOutput[dim1]);<br>        }<br>      }<br><br>    }<br><br>    if (c == 2)<br>    {<br>      String[] input0 = {"346591240","858005279","1321831520","1453846384","1972718383","530431653-1848872872"};<br>      String[] input1 = {"1400000000-2000000000","400000000-600000000"};<br>      int[] realOutput = { 858005279,  346591240,  346591240 };<br>    RangeGame t = new RangeGame();<br>      int[] testOutput = t.bestDoors(input0, input1);<br>      boolean ok = true;<br>      ok &amp;= testOutput.length == realOutput.length;<br>      for (int dim1 = 0; (dim1 &lt; testOutput.length) &amp;&amp; ok ; dim1++)<br>      {<br>ok &amp;= testOutput[dim1] == realOutput[dim1];<br>      }<br>      if (ok)<br>      {<br>        System.out.println("Case 2 is ok");<br>      }<br>      else<br>      {<br>        System.out.println("Case 2 failed");<br>        System.out.println("Expected:");<br>        for (int dim1 = 0; dim1 &lt; realOutput.length; dim1++)<br>        {<br>          System.out.println(realOutput[dim1]);<br>        }<br>        System.out.println("Got:");<br>        for (int dim1 = 0; dim1 &lt; testOutput.length; dim1++)<br>        {<br>          System.out.println(testOutput[dim1]);<br>        }<br>      }<br><br>    }<br><br>  }<br><br>  public static void main(String argv[])<br>  {<br>    if (argv.length == 0)<br>    {<br>      for (int i = 0; i &lt; 3; i++)<br>      {<br>        test(i);<br>      }<br>    }<br>    else<br>    {<br>      for (int i = 0; i &lt; argv.length; i++)<br>      {<br>        test(Integer.parseInt(argv[i]));<br>      }<br>    }<br>  }<br><br>}<br><br><br><br>// Powered by FileEdit<br>// Powered by CodeProcessor<br></td>