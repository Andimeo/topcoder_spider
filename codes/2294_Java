<td class="problemText" colspan="8" valign="middle" align="left">
            public class Scale {<br>    // there is probably a java 2D class that does this, but hey<br>    int ox,oy,sX,sY; String[] img;<br>    int nyx,nyy;<br>    static int step(int a,int s, int m) {<br>  int z = a + s;<br>  z -= z % s;<br>  if(z&gt;m) z=m;<br>  return z;<br>    }<br>    int area(int x1,int y1,int x2,int y2) {<br>  int sum= 0;<br>  int parts = 0;<br>  int xi = x1;<br>  while(xi &lt; x2) {<br>      int x_real = xi/nyx;<br>      int xnext = step(xi, nyx, x2);<br>      int mul = (xnext-xi);<br>      int yi = y1;<br>      while(yi &lt; y2) {<br>    int y_real = yi/nyy;<br>    int ynext = step(yi, nyy, y2);<br>    int madf = mul*(ynext-yi);<br>    sum += madf * img[y_real].charAt(x_real);<br>    parts += madf;<br>    yi = ynext;<br>      }<br>      xi = xnext;<br>  }<br>  return sum;<br>    }<br>public String[] scale(int _nyx, int _nyy, String[] image) {<br>    nyx = _nyx;<br>    nyy = _nyy;<br>    oy = image.length;<br>    ox = image[0].length();<br>    img = image;<br>    int mul = ox*oy;<br>    String res[] = new String[nyy];<br>    for(int y=0;y&lt;nyy;y++) {<br>  char a[] = new char[nyx];<br>  for(int x=0;x&lt;nyx;x++) {<br>      int i = area(x*ox,y*oy,(x+1)*ox,(y+1)*oy);<br>      i = (i + mul/2) / mul;<br>      a[x] = (char)i;<br>  }<br>  res[y] = new String(a);<br>    }<br>    return res;<br>}}<br></td>