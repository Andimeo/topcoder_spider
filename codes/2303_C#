<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br>using System.Collections;<br>public class SquareCode<br>{<br>  string[] g;<br>  public string[] completeIt(string[] grille)<br>  {<br>    g = grille;<br>    char[,] arr = new char[grille.Length,grille[0].Length];<br>    for(int i=0;i&lt;g.Length;i++)<br>    {<br>      for(int j=0;j&lt;g[0].Length;j++)<br>      {<br>        arr[i,j] = g[i][j];<br>      }<br> <br>    }<br>    for(int i=0;i&lt;(g.Length+1)/2;i++)<br>    {<br>      for(int j=0;j&lt;(g.Length+1)/2;j++)<br>      {<br>        int count = 0;<br>        int how = 0;<br>        for(int k=0;k&lt;4;k++)<br>          if(which(arr,i,j,k) == '.') { count++; how |= (1&lt;&lt;k); }<br>        if(count &gt; 1) return new string[0];<br>        if(count == 0) arr[i,j] = '.';<br>      }<br>    }<br>    string[] res = new string[g.Length];<br>    for(int i=0;i&lt;res.Length;i++)<br>    {<br>      string acc = "";<br>      for(int j=0;j&lt;res.Length;j++)<br>      {<br>        acc += arr[i,j];<br>      }<br>      res[i] = acc;<br>    }<br>    return res;<br>  }<br>  char which(char[,] arr,int i,int j,int mask)<br>  {<br>    if((mask &amp; 1) &gt; 0)<br>    { <br>      int t = g.Length-j -1;<br>      j = i;<br>      i = t;<br>    }<br>    if((mask &amp; 2) &gt; 0)<br>    {<br>      j = g.Length - j - 1;<br>      i = g.Length - i - 1;<br>    }<br>    return arr[i,j];<br>  }  <br>}<br></td>