<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br> <br> <br>  public class Transpose<br>  {<br>    int pred(int k,int L,int M){return (k%M)*L+k/M;}<br>    void exchange(int k, int j) { int i; i=k; k=j; j=i; return; }<br>    public int numSwaps(int M, int N)<br>    {<br>      int swaps=0;<br>      int NxM=N*M;<br>      int i,j,k, stillToMove;<br>      for (i=0,stillToMove=NxM; stillToMove&gt;0; i++) <br>      {<br>        for (j=pred(i,N,M);j&gt;i;j=pred(j,N,M));<br>        if (j&lt;i) continue;<br>        for (k=i,j=pred(i,N,M);j!=i;k=j,j=pred(j,N,M)) <br>        {<br>          exchange(k,j);<br>          swaps++;<br>          --stillToMove;<br>        }<br>        --stillToMove;<br>      } <br>      return swaps;<br>    }<br> <br>  }<br></td>