<td class="problemText" colspan="8" valign="middle" align="left">
            using System; using System.Collections; public class LinePlotter<br>{<br>  public int timeToPlot(string[] lines) {<br>    int N = lines.Length;<br>    int[,] C = new int[N+2,4];<br>    for (int i=0; i&lt;N; i++) { String[] ss = lines[i].Split(' '); for (int j=0; j&lt;4; j++)C[i+1,j]=INT(ss[j]); }<br>    <br>    int n1=N+1;<br>    int all = (1&lt;&lt;n1)-1;<br>    int[,,] best = new int[1&lt;&lt;n1, N+2, 2]; // best to plot bitmask I and be at J<br>    <br>    for (int I=0; I&lt;=all; I++) for (int J=0; J&lt;N+2; J++) for (int K=0; K&lt;2; K++)<br>    {<br>      if (J==N+1 &amp;&amp; I==0) continue;<br>      if (J==N+1 || (I&amp;(1&lt;&lt;J))==0) { best[I,J,K] = MAX; continue; }<br>      int min = MAX;<br>      int D = Math.Max(Math.Abs(C[J,2]-C[J,0]), Math.Abs(C[J,3]-C[J,1]));<br>      for (int x=0; x&lt;N+2; x++) if (x != J &amp;&amp; (x==N+1 || (I &amp; (1&lt;&lt;x)) != 0)) for (int L=0; L&lt;2; L++)<br>      {<br>        int prev = best[I-(1&lt;&lt;J),x,L];<br>        int cur = prev + Math.Max(Math.Abs(C[x,2-L-L]-C[J,K+K]), Math.Abs(C[x,3-L-L]-C[J,K+K+1])) + D;<br>        min = Math.Min(min, cur);<br>      }<br>      best[I,J,K]=min;<br>    }<br>    <br>    return Math.Min(best[all, 0, 0], best[all, 0, 1]);<br>}<br> <br>const int MAX = 999999999;<br> <br>static ArrayList AR { get { return new ArrayList(); }}<br>static Hashtable MAP { get { return new Hashtable(); }}<br> <br>static int   [] IA(ArrayList ar) { return (int   []) ar.ToArray(typeof(int   )); }<br>static string[] SA(ArrayList ar) { return (string[]) ar.ToArray(typeof(string)); }<br> <br>int    INT   (Object x) { return Convert.ToInt32 (x.ToString()); }<br>long   LONG  (Object x) { return Convert.ToInt64 (x.ToString()); }<br>double DOUBLE(Object x) { return Convert.ToDouble(x.ToString()); }<br> <br>static void WR(Object x, params object[] p) { Console.Write(x.ToString(), p); }<br>static void WL(Object x, params object[] p) { Console.WriteLine(x.ToString(), p); }<br>static void WL() { WL(""); }<br>static void WS(params Object[] c) { foreach (Object x in c) WR(x.ToString() + " "); }<br>static void WSL(params Object[] c) { foreach (Object x in c) WR(x.ToString() + " "); WL(); }<br>static void WS(Array ar, int X) { for (int x=0; x&lt;X; x++) WS(ar.GetValue(x)); WL(); }<br>static void WS(Array ar, int X, int Y) { for (int y=0; y&lt;Y; y++) { for (int x=0; x&lt;X; x++) WS(ar.GetValue(x,y)); WL(); }}}<br> <br>// Powered by PopsEdit<br></td>