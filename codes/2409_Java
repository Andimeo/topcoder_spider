<td class="problemText" colspan="8" valign="middle" align="left">
            public class CrimeLab<br>{<br>  void init()<br>  {<br>    for(int i = 0; i &lt; target.length(); ++i)<br>      tc[i/7][i%7] = target.charAt(i);<br>  }<br>  void go()<br>  {<br>    for(int j = 0; j &lt; 7; ++j)<br>      for(int k = 0; k &lt; 7; ++k)<br>        m[0][j][k] = tc[j][k];<br>    for(int i = 1; i &lt; 4; ++i)<br>      for(int j = 0; j &lt; 7; ++j)<br>        for(int k = 0; k &lt; 7; ++k)<br>          m[i][j][k] = m[i-1][6-k][j];<br>    for(int i = 4; i &lt; 8; ++i)<br>      for(int j = 0; j &lt; 7; ++j)<br>        for(int k = 0; k &lt; 7; ++k)<br>          m[i][j][k] = m[i-4][6-j][k];<br>    for(int i = 8; i &lt; 16; ++i)<br>      for(int j = 0; j &lt; 7; ++j)<br>        for(int k = 0; k &lt; 7; ++k)<br>          m[i][j][k] = m[i-8][j][6-k];<br>    for(int i = 0; i &lt; 16; ++i)<br>    {<br>      StringBuilder sb = new StringBuilder();<br>      for(int j = 0; j &lt; 7; ++j)<br>        for(int k = 0; k &lt; 7; ++k)<br>          sb.append(m[i][j][k]);<br>      t[i] = sb.toString();<br>    }<br>          <br>  }<br>  String target;<br>  char[][] tc = new char[7][7];<br>  char[][][] m = new char[16][7][7];<br>  String[] t = new String[16];<br>  <br>  boolean match(String a, String b)<br>  {<br>    for(int i =  0; i &lt; a.length(); ++i)<br>      if(a.charAt(i) == b.charAt(i))<br>        return false;<br>    return true;<br>  }<br>  public int matchFragment(String tar, String[] cand)<br>  {<br>    target = tar;<br>    init();<br>    go();<br>    int res = 0;<br>    int index = -1;<br>    for(int i = 0; i &lt; cand.length; ++i)<br>    {<br>      for(int j = 0; j &lt; t.length; ++j)<br>        if(match(cand[i], t[j]))<br>        {<br>          ++res;<br>          index = i;<br>          break;<br>        }<br>    }<br>    if(res == 0)<br>      return -1;<br>    if(res &gt; 1)<br>      return -2;<br>    return index;<br>  }<br>  <br>  <br>}<br></td>