<td class="problemText" colspan="8" valign="middle" align="left">
            import java.util.*;<br> <br>public class Crossings<br>{<br>    boolean deb=false;<br>    public int[] getOut(int[] pos, int[] ang)<br>    {<br>        int len = pos.length;<br>        double h = 0;<br>        while(h&gt;=0)<br>        {<br>            h = -1;<br>            int m=0;<br>            for (int i=0; i &lt; len; i++)<br>            {<br>                for (int j=0; j &lt; len; j++)<br>                {<br>                    if (i==j)continue;<br>                    if (ang[i]&lt;0||ang[j]&lt;0)continue;<br>                    if (pos[i]&lt;pos[j] &amp;&amp; ang[i]&lt;ang[j])<br>                    {<br>                        double d = pos[j]-pos[i];<br>                        double ca = Math.tan(Math.toRadians(ang[i]));<br>                        double cb = Math.tan(Math.toRadians(180-ang[j]));<br>                        double ch = d * ca * cb / (ca+cb);<br>                        if (ch&lt;0)<br>                        {<br>                            System.out.println("ch&lt;0");<br>                            continue;<br>                        }<br>                        if (h&lt;0 || ch&lt;h)<br>                        {<br>                            if(deb)System.out.println("h="+h);<br>                            if(deb)System.out.println("i="+i);<br>                            if(deb)System.out.println("j="+j);<br>                            h = ch;<br>                            if (Math.abs(90-ang[j])&gt;Math.abs(90-ang[i]))<br>                            {<br>                                m = j;<br>                            }<br>                            else if (Math.abs(90-ang[j])&lt;Math.abs(90-ang[i]))<br>                            {<br>                                m = i;<br>                            }<br>                            else<br>                            {<br>                                if (i&lt;j) m = j;<br>                                else m = i;<br>                            }<br>                        }<br>                    }<br>                }<br>            }<br>            if (h&gt;0)<br>            {<br>                if(deb)System.out.println("m="+m);<br>                if(deb)System.out.println("h="+h);<br>                pos[m]=-1;<br>                ang[m]=-1;<br>            }<br>        }<br>        List ret = new ArrayList();<br>        for (int i = 0; i &lt; len; i++)<br>        {<br>            if (ang[i]&gt;0) ret.add(new Integer(i));<br>        }<br>        return toIntArray(ret);<br>    }<br> <br>    //Converts a Collection of Integers in an int[]<br>    public static int[] toIntArray(Collection c)<br>    {<br>        int ret[] = new int[c.size()];<br>        Iterator it = c.iterator();<br>        <br>        for (int i = 0; i&lt;ret.length; i++)<br>        {<br>            ret[i] = ((Integer)it.next()).intValue();<br>        }<br>        return ret;<br>    }<br> <br>    public static void main(String args[])<br>    {<br>        Crossings x = new Crossings();<br>     <br>        //Example 0<br>        show(x.getOut(new int[] {0, 40, 20, 10, 30, 50},<br>            new int[] {105, 40, 30, 75, 135, 75}));<br>        show(new int[] { 0,  3,  5 });<br>        System.out.println();<br> <br>        //Example 1<br>        show(x.getOut(new int[] {0, 40, 20},<br>            new int[] {40, 40, 140}));<br>        show(new int[] { 0,  1 });<br>        System.out.println();<br> <br>        //Example 2<br>        show(x.getOut(new int[] {10, 20},<br>            new int[] {89, 91}));<br>        show(new int[] { 0 });<br>        System.out.println();<br> <br>        show(x.getOut(new int[] {20, 10},<br>            new int[] {91, 89}));<br>        show(new int[] { 0 });<br>        System.out.println();<br>        <br>    }<br> <br>    //Prints an int Array <br>    public static void show(int arr[]) { show(arr, false); }<br>    public static void show(int arr[], boolean newline)<br>    {<br>        String str = "{";<br>        for (int i = 0; i&lt;arr.length; i++)<br>        {<br>            str += "" + arr[i];<br>            if (i&lt;(arr.length-1)) <br>            {<br>                str += ",";<br>                if (newline) str += "\n";<br>            }<br>        }<br>        str += "}";<br>        System.out.println(str);<br>    }<br>}<br></td>