<td class="problemText" colspan="8" valign="middle" align="left">
            import java.util.*;<br><br>public class ResultsTable<br>{<br><br>  class Person implements Comparable<br>  {<br>    String name;<br>    int[] scores;<br>    int[] count;<br><br>    public Person(String name)<br>    {<br>      this.name = name;<br>      scores = new int[N+1];<br>      count = new int[N+1];<br>    }<br><br>    public void add(int metric, int count, int score)<br>    {<br>      if (count &lt;= this.count[metric]) return;<br>      this.count[metric] = count;<br>      scores[metric] = score;<br>    }<br>    <br>    public int compareTo(Object o)<br>    {<br>      Person p = (Person)o;<br>      for (int i = 0; i &lt; S.length; i++)<br>      {<br>        int c = Math.abs(S[i]);<br>        c--;<br>        if (c == 0)<br>        {<br>          int ret = name.compareTo(p.name);<br>          if (ret == 0) continue;<br>          if (S[i] &lt; 0) return -ret;<br>          return ret;<br>        }<br>        if (count[c] == 0 &amp;&amp; p.count[c] == 0) continue;<br>        if (count[c] == 0) return S[i];<br>        if (p.count[c] == 0) return -S[i];<br>        int diff = scores[c] - p.scores[c];<br>        if (diff == 0) continue;<br>        if (S[i] &lt; 0) diff = -diff;<br>        if (HI[c]) diff = -diff;<br>        return diff;<br>      }<br>      return 0;<br>    }<br><br>    public String toString()<br>    {<br>      StringBuffer ret = new StringBuffer(name);<br>      for (int i = 1; i &lt; count.length; i++)<br>      {<br>        ret.append(' ');<br>        if (count[i] &gt; 0)<br>        {<br>          ret.append("" + scores[i]);<br>        }<br>        else<br>        {<br>          ret.append('-');<br>        }<br>      }<br>      return ret.toString();<br>    }<br>  }<br><br>  boolean[] HI;<br>  int[] S;<br>  int N;<br>  <br>  public String[] generateTable(String[] results, int[] sort, String order)<br>  {<br>    S = sort;<br>    N = sort.length - 1;<br>    HI = new boolean[N+1];<br>    //    System.out.println("N = " + N);<br>    for (int i = 0; i &lt; HI.length-1; i++)<br>    {<br>      HI[i+1] = order.charAt(i) == 'H';<br>    }<br>    Map people = new HashMap();<br>    for (int i = 0; i &lt; results.length; i++)<br>    {<br>      String[] data = results[i].split("\\s+");<br>      Person p = (Person)people.get(data[0]);<br>      if (p == null)<br>      {<br>        p = new Person(data[0]);<br>        people.put(data[0], p);<br>      }<br>      p.add(Integer.parseInt(data[1]), Integer.parseInt(data[2]),<br>            Integer.parseInt(data[3]));<br>    }<br>    Person[] table = new Person[people.size()];<br>    int ctr = 0;<br>    for (Iterator i = people.keySet().iterator(); i.hasNext(); )<br>    {<br>      Person p = (Person)people.get(i.next());<br>      table[ctr++] = p;<br>    }<br>    Arrays.sort(table);<br>    String[] ret = new String[table.length];<br>    for (int i = 0; i &lt; ret.length; i++)<br>    {<br>      ret[i] = table[i].toString();<br>    }<br>    return ret;<br>  }<br><br>  public static void test(int c)<br>  {<br>    if (c == 0)<br>    {<br>      String[] input0 = {"A 1 1 54","A 2 1 20","a 1 1 23","a 2 1 50"};<br>      int[] input1 = {-1,2,-3};<br>      String input2 = "HL";<br>      String[] realOutput = { "a 23 50",  "A 54 20" };<br>    ResultsTable t = new ResultsTable();<br>      String[] testOutput = t.generateTable(input0, input1, input2);<br>      boolean ok = true;<br>      ok &amp;= testOutput.length == realOutput.length;<br>      for (int dim1 = 0; (dim1 &lt; testOutput.length) &amp;&amp; ok ; dim1++)<br>      {<br>        ok &amp;= testOutput[dim1].equals(realOutput[dim1]);<br>      }<br>      if (ok)<br>      {<br>        System.out.println("Case 0 is ok");<br>      }<br>      else<br>      {<br>        System.out.println("Case 0 failed");<br>        System.out.println("Expected:");<br>        for (int dim1 = 0; dim1 &lt; realOutput.length; dim1++)<br>        {<br>          System.out.println(realOutput[dim1]);<br>        }<br>        System.out.println("Got:");<br>        for (int dim1 = 0; dim1 &lt; testOutput.length; dim1++)<br>        {<br>          System.out.println(testOutput[dim1]);<br>        }<br>      }<br><br>    }<br><br>    if (c == 1)<br>    {<br>      String[] input0 = {"A 1 1 54","A 2 1 20","B 1 1 23","B 2 1 50"};<br>      int[] input1 = {-2,-3,1};<br>      String input2 = "HL";<br>      String[] realOutput = { "B 23 50",  "A 54 20" };<br>    ResultsTable t = new ResultsTable();<br>      String[] testOutput = t.generateTable(input0, input1, input2);<br>      boolean ok = true;<br>      ok &amp;= testOutput.length == realOutput.length;<br>      for (int dim1 = 0; (dim1 &lt; testOutput.length) &amp;&amp; ok ; dim1++)<br>      {<br>        ok &amp;= testOutput[dim1].equals(realOutput[dim1]);<br>      }<br>      if (ok)<br>      {<br>        System.out.println("Case 1 is ok");<br>      }<br>      else<br>      {<br>        System.out.println("Case 1 failed");<br>        System.out.println("Expected:");<br>        for (int dim1 = 0; dim1 &lt; realOutput.length; dim1++)<br>        {<br>          System.out.println(realOutput[dim1]);<br>        }<br>        System.out.println("Got:");<br>        for (int dim1 = 0; dim1 &lt; testOutput.length; dim1++)<br>        {<br>          System.out.println(testOutput[dim1]);<br>        }<br>      }<br><br>    }<br><br>    if (c == 2)<br>    {<br>      String[] input0 = {"A 1 1 54","A 2 1 20","B 1 1 54"};<br>      int[] input1 = {2,4,-3,1};<br>      String input2 = "HLH";<br>      String[] realOutput = { "B 54 - -",  "A 54 20 -" };<br>    ResultsTable t = new ResultsTable();<br>      String[] testOutput = t.generateTable(input0, input1, input2);<br>      boolean ok = true;<br>      ok &amp;= testOutput.length == realOutput.length;<br>      for (int dim1 = 0; (dim1 &lt; testOutput.length) &amp;&amp; ok ; dim1++)<br>      {<br>        ok &amp;= testOutput[dim1].equals(realOutput[dim1]);<br>      }<br>      if (ok)<br>      {<br>        System.out.println("Case 2 is ok");<br>      }<br>      else<br>      {<br>        System.out.println("Case 2 failed");<br>        System.out.println("Expected:");<br>        for (int dim1 = 0; dim1 &lt; realOutput.length; dim1++)<br>        {<br>          System.out.println(realOutput[dim1]);<br>        }<br>        System.out.println("Got:");<br>        for (int dim1 = 0; dim1 &lt; testOutput.length; dim1++)<br>        {<br>          System.out.println(testOutput[dim1]);<br>        }<br>      }<br><br>    }<br><br>    if (c == 3)<br>    {<br>      String[] input0 = {"q 3 90 444","J 2 6 347","b 3 17 -543","I 2 13 897","M 3 55 -439"};<br>      int[] input1 = {4,-2,-1,-3};<br>      String input2 = "LHH";<br>      String[] realOutput = { "q - - 444",  "M - - -439",  "b - - -543",  "J - 347 -",  "I - 897 -" };<br>    ResultsTable t = new ResultsTable();<br>      String[] testOutput = t.generateTable(input0, input1, input2);<br>      boolean ok = true;<br>      ok &amp;= testOutput.length == realOutput.length;<br>      for (int dim1 = 0; (dim1 &lt; testOutput.length) &amp;&amp; ok ; dim1++)<br>      {<br>        ok &amp;= testOutput[dim1].equals(realOutput[dim1]);<br>      }<br>      if (ok)<br>      {<br>        System.out.println("Case 3 is ok");<br>      }<br>      else<br>      {<br>        System.out.println("Case 3 failed");<br>        System.out.println("Expected:");<br>        for (int dim1 = 0; dim1 &lt; realOutput.length; dim1++)<br>        {<br>          System.out.println(realOutput[dim1]);<br>        }<br>        System.out.println("Got:");<br>        for (int dim1 = 0; dim1 &lt; testOutput.length; dim1++)<br>        {<br>          System.out.println(testOutput[dim1]);<br>        }<br>      }<br><br>    }<br><br>    if (c == 4)<br>    {<br>      String[] input0 = {"f 1 37 -861","s 1 92 -829","v 2 78 247","M 1 30 -31","E 1 45 -646"};<br>      int[] input1 = {3,1,2};<br>      String input2 = "LL";<br>      String[] realOutput = { "v - 247",  "E -646 -",  "M -31 -",  "f -861 -",  "s -829 -" };<br>    ResultsTable t = new ResultsTable();<br>      String[] testOutput = t.generateTable(input0, input1, input2);<br>      boolean ok = true;<br>      ok &amp;= testOutput.length == realOutput.length;<br>      for (int dim1 = 0; (dim1 &lt; testOutput.length) &amp;&amp; ok ; dim1++)<br>      {<br>        ok &amp;= testOutput[dim1].equals(realOutput[dim1]);<br>      }<br>      if (ok)<br>      {<br>        System.out.println("Case 4 is ok");<br>      }<br>      else<br>      {<br>        System.out.println("Case 4 failed");<br>        System.out.println("Expected:");<br>        for (int dim1 = 0; dim1 &lt; realOutput.length; dim1++)<br>        {<br>          System.out.println(realOutput[dim1]);<br>        }<br>        System.out.println("Got:");<br>        for (int dim1 = 0; dim1 &lt; testOutput.length; dim1++)<br>        {<br>          System.out.println(testOutput[dim1]);<br>        }<br>      }<br><br>    }<br><br>  }<br><br>  public static void main(String argv[])<br>  {<br>    if (argv.length == 0)<br>    {<br>      for (int i = 0; i &lt; 5; i++)<br>      {<br>        test(i);<br>      }<br>    }<br>    else<br>    {<br>      for (int i = 0; i &lt; argv.length; i++)<br>      {<br>        test(Integer.parseInt(argv[i]));<br>      }<br>    }<br>  }<br><br>}<br><br><br><br>// Powered by FileEdit<br>// Powered by CodeProcessor<br></td>