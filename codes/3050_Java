<td class="problemText" colspan="8" valign="middle" align="left">
            public class SquareLanguage {<br>public long howMany(int[] abounds, int[] bbounds, int[] cbounds, int[] dbounds) {<br>long[][] bounds = new long[4][2];<br>for (int i = 0; i &lt; 2; i++) { bounds[0][i] = abounds[i]; bounds[1][i] = bbounds[i]; bounds[2][i] = cbounds[i]; bounds[3][i] = dbounds[i]; }<br>long total = 0;<br>long nominal = 1; for (int i = 0; i &lt; 4; i++) nominal*=(bounds[i][1]-bounds[i][0]+1);<br>total += nominal*nominal;<br>for (int i = 0; i &lt; 4; i++) {<br>boolean all = true; for (int j = 0; j &lt; 4; j++) if (j!=i &amp;&amp; bounds[j][0]!=0) all=false;<br>if (!all) continue;<br>long excess = 1;<br>for (int j = 0; j &lt; 4; j++) if (j!=i) excess*=bounds[j][1]-bounds[j][0]+1; else excess*=(bounds[j][1]-bounds[j][0]+1)*(bounds[j][1]-bounds[j][0]+1);<br>total -= excess;<br>long extra = 1;<br>for (int j = 0; j &lt; 4; j++) if (j!=i) extra*=bounds[j][1]-bounds[j][0]+1; else extra*=(bounds[j][1]*2-bounds[j][0]*2+1);<br>total += extra;<br>}<br>return total;<br>}<br>}<br></td>