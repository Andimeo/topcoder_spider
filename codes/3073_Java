<td class="problemText" colspan="8" valign="middle" align="left">
            import java.util.*;<br>public class HeartsGame {<br>  public String[] score(String[] tricks) {<br>    int[] scores = new int[4];<br>    int lead = 0;<br> <br>    String[] canthave = new String[4];<br>    for (int i=0; i&lt;4; i++) canthave[i] = "";<br>    boolean[] cheated = new boolean[4];<br>    boolean[] firsttrick = new boolean[4];<br>    boolean[] musthaveAllHearts = new boolean[4];<br>    boolean heartsBroken = false;<br> <br>    for (int i=0; i&lt;13; i++) {<br>      <br>      char suit = tricks[i].charAt(0);<br>      int pts = 0;<br>      int winner = 0;<br>      int highest = -1;<br>      for (int j=0; j&lt;4; j++) {<br>        int jj = (lead + j) % 4;<br>        char s = tricks[i].charAt(3*j);<br>        char v = tricks[i].charAt(3*j+1);<br>        if (s==suit &amp;&amp; getval(v) &gt; highest) {<br>          highest = getval(v);<br>          winner = j;<br>        }<br>        if (s != suit) {<br>          canthave[jj] += suit;<br>        }<br>        boolean points = false;<br>        if (s == 'H') { pts++; points = true; }<br>        if (s== 'S' &amp;&amp; v == 'Q') { pts += 13; points = true; }<br>        if (!heartsBroken &amp;&amp; s=='H' &amp;&amp; j==0) { <br>          musthaveAllHearts[jj] = true;<br>        }<br>        if (s=='H') heartsBroken = true;<br> <br>        if (points &amp;&amp; i==0) { firsttrick[jj] = true; }<br>        if (canthave[jj].indexOf(s) != -1) cheated[jj] = true;<br>        if (i &gt; 0 &amp;&amp;  !points &amp;&amp; firsttrick[jj]) cheated[jj] = true;<br>        if (musthaveAllHearts[jj] &amp;&amp; s != 'H') cheated[jj] = true;<br>      }<br> <br>      scores[(winner + lead) % 4] += pts;<br>      lead = (winner + lead) % 4;<br>  <br>    }<br> <br>    // check for shooting the moon<br>    for (int i=0; i&lt;4; i++) {<br>      if (scores[(i+1)%4] == 0<br>      &amp;&amp; scores[(i+2)%4] == 0<br>      &amp;&amp; scores[(i+3)%4] == 0) {<br>        Arrays.fill(scores, 26);<br>        scores[i] = 0;<br>      }<br>    }<br> <br>    String[] ret = new String[4];<br>    for (int i=0; i&lt;4; i++) {<br>      if (cheated[i]) ret[i] = "CHEATER!"; else<br>      ret[i] = String.valueOf(scores[i]);<br>    }<br>    return ret;<br>  }<br> <br>  int getval(char ch) {<br>    if (ch &gt;= '2' &amp;&amp; ch &lt;= '9') return (ch - '0');<br>    if (ch=='T') return 10;<br>    if (ch=='J') return 11;<br>    if (ch=='Q') return 12;<br>    if (ch=='K') return 13;<br>    if (ch=='A') return 14;<br>    throw new IllegalStateException();<br>  }<br>}<br> <br>// Powered by PopsEdit<br></td>