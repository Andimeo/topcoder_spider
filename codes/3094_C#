<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br>using System.Collections;<br>using System.Collections.Specialized;<br>using System.Text;<br>using System.Text.RegularExpressions;<br> <br>public class ImageSteganography<br>{<br>  public string[] encode(string[] image, string message)<br>  {<br>    int[] messageCode = new int[message.Length * 3];<br>    <br>    int pos = 0;<br>    for (int ix = 0; ix &lt; message.Length; ix++)<br>    {<br>      char ch = message[ix];<br>      int code = 0;<br>      if ((ch &gt;= 'A') &amp;&amp; (ch &lt;= 'Z'))<br>        code = Convert.ToByte(ch) - Convert.ToByte('A') + 1;<br>      if ((ch &gt;= 'a') &amp;&amp; (ch &lt;= 'z'))<br>        code = Convert.ToByte(ch) - Convert.ToByte('a') + 27;<br>      if ((ch &gt;= '0') &amp;&amp; (ch &lt;= '9'))<br>        code = Convert.ToByte(ch) - Convert.ToByte('0') + 53;<br>        <br>      messageCode[pos++] = (code &amp; 3);<br>      messageCode[pos++] = (code &amp; 12) / 4;<br>      messageCode[pos++] = (code &amp; 48) / 16;<br>    }<br>  <br>    string[] result = new string[image.Length];<br>    <br>    pos = 0;<br>    for (int iy = 0; iy &lt; image.Length; iy++)<br>    {<br>      string line = image[iy];<br>      string newLine = "";<br>      for (int ix = 0; ix &lt; line.Length; ix += 3)<br>      {<br>        int pixel = Convert.ToByte(line.Substring(ix, 3));<br>        if (pos &lt; messageCode.Length)<br>          pixel = (pixel &amp; 252) | messageCode[pos++];<br>        else<br>          pixel = (pixel &amp; 252) | 3;<br>          <br>        newLine += pixel.ToString().PadLeft(3, '0');<br>      }<br>      <br>      result[iy] = newLine;<br>    }<br>    <br>    return result;<br>  }<br>}<br></td>