<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br>using System.Collections;<br>using System.Collections.Specialized;<br> <br>public class PrimeAnagrams {<br> string s;<br> int n;<br> Hashtable h=new Hashtable();<br> public int[] primes(string ss) {<br>  s=ss; n=s.Length; b=new bool[n];<br>  doit(0,"");<br>  return bb;<br> }<br> bool[] b;<br> int[] bb=new int[]{};<br> void update(int s1, int s2, int s3) {<br>  int[] a=new int[]{s1,s2,s3};<br>  Array.Sort(a);<br>  if (bb.Length==0) bb=a;<br>  else if (s1*s2*s3&lt;bb[0]*bb[1]*bb[2]) bb=a;<br> }<br> <br> bool nt(int s) {<br>  if (s==1) return false;<br>  if (h[s]!=null) return (bool) h[s];<br>  for (int p=2;p&lt;=Math.Sqrt(s);p++) if (s%p==0) {h[s]=false; return false;}<br>  h[s]=true;<br>  return true;<br> }<br> void doit(int i, string st) {<br>  if (i==n) {<br>   for (int i1=1;i1&lt;=n-2;i1++)<br>    for (int i2=i1+1;i2&lt;=n-1;i2++) {<br>     string s1=st.Substring(0,i1);<br>     string s2=st.Substring(i1,i2-i1);<br>     string s3=st.Substring(i2);<br>     if (s1[0]=='0'||s2[0]=='0'||s3[0]=='0') continue;<br>     int x1=int.Parse(s1),x2=int.Parse(s2),x3=int.Parse(s3);<br>     if (nt(x1)&amp;&amp;nt(x2)&amp;&amp;nt(x3)) update(x1,x2,x3);<br>    }<br>  } else <br>  for (int j=0;j&lt;n;j++) if(!b[j]) {<br>   b[j]=true;<br>   doit(i+1,st+s[j]);<br>   b[j]=false;<br>  }<br> }<br>  <br>}<br>//hilfiger's editor<br></td>