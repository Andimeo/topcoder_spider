<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br>using System.Text;<br>using System.Collections;<br>//using System.IO;<br> <br>public class LandMines<br>{<br>  int n;<br>  <br>  string[] layo;<br>  bool[,] cans;<br> <br>  int ret;<br> <br>  ArrayList wass;<br> <br>  public class XY<br>  {<br>    public XY(int y,int x)<br>    {<br>      this.x=x;<br>      this.y=y;<br>    }<br>    public int x,y;<br>  }<br> <br>  int Main()<br>  {<br>    n=layo.Length;<br>    cans=new bool[n,n];<br>    wass=new ArrayList();<br>    ret=1;<br> <br>    cans[0,0]=true;<br>    wass.Add(new XY(0,0));<br> <br>    while(wass.Count&gt;0)<br>    {<br>      XY c=(XY)wass[wass.Count-1];<br>      wass.RemoveAt(wass.Count-1);<br> <br>      bool f;<br> <br>      if(c.x&gt;0 &amp;&amp; !cans[c.y,c.x-1])<br>      {<br>        f=false;<br>        for(int x=0;x&lt;c.x;x++)<br>          if(layo[c.y][x]=='M')<br>          {f=true;break;}<br>        if(!f)<br>        {<br>          cans[c.y,c.x-1]=true;<br>          ret++;<br>          wass.Add(new XY(c.y,c.x-1));<br>        }<br>      }<br>      if(c.x&lt;n-1 &amp;&amp; !cans[c.y,c.x+1])<br>      {<br>        f=false;<br>        for(int x=c.x+1;x&lt;n;x++)<br>          if(layo[c.y][x]=='M')<br>          {f=true;break;}<br>        if(!f)<br>        {<br>          cans[c.y,c.x+1]=true;<br>          ret++;<br>          wass.Add(new XY(c.y,c.x+1));<br>        }<br>      }<br>      if(c.y&gt;0 &amp;&amp; !cans[c.y-1,c.x])<br>      {<br>        f=false;<br>        for(int y=0;y&lt;c.y;y++)<br>          if(layo[y][c.x]=='M')<br>          {f=true;break;}<br>        if(!f)<br>        {<br>          cans[c.y-1,c.x]=true;<br>          ret++;<br>          wass.Add(new XY(c.y-1,c.x));<br>        }<br>      }<br>      if(c.y&lt;n-1 &amp;&amp; !cans[c.y+1,c.x])<br>      {<br>        f=false;<br>        for(int y=c.y+1;y&lt;n;y++)<br>          if(layo[y][c.x]=='M')<br>          {f=true;break;}<br>        if(!f)<br>        {<br>          cans[c.y+1,c.x]=true;<br>          ret++;<br>          wass.Add(new XY(c.y+1,c.x));<br>        }<br>      }<br>    }<br> <br>    return ret;<br>  }<br>  public int numClear(string[] layo)<br>  {<br>    this.layo=layo;<br>    return Main();<br>  }<br>}<br></td>