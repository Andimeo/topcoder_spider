<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br> <br>public class TestScores<br>{<br>    public static double weightedScore(double[] pt, int score)<br>    {<br>        int i, j, n = pt.Length;<br>        double mean = 0, dev = 0, cntsum = 0, res = 0;<br>        double[] cnt = new double[n + 1];<br>        cnt[0] = 1;<br>        for (i = 0; i &lt; n; ++i) {<br>            mean += pt[i];<br>            for (j = n; j &gt; 0; --j) {<br>                cnt[j] = pt[i] * cnt[j - 1] + (1 - pt[i]) * cnt[j];<br>            }<br>            cnt[0] *= (1 - pt[i]);<br>        }<br>        for (i = 0; i &lt;= n; ++i) {<br>            cntsum += cnt[i];<br>            dev += (i - mean) * (i - mean) * cnt[i];<br>        }<br>        dev = Math.Sqrt(dev / cntsum);<br>        res = (score - mean) / dev * 300 + 1000;<br>//        Console.WriteLine("mean {0} dev {1} res {2}\n", mean, dev, res);<br>        return res;<br>    }<br> <br>    public static void Main()<br>    {<br>        double[] pt;<br> <br>        pt = new double[] {0.5, 0.5};<br>        Console.WriteLine(weightedScore(pt, 1));<br> <br>        pt = new double[] {0.5, 0.5, 0.5};<br>        Console.WriteLine(weightedScore(pt, 3) == 1519.6152422706632);<br> <br>        pt = new double[] {0.2, 0.3, 0.4};<br>        Console.WriteLine(weightedScore(pt, 3) == 1806.6323435772447);<br> <br>        pt = new double[] {0.2, 0.3, 0.4};<br>        Console.WriteLine(weightedScore(pt, 0) == 654.3004241811809);<br> <br>        pt = new double[] {0.9, 0.9, 0.9, 0.9};<br>        Console.WriteLine(weightedScore(pt, 0) == -800);<br> <br>        pt = new double[] {<br>            0.956062, 0.592855, 0.405804,<br>            0.484474, 0.633413, 0.219248,<br>            0.801282, 0.724066, 0.886559,<br>            0.794041, 0.324220,<br>        };<br>        Console.WriteLine(weightedScore(pt, 7) == 1037.5680868214772);<br>    }<br>}<br></td>