<td class="problemText" colspan="8" valign="middle" align="left">
            #include &lt;cstdio&gt;<br>#include &lt;cstdlib&gt;<br>#include &lt;cstring&gt;<br>#include &lt;cmath&gt;<br>#include &lt;cctype&gt;<br>#include &lt;vector&gt;<br>#include &lt;string&gt;<br>#include &lt;set&gt;<br>#include &lt;map&gt;<br>#include &lt;utility&gt;<br>#include &lt;algorithm&gt;<br>#include &lt;iostream&gt;<br>#include &lt;sstream&gt;<br>using namespace std;<br><br>#define FF(i,a,b) for(int i=(a),_b=(b);i&lt;=_b;++i)<br>#define FB(i,a,b) for(int i=(a),_b=(b);i&gt;=_b;--i)<br>#define FFE(i,a,b) for(i=(a);i&lt;=(b);++i)<br>#define FBE(i,a,b) for(i=(a);i&gt;=(b);--i)<br>#define pb push_back<br>#define si size()<br>#define bit(i) ((long long)(1)&lt;&lt;i)<br>typedef vector&lt;int&gt; VI;<br>typedef vector&lt;string&gt; VS;<br>typedef long long I64; <br>typedef unsigned long long U64;<br><br>class DerivationDisplay { <br>public: <br>vector &lt;string&gt; getDerivation(string input) { <br>  VS res;<br>  string p,s;<br>  int state=0; <br>  <br>  res.clear();<br>  res.pb("S"); p=""; s="";<br>  while (input.si&gt;0) {    <br>    switch (state) {<br>    case 0:<br>      if (input[0]=='b' &amp;&amp; input[input.si-1]=='a') {<br>        res.pb(p+"bUa"+s); <br>        state=2;<br>        p+='b';<br>        s='a'+s;<br>        input=input.substr(1,input.si-2);<br>      }<br>      else {<br>        res.pb(p+"T"+s);<br>        state=1;<br>      }<br>      break;  <br>    case 1:<br>      if (input[0]=='a' &amp;&amp; input[input.si-1]=='b') {<br>        res.pb(p+"aTb"+s);         <br>        p+='a';<br>        s='b'+s;        <br>        input=input.substr(1,input.si-2);<br>      }<br>      else if (input[0]=='a') {<br>        res.pb(p+"A"+s);         <br>        state=3;        <br>        }<br>      else {<br>        res.pb(p+"B"+s);<br>        state=4;        <br>        }<br>      break;  <br>    case 2:<br>      if (input[0]=='a') {<br>        if (input.si&gt;1) {<br>          res.pb(p+"aU"+s);<br>          p+='a';          <br>        }<br>        else res.pb(p+"a"+s);<br>        input=input.substr(1,input.si-1);<br>      }<br>      else {<br>        if (input.si&gt;1) {<br>          res.pb(p+"bU"+s);<br>          p+='b';          <br>        }<br>        else res.pb(p+"b"+s);<br>        input=input.substr(1,input.si-1);<br>      }<br>      break;<br>    case 3:<br>      if (input.si&gt;1) {<br>        res.pb(p+"aA"+s);<br>        p+='a';          <br>      }<br>      else res.pb(p+"a"+s);<br>      input=input.substr(1,input.si-1);      <br>      break;  <br>    case 4:<br>      if (input.si&gt;1) {<br>        res.pb(p+"bB"+s);<br>        p+='b';          <br>      }<br>      else res.pb(p+"b"+s);<br>      input=input.substr(1,input.si-1);      <br>      break;  <br>    }<br>  }<br>  return res;<br>} <br><br><br> <br>};<br><br><br><br>// Powered by FileEdit<br>// Powered by TZTester 1.01 [25-Feb-2003]<br>// Powered by CodeProcessor<br></td>