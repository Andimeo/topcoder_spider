<td class="problemText" colspan="8" valign="middle" align="left">
            import java.util.Vector;<br>public class DerivationDisplay{<br>  public String[] getDerivation(String in){<br>    Vector v=new Vector();<br>    v.add("S");<br>    if (in.startsWith("b") &amp;&amp; in.endsWith("a")){<br>      v.add("bUa");<br>      int pos=1;<br>      String pre="b";<br>      String post="a";<br>      while (pos&lt;in.length()-2){<br>        pre+=String.valueOf(in.charAt(pos));<br>        v.add(pre+"U"+post);<br>        pos++;<br>      }<br>      v.add(pre+String.valueOf(in.charAt(pos))+post);<br>    }<br>    else if (in.startsWith("a") &amp;&amp; in.endsWith("b")){<br>      v.add("T");<br>      v.add("aTb");<br>      String pre="a";<br>      String post="b";<br>      String subs=in.substring(1,in.length()-1);<br>      while (subs.length()&gt;1 &amp;&amp; subs.startsWith("a") &amp;&amp; subs.endsWith("b")){<br>        if (subs.length()&gt;2){<br>          subs=subs.substring(1,subs.length()-1);<br>        }<br>        else{<br>          subs="";<br>        }<br>        pre+="a";<br>        post+="b";<br>        v.add(pre+"T"+post);<br>      }<br>      if (subs.length()!=0){<br>        v.add(pre+String.valueOf(subs.charAt(0)).toUpperCase()+post);<br>      }<br>      while (subs.length()!=0){<br>        pre+=String.valueOf(subs.charAt(0));<br>        if (subs.length()&gt;1){<br>          v.add(pre+String.valueOf(subs.charAt(0)).toUpperCase()+post);<br>          subs=subs.substring(1);<br>        }<br>        else{<br>          v.add(pre+post);<br>          subs="";<br>        }<br>      }<br>    }<br>    else{<br>      v.add("T");<br>      v.add(String.valueOf(in.charAt(0)).toUpperCase());<br>      String pre="";<br>      String post="";<br>      for (int i=0;i&lt;in.length();i++){<br>        pre+=String.valueOf(in.charAt(i));<br>        if (i!=in.length()-1){<br>          v.add(pre+String.valueOf(in.charAt(i)).toUpperCase()+post);<br>        }<br>        else{<br>          v.add(pre+post);<br>        }<br>      }<br>    }<br>    String[] ret=new String[v.size()];<br>    for (int i=0;i&lt;v.size();i++){<br>      ret[i]=(String)v.elementAt(i);<br>    }<br>    return ret;<br>  }<br>}<br></td>