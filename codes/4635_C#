<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br>using System.Collections;<br>using System.Text;<br><br>public class PartyGame {<br>  public double numberOfMoves(string[] field, int N) {<br>    StringBuilder fb = new StringBuilder();<br><br>    for (int i = 0; i &lt; field.Length; ++i)<br>    {<br>      fb.Append(field[i]);<br>    }<br><br>    int len = fb.Length;<br><br>    for (int i = 0; i &lt; N; ++i)<br>      fb.Append('G');<br><br>    string f = fb.ToString();<br><br>    int len2 = f.Length;<br><br>    double[] am = new double[len2];<br>    for (int i = len2 - 1; i &gt;= len - 1; --i)<br>      am[i] = 0;<br><br>    for (int i = len - 2; i &gt;= 0; --i)<br>      if (f[i] == 'G')<br>      {<br>        bool infty = false;<br>        int num = 0;<br>        double sum = 0;<br><br>        for (int j = 1; j &lt;= N; ++j)<br>        {<br>          if (f[i + j] == 'G')<br>          {<br>            ++num;<br>            if (am[i + j] &lt; -0.5)<br>              infty = true;<br>            else<br>              sum += am[i + j];<br>          }<br>        }<br><br>        if (num == 0)<br>          infty = true;<br><br>        if (infty)<br>          am[i] = -1;<br>        else<br>          am[i] = (N + sum) / num;<br>      }<br><br>    return am[0];<br>  }<br><br>  <br><br>}<br><br><br>// Powered by FileEdit<br>// Powered by TZTester 1.01 [25-Feb-2003] [modified for C# by Petr]<br>// Powered by CodeProcessor<br></td>