<td class="problemText" colspan="8" valign="middle" align="left">
            import java.util.*;<br><br>public class ModeProbability {<br>  long c[][] = new long[16][16];<br>  int g[] = new int[5];<br>  double pw[][] = new double[5][16];<br>  double res;<br>  int n;<br>  int cnt;<br>  int value;<br><br>  public double getProb(int[] probs, int n, int value) {<br>    for (int i = 0; i &lt;= 15; i++)<br>      c[i][0] = 1;<br>    for (int i = 1; i &lt;= 15; i++)<br>      for (int j = 1; j &lt;= i; j++)<br>        c[i][j] = c[i - 1][j - 1] + c[i - 1][j]; <br>    this.n = n;<br>    this.cnt = probs.length;<br>    this.value = value;<br>    for (int i = 0; i &lt; cnt; i++) {<br>      double p = 1;<br>      for (int j = 0; j &lt;= n; j++) {<br>        pw[i][j] = p;<br>        p *= probs[i] / 100.0;<br>      }<br>    }<br>    calc(0, n);<br>    return res;    <br>  }<br><br>  private void calc(int i, int s) {<br>    if (i &gt;= cnt - 1) {<br>      g[i] = s;<br>      boolean good = true;<br>      for (int j = 0; j &lt; cnt; j++)<br>        if (j != value &amp;&amp; g[j] &gt;= g[value]) {<br>          good = false;<br>          break;<br>        }<br>      if (good) {<br>        double p = 1;<br>        int rem = n;<br>        long cs = 1;<br>        for (int j = 0; j &lt; cnt; j++) {<br>          p *= pw[j][g[j]];<br>          cs *= c[rem][g[j]];<br>          rem -= g[j];<br>        }<br>        res += p * cs;<br>      }<br>      return;<br>    }<br>    for (int j = 0; j &lt;= s; j++) {<br>      g[i] = j;<br>      calc(i + 1, s - j);<br>    }<br>      <br>  }<br>}<br><br><br>// Powered by FileEdit<br></td>