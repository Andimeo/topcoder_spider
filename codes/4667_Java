<td class="problemText" colspan="8" valign="middle" align="left">
            /* the magic word is quadragenarious */<br> <br>// i have almost convinced myself that this works<br>public class Pitches {<br>    int F=0,C=1;<br>    double z[][] = new double[7][7];<br>    double poff[][];<br>    double _s[];<br>    double pBall(int th, int ex) { return _s[th*4+ex*2]; }<br>    double pStrike(int th, int ex) { return _s[th*4+ex*2+1]; }<br>    double lerp(double x, double y, double i) {<br>  return x + (y-x)*i;<br>    }<br>    double clamp(double x) { return x&lt;0?0:(x&gt;1?1:x); }<br>    double payoff(double a, double b) {<br>  return lerp(lerp(poff[0][0],poff[0][1], b),<br>        lerp(poff[1][0],poff[1][1], b), a);<br>    }<br>    double prob(int bs, int ss) {<br>  if(z[bs][ss] != 0) return z[bs][ss]-1;<br>  if(ss==3) return 1;<br>  if(bs==4) return 0;<br>  double resS = prob(bs, ss+1);<br>  double resB = prob(bs+1, ss);<br>  double resH = 0;<br>  poff = new double[2][2];<br>  for(int i=0;i&lt;2;i++) for(int j=0;j&lt;2;j++) poff[i][j] = pBall(i,j)*resB + pStrike(i,j)*resS;<br>  double a = poff[0][0];<br>  double b = poff[0][1];<br>  double c = poff[1][0];<br>  double d = poff[1][1];<br>  double p = 0;<br>  for(int i=0;i&lt;2;i++)for(int j=0;j&lt;2;j++) {<br>      if(poff[i][j] &gt;= poff[i^1][j] &amp;&amp; poff[i][j] &lt;= poff[i][j^1]) p = poff[i][j];<br>  }<br>  // (a+(b-a)*j)*(1-i) + (c+(d-c)*j)*i    <br>  double j = (a-c) / (a-b-c+d);<br>  double i = (a-b) / (-b+a+d-c);<br>  if(i&gt;=0&amp;&amp;j&gt;=0&amp;&amp;i&lt;=1&amp;&amp;j&lt;=1) <br>      p = payoff(i,j);<br>  return p;<br>    }<br>    //  A B<br>    //  C D<br>public double strikeOut(double[] stats, int balls, int strikes) {<br>    _s = stats;<br>    return prob(balls, strikes);<br>}}<br></td>