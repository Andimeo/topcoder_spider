<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br>using System.Collections;<br>public class ImageRepeat {<br>  public struct Image<br>  {<br>    public int[,] data;<br>    public int height;<br>    public int width;<br>  }<br><br>  Image parseImage(string[] a)<br>  {<br>    Image x;<br>    x.height = a.Length;<br>    x.width = a[0].Length;<br>    x.data = new int[x.height, x.width];<br>    for (int i = 0; i &lt; x.height; ++i)<br>      for (int j = 0; j &lt; x.width; ++j)<br>        x.data[i, j] = (int) a[i][j];<br><br>    return x;<br>  }<br><br>  public int largestSize(string[] imageA, string[] imageB) {<br>    Image a = parseImage(imageA);<br>    Image b = parseImage(imageB);<br><br>    int[,,,] len = new int[51, 51, 51, 51];<br><br>    for (int ia = a.height - 1; ia &gt;= 0; --ia)<br>      for (int ja = a.width - 1; ja &gt;= 0; --ja)<br>        for (int ib = b.height - 1; ib &gt;= 0; --ib)<br>          for (int jb = b.width - 1; jb &gt;= 0; --jb)<br>          {<br>            if (a.data[ia, ja] == b.data[ib, jb])<br>              len[ia, ja, ib, jb] = 1 + len[ia, ja + 1, ib, jb + 1];<br>          }<br><br>    int[,] max = new int[51, 51];<br>    int res = 0;<br><br>    for (int ja = a.width - 1; ja &gt;= 0; --ja)<br>      for (int jb = b.width - 1; jb &gt;= 0; --jb) <br>      {<br>        int left = 0;<br>        int right = 51;<br>        while (right - left &gt; 1)<br>        {<br>          int k = (left + right) / 2;<br>          for (int i1 = 0; i1 &lt; 51; ++i1)<br>            for (int i2 = 0; i2 &lt; 51; ++i2)<br>              max[i1, i2] = 0;<br><br>          bool any = false;<br><br>          for (int ia = a.height - 1; ia &gt;= 0 &amp;&amp; !any; --ia)<br>            for (int ib = b.height - 1; ib &gt;= 0 &amp;&amp; !any; --ib) <br>            {<br>              if (len[ia, ja, ib, jb] &lt; k)<br>                continue;<br>              int cur = 1 + max[ia + 1, ib + 1];<br>              if (cur &gt;= k) any = true;<br>              max[ia, ib] = cur;<br>            }<br><br>          if (any) left = k; else right = k;<br>        }<br>        <br>        if (left &gt; res)<br>          res = left;<br>      }<br><br><br>    return res;<br>  }<br>  <br><br>}<br><br><br>// Powered by FileEdit<br>// Powered by TZTester 1.01 [25-Feb-2003] [modified for C# by Petr]<br>// Powered by CodeProcessor<br></td>