<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br>using System.Collections;<br>using math = System.Math;<br> <br>public class EncodingTrees<br>{<br>  int [] ntree = new int[100];<br>  string code(int n, int ii, char first)<br>  {<br>      if (n==0) return "";<br>    if (n==1) return first.ToString();<br>    int i;<br>    for(i=0;i&lt;n;i++)<br>    {<br>      if (ii &lt; ntree[i] * ntree[n-i-1]) break;<br>      ii -= ntree[i] * ntree[n-i-1];<br>    }<br>    return (char)(first+i) + code(i, ii / ntree[n-i-1], (char)(first)) + code(n-i-1, ii % ntree[n-i-1], (char)(first + i+ 1));<br>  }<br>  public string getCode(int N, int index)<br>  {<br>    int i,j,k;<br>    ntree[0] = 1;<br>    ntree[1] = 1;<br>    for(i=1;i&lt;=N;i++)<br>    {<br>      ntree[i] = 0;<br>      for(j=0;j&lt;i;j++)<br>        ntree[i] += ntree[j] * ntree[i-j-1];<br>    }<br>    if (index &lt;= ntree[N])<br>      return code(N,index-1,'a');<br>    return "";<br> <br> <br>  }<br> <br>}<br></td>