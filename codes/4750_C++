<td class="problemText" colspan="8" valign="middle" align="left">
            #include &lt;algorithm&gt;<br>#include &lt;cmath&gt;<br>#include &lt;cstring&gt;<br>#include &lt;iostream&gt;<br>#include &lt;sstream&gt;<br>#include &lt;string&gt;<br>#include &lt;vector&gt;<br><br>using namespace std;<br><br>class FrogAndFly { <br>   public: <br>   double visibility(int hwall, int dfrog, int dfly, int ylow, int yhigh, vector &lt;int&gt; xwindow, vector &lt;int&gt; ywindow) { <br>      int n = xwindow.size();<br>      xwindow.push_back( xwindow[0] );<br>      ywindow.push_back( ywindow[0] );<br>      double miny = 10000, maxy = -10000;<br>      for( int i = 0; i &lt; n; ++i ) miny &lt;?= ywindow[i];<br>      for( int i = 0; i &lt; n; ++i ) maxy &gt;?= ywindow[i];<br>      double P = 0;<br>      for( int i = 0; i &lt; n; ++i ) P += xwindow[i]*ywindow[i+1] - ywindow[i]*xwindow[i+1];<br>      P = fabs( P ) / 2;<br><br>      int iterations = 30000000 / n;<br><br>      double dy = (maxy-miny)/iterations;<br>      double ret = 0;<br>      for( int i = 0; i &lt; iterations; ++i ) {  <br>         double y = miny + i*dy + dy/2;<br>         double x1 = 10000, x2 = -10000;<br>         for( int i = 0; i &lt; n; ++i ) {<br>            if( (ywindow[i] &lt; y) ^ (ywindow[i+1] &lt; y) ) {<br>               double x = xwindow[i] + (xwindow[i+1]-xwindow[i]) * (double)(y-ywindow[i])/(double)(ywindow[i+1]-ywindow[i]);<br>               x1 &lt;?= x;<br>               x2 &gt;?= x;<br>            }<br>         }<br>         if( x1 &gt; x2 ) continue;<br>         double fy = 0;<br>         double y2 = hwall+(hwall-y)*dfrog/dfly;<br>         if( y2 &lt; ylow ) fy = 1;<br>         else if( y2 &gt; yhigh ) fy = 0;<br>         else fy = (yhigh-y2)/(yhigh-ylow);<br>         ret += dy*(x2-x1) / P * fy;<br>      }<br>      return ret;<br>   } <br>   <br><br><br>   <br><br>   <br> <br>}; <br><br><br><br>// Powered by FileEdit<br>// Powered by TZTester 1.01 [25-Feb-2003]<br>// Powered by CodeProcessor<br></td>