<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br>using System.Collections;<br>using System.Collections.Specialized;<br> <br>public class JumpyNum{<br> int[,] a;<br> int[,,] f;<br> string s;<br> public int howMany(int low, int high){<br>  a=new int[11,10];<br>  for (int i=0;i&lt;10;i++) a[1,i]=1;<br>  for (int i=2;i&lt;11;i++)<br>   for (int j=0;j&lt;10;j++)<br>    for (int k=0;k&lt;10;k++) if (Math.Abs(j-k)&gt;=2) a[i,j]+=a[i-1,k];<br>  return count(high+1)-count(low);<br> }<br> int count(int t) {<br>  s=""+t;<br>  int res=0;<br>  for (int i=1;i&lt;s.Length;i++) {<br>   if (i==1) res+=9; else<br>   for (int j=1;j&lt;10;j++) for (int k=0;k&lt;10;k++) if (Math.Abs(j-k)&gt;=2) res+=a[i-1,k];<br>  }<br>  f=new int[11,10,2];<br>  for (int i=0;i&lt;11;i++)<br>    for (int j=0;j&lt;10;j++) f[i,j,0]=f[i,j,1]=-1;<br>  for (int i=1;i&lt;=s[0]-'0';i++)<br>   if (i&lt;s[0]-'0') res+=doit(0,i,1); else res+=doit(0,i,0);<br>  return res;<br> }<br>  int doit(int p, int last, int l1) {<br>  if (p==s.Length-1) return l1;<br>  if (f[p,last,l1]!=-1) return f[p,last,l1];<br>  int res=0;<br>  for (int i=0;i&lt;=9;i++)<br>   if (Math.Abs(i-last)&gt;=2) {<br>    if (l1==0&amp;&amp;i&gt;s[p+1]-'0') break;<br>    int l2=0;<br>    if (l1==1) l2=1; else if (i&lt;s[p+1]-'0') l2=1;<br>    res+=doit(p+1,i,l2);<br>   }<br>  return (f[p,last,l1]=res);<br> }<br> <br>}<br>//hilfiger's editor<br></td>