<td class="problemText" colspan="8" valign="middle" align="left">
            #include &lt;vector&gt;<br>#include &lt;string&gt;<br>#include &lt;cstdio&gt;<br>using namespace std;<br> <br>#define V(x) vector&lt;x &gt;<br>#define vs V(string)<br>#define vi V(int)<br>#define vd V(double)<br> <br>#define fr(x,y,z) for((x)=(y);(x)&lt;(z);(x)++)<br>#define fo(x,y) fr(x,0,y)<br>#define fir(n) fo(i,n)<br>#define fjr(n) fo(j,n)<br>#define fkr(n) fo(k,n)<br>#define fi fir(n)<br>#define fj fjr(n)<br> <br>#define pb push_back<br>#define sz size()<br>#define cs c_str()<br> <br>#define fk fkr(n)<br>//#include &lt;map&gt;<br>//#include &lt;set&gt;<br>//#include &lt;algorithm&gt;<br>//#define ll long long<br>//#define flr(n) fo(l,n)<br>//#define fl flr(n)<br>//#define ins(x) insert(x)<br>//#define df double<br>//#define srt(f) sort(f.begin(),f.end())<br>vi tki(string t,char *d)<br>{<br>  vi ret; int temp;<br>  char *buf,*s;<br>  buf=(char *) malloc(t.sz+1);<br>  strcpy(buf,t.cs);<br>  for(s=strtok(buf,d);s;s=strtok(0,d)) {<br>    sscanf(s,"%d",&amp;temp);<br>    ret.push_back(temp);<br>  }<br>  free(buf);<br>  return ret;<br>}<br> <br>int t[50][7];<br> <br>int b[524300][7];<br> <br>int back[12]={0,-1,1,-1,2,3,-1,4,-1,5,-1,6};<br>int fore[7]={0,2,4,5,7,9,11};<br> <br>int go(vi &amp;t, int s) {<br>s=fore[s];<br>int i;<br>fir(t.sz) {<br>s+=t[i];<br>s%=12;<br>s+=12;<br>s%=12;<br>if(back[s]==-1) return -1;<br>}<br>return back[s];<br>}<br> <br>int bc(int x) { int r=0; while(x) r++,x&amp;=x-1; return r; }<br> <br>class CMajor { public: int getLongest (vs f) {<br>int n=f.sz;<br>int i,j,k;<br>fir(7) if(back[fore[i]]!=i) puts("!!");<br>fi { vi u=tki(f[i]," ");<br>fjr(7) t[i][j]=go(u,j);<br>}<br> <br>fjr(7) b[0][j]=1;<br>fir(1&lt;&lt;n) fjr(7) if(b[i][j]) {<br>fk if((i&amp;(1&lt;&lt;k))==0 &amp;&amp; t[k][j]&gt;=0) b[i+(1&lt;&lt;k)][t[k][j]]=1;<br>}<br>int ret=0;<br>fir(1&lt;&lt;n) { fjr(7) if(b[i][j]) break; if(j&lt;7) ret&gt;?=bc(i); }<br>return ret;<br> <br>}};<br></td>