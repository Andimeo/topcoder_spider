<td class="problemText" colspan="8" valign="middle" align="left">
            import java.io.*;<br>import java.util.*;<br> <br>public class BallGift<br>{<br>  boolean debug = false;<br> <br>  public int bestPosition(int N, int G, int R, int B)<br>  {<br>    double[][][][] f = new double[G + 1][R + 1][B + 1][N];<br>    for(int i = 0; i &lt; N; ++i)<br>      f[0][0][0][i] = 0;<br>    f[0][0][0][0] = 1;<br>    for(int g = 0; g &lt;= G; ++g)<br>    for(int r = 0; r &lt;= R; ++r)<br>    for(int b = 0; b &lt;= B; ++b)<br>    {<br>      if(g == 0 &amp;&amp; r == 0 &amp;&amp; b == 0)<br>        continue;<br>      int K = N - B + b;<br>      double[] res = f[g][r][b];<br>      for(int i = 0; i &lt; N; ++i)<br>        res[i] = 0;<br>      if(g &gt; 0)<br>      {<br>        double w = 1.0 * g / (g + r + b);<br>        for(int i = 0; i &lt; K; ++i)<br>          res[i] += f[g - 1][r][b][(i + K - 1) % K] * w;<br>      }<br>      if(r &gt; 0)<br>      {<br>        double w = 1.0 * r / (g + r + b);<br>        for(int i = 0; i &lt; K; ++i)<br>          res[i] += f[g][r - 1][b][K - 1 - i] * w;<br>      }<br>      if(b &gt; 0)<br>      {<br>        double w = 1.0 * b / (g + r + b);<br>        for(int i = 1; i &lt; K; ++i)<br>          res[i] += f[g][r][b - 1][i - 1] * w;<br>      }<br>    }<br>    double best = -1;<br>    int ans = -1;<br>    for(int i = 0; i &lt; N; ++i)<br>      if(f[G][R][B][i] &gt; best + 1e-10)<br>      {<br>        best = f[G][R][B][i];<br>        ans = i;<br>      }<br>    return ans;<br>  }<br>}<br></td>