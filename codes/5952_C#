<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br>using System.Collections;<br> <br>public class OperationsArrangement<br>{<br>  public string arrange(string sequence)<br>  {<br>    string result = "";<br>    if (sequence.IndexOf("0") &gt; -1)<br>    {<br>      for (int i = 0; i &lt; sequence.Length - 1; i++) result += sequence[i] + "*";<br>      result += sequence[sequence.Length - 1];<br>    }<br>    else<br>    {<br>      bool change = true;<br>      for (int i = 0; i &lt; sequence.Length - 1; i++) result += sequence[i] + "+";<br>      result += sequence[sequence.Length - 1];<br> <br>      while (change)<br>      {<br>        change = false;<br>        for (int i = 0; i &lt; result.Length - 2; i += 2)<br>        {<br>          string s = result[i] + "" + result[i + 1];<br>          if ((s == "1+") || (s + result[i + 2] == "2+2") || (result[i + 1] + "" + result[i + 2] == "+1"))<br>          {<br>            int l = calLeftEpr(result, i);<br>            int r = calRightEpr(result, i + 2);<br>            if (l + r &gt;= l * r)<br>            {<br>              result = result.Insert(i + 1, "*");<br>              result = result.Remove(i + 2, 1);<br>              change = true;<br>              break;<br>            }<br>          }<br>        }<br>      }<br>    }<br>    return result;<br>  }<br> <br>  private int calLeftEpr(string s, int i)<br>  {<br>    int r = (int)s[i] - 48;<br>    for (int j = i - 2; j &gt;= 0; j -= 2)<br>    {<br>      if (s[j + 1] != '*') break;<br>      r *= ((int)s[j] - 48);<br>    }<br>    return r;<br>  }<br> <br>  private int calRightEpr(string s, int i)<br>  {<br>    int r = (int)s[i] - 48;<br>    for (int j = i + 2; j &lt; s.Length; j += 2)<br>    {<br>      if (s[j - 1] != '*') break;<br>      r *= ((int)s[j] - 48);<br>    }<br>    return r;<br>  }<br>}<br></td>