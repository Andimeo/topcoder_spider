<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br>using System.Collections;<br>using math = System.Math;<br> <br>public class PowerSupply<br>{<br>  int maxV(double[] val, double d)<br>  {<br>    int i,j;<br>    int n,m;<br>    n = 0;<br>    for(i=0;i&lt;val.Length;i++)<br>    {<br>      m=0;<br>      for(j=0;j&lt;val.Length;j++)<br>        if (( val[j] &gt; val[i] - 1e-9) &amp;&amp;(val[j] &lt; val[i]+2*d +1e-9))<br>          m++;<br>      if ( m &gt; n) n=m;<br> <br>    }<br>    return n;<br>    <br>  }<br>  public int maxProfit(int[] x, int[] y, int D)<br>  {<br>    double t = 1/math.Sqrt(2);<br>    double [] xy = new double[x.Length];<br>    int i,k,n = x.Length;<br>    int ans = 0;<br>    for(i=0;i&lt;n;i++)<br>      xy[i] = x[i];<br>    k = maxV(xy,D);<br>    if ( k&gt;ans) ans = k;<br>    for(i=0;i&lt;n;i++)<br>      xy[i] = y[i];<br>    k = maxV(xy,D);<br>    if ( k&gt;ans) ans = k;<br> <br>    for(i=0;i&lt;n;i++)<br>      xy[i] = y[i]*t + x[i]*t;<br>    k = maxV(xy,D);<br>    if ( k&gt;ans) ans = k;<br> <br> <br>    for(i=0;i&lt;n;i++)<br>      xy[i] = y[i]*t - x[i]*t;<br>    k = maxV(xy,D);<br>    if ( k&gt;ans) ans = k;<br> <br>    return ans;<br> <br>  }<br>}<br></td>