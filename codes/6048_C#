<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br> <br> <br>  public class MaxKTrace<br>  {<br> <br> <br>    public int getLargest(string[] mat, int k)<br>    {<br>      int[,] m=new int[mat.Length,mat.Length];<br>      for(int i=0;i&lt;mat.Length;i++)<br>      {<br>        for(int j=0;j&lt;mat.Length;j++)<br>        {<br>          m[i,j] = Convert.ToInt32(mat[i].Substring(j,1));<br>        }<br>      }<br>      int[,,] dp = new int[mat.Length+1,mat.Length+1,k+1];<br>      for(int l=1;l&lt;=k;l++)<br>      {<br>        for(int i=mat.Length-1;i&gt;=0;i--)<br>        {<br>          for(int j=mat.Length-1;j&gt;=0;j--)<br>          {<br>            int li = mat.Length-i;<br>            int lj = mat.Length-j;<br>            if(li&lt;l || lj&lt;l)<br>            {<br>              dp[i,j,l]=0;<br>            }<br>            else<br>            {<br>              int x0,x1,x2;<br>              x0=0;<br>              x1=0;<br>              x2=0;<br>              if(li==l &amp;&amp; lj==l)<br>              {<br>                x0 = m[i,j]+dp[i+1,j+1,l-1];<br>              }<br>              else if(li==l)<br>              {<br>                x0 = m[i,j]+dp[i+1,j+1,l-1];<br>                x1 = dp[i,j+1,l];<br>              }<br>              else if(lj==l)<br>              {<br>                x0 = m[i,j]+dp[i+1,j+1,l-1];<br>                x2 = dp[i+1,j,l];<br>              }<br>              else<br>              {<br>                x0 = m[i,j]+dp[i+1,j+1,l-1];<br>                x1 = dp[i,j+1,l];<br>                x2 = dp[i+1,j,l];<br>              }<br>              x0 = x0&gt;x1?x0:x1;<br>              dp[i,j,l] = x0&gt;x2?x0:x2;<br>            }<br>          }<br>        }<br>      }<br>      return dp[0,0,k];<br>    }<br>  }<br></td>