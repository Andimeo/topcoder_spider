<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br><br>public class VectorCostSequence {<br>  public int getSmallest(int d) {<br>    return get(d);<br>  }<br><br>  int get(long d)<br>  {<br>    long res = long.MaxValue;<br>    if (d &lt;= 2)<br>      return (int) d;<br>    for (int n = 0; n &lt; 32; ++n)<br>    {<br>      long[] k = new long[n + 2];<br>      k[0] = 1;<br>      long p2 = 1;<br>      for (int i = 1; i &lt; n + 2; ++i)<br>      {<br>        k[i] = p2 + 2;<br>        p2 *= 2;<br>      }<br>      long r = d - ((1L &lt;&lt; n) + 1 - 2 * (n + 1));<br>      for (int i = 1; i &lt; n + 2; ++i)<br>      {<br>        r -= k[i];<br>      }<br>      if (r &lt; 0)<br>        continue;<br>      long sum = (1L &lt;&lt; n) + 1;<br>      for (int i = n + 1; i &gt;= 1; --i)<br>      {<br>        long cnt = r / k[i];<br>        r -= cnt * k[i];<br>        sum += cnt * 2;<br>      }<br>      sum += r;<br>      res = Math.Min(res, sum);<br>    }<br>    return (int) res;<br>  }<br><br><br><br>}<br><br><br>// Powered by FileEdit<br>// Powered by TZTester 1.01 [25-Feb-2003] [modified for C# by Petr]<br>// Powered by CodeProcessor<br></td>