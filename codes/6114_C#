<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br>using System.Collections;<br> <br>public class Shuffling<br>{<br>  public int position(int n, int[] shuffles)<br>  {<br>    int[] v = new int[n];<br>    <br>    for (int i = 0; i &lt; n; ++i)<br>      v[i] = i;<br>    <br>    int[] a = new int[n/2];<br>    int[] b = new int[n/2];<br>    <br>    foreach (int qq in shuffles)<br>    {<br>      int q = qq;<br>      <br>      for (int i = 0; i &lt; n/2; ++i)<br>      {<br>        a[i] = v[i];<br>        b[i] = v[n/2 + i];<br>      }<br>      <br>      if (q&lt;0)<br>      {<br>        q=-q;<br>        int[] tmp = a;<br>        a = b;<br>        b = tmp;<br>      }<br>      <br>      int pos = 0;<br>      int posa = 0;<br>      int posb = 0;<br>      <br>      for (int i = 0; i &lt; q; ++i)<br>        v[pos++] = a[posa++];<br>      <br>      for (int i = 0; i &lt; n - 2 * q; i+=2)<br>      {<br>        v[pos++] = b[posb++];<br>        v[pos++] = a[posa++];<br>      }<br>      <br>      for (int i = 0; i &lt; q; ++i)<br>        v[pos++] = b[posb++];<br>    }<br>    <br>    for (int i = 0; i &lt; n; ++i)<br>      if (v[i] == 0)<br>        return i;<br>    <br>    return 0;<br>  }<br>}<br> <br> <br>// Powered by FileEdit<br></td>