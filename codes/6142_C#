<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br>using System.Collections;<br><br>public class MonotoneSEMin {<br><br>  public double min(string[] bits) {    <br>    string s = "";<br>    foreach(string t in bits) s+=t;<br>    s=s.TrimStart('0');<br>    s=s.TrimEnd('1');<br>    if (s.Length  == 0) return 0;<br><br>    double[] v = new double[s.Length];<br>    for (int i = 0; i &lt; s.Length; i++)<br>      v[i] = s[i] == '0' ? 0.0 : 1.0;<br><br>    int pos = s.Length-1;<br>    double[] best = new double[s.Length+1];<br>    double[] f = new double[s.Length+1];<br>    int[] ones = new int[s.Length+1];<br>    ones[s.Length] = 0;<br>    for (int i = s.Length-1; i &gt;= 0; i--)<br>    {<br>      ones[i] = ones[i+1] + (v[i]==1.0?1:0);<br>    }<br>    ArrayList stops = new ArrayList();<br><br>    stops.Add(s.Length);<br>    f[s.Length] = 1;<br>    best[s.Length] = 0;<br><br>    while (pos &gt;= 0)<br>    {<br>      while (v[pos]==0.0) pos--;<br>      while (pos&gt;0 &amp;&amp; v[pos-1]==1.0) pos--;<br>      double bb = double.MaxValue, bf=0;<br>      for (int i = 0; i &lt; stops.Count; i++)<br>      {<br>        int stop=(int) stops[i];<br>        int a=ones[pos]-ones[stop];<br>        int b=stop-pos-a;<br>        double bestVal=(double)a/(a+b);<br>        if (bestVal &gt; f[stop]) continue;<br>        double q = bestVal*bestVal*b + (1-bestVal)*(1-bestVal)*a+best[stop];<br>        if (q&lt;bb)<br>        {<br>          bb=q;<br>          bf=bestVal;<br>        }<br>      }<br>      stops.Add(pos);<br>      f[pos] = bf;<br>      best[pos] = bb;<br>      pos--;<br>    }<br>    return best[0];<br>  }<br><br>}<br><br><br>// Powered by FileEdit<br></td>