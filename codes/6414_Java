<td class="problemText" colspan="8" valign="middle" align="left">
            import java.util.*;<br>import java.math.*;<br> <br> <br>public class Monopolies {<br> <br>    double[][][] prob; // turn, square, #doubles<br> <br>    int[] moveTargets = new int[]{11, 24, 29, 39};<br> <br>    public double probability (int qsquare) {<br>        printf ("\n");<br> <br>        prob = new double[42][40][3];<br> <br>        prob[0][0][0] = 1.0;<br> <br>        for (int square = 0; square &lt;= qsquare; square++) {<br>            if (square == 30) continue;<br> <br> <br> <br> <br>            for (int turn = 0; turn &lt; 41; turn++) {<br> <br> <br>                for (int doubles = 0; doubles &lt; 3; doubles++) {<br> <br> <br>                    /*<br>                    printf ("(t %d, s %d, d %d) = %f\n", turn, square, doubles,<br>                            prob[turn][square][doubles]);<br>                            */<br> <br> <br>                    double pCardNotMoved = 1.0;<br>                    if (square == 7 || square == 22 || square == 36) {<br>                        pCardNotMoved = 14.0 / 20.0;<br> <br>                        for (int moveTarget: moveTargets) {<br>                            if (moveTarget &lt; square) continue;<br> <br>                            prob[turn][moveTarget][doubles] +=<br>                                prob[turn][square][doubles] * 1.0/20.0;<br>                        }<br>                    }<br> <br>                    for (int die1 = 1; die1 &lt;= 6; die1++) {<br>                        for (int die2 = 1; die2 &lt;= 6; die2++) {<br>                            if (doubles == 2 &amp;&amp; die1 == die2) continue;<br> <br>                            int newDoubles = 0;<br>                            if (die1 == die2) newDoubles = doubles + 1;<br> <br>                            int num = die1 + die2;<br>                            int newTurn = turn;<br>                            if (doubles == 0) newTurn++;<br> <br>                            if (square + num &gt; qsquare) continue;<br> <br>                            /*<br>                            printf ("(%d, %d, %d) += %f\n",<br>                                    newTurn, square + num, newDoubles,<br>                                    (prob[turn][square][doubles] / 36.0) *<br>                                    pCardNotMoved);<br>                                    */<br> <br> <br>                            prob[newTurn][square + num][newDoubles] +=<br>                                (prob[turn][square][doubles] / 36.0) *<br>                                pCardNotMoved;<br>                        }<br>                    }<br>                }<br>            }<br>        }<br> <br> <br>        double result = 0.0;<br>        for (int turn2 = 0; turn2 &lt; 41; turn2++) {<br> <br>            double prob2 = 0.0;<br> <br>            for (int d2 = 0; d2 &lt; 3; d2++) {<br>                prob2 += prob[turn2][qsquare][d2];<br>            }<br> <br>            double probFirst = 1.0;<br> <br>            for (int turn1 = 0; turn1 &lt;= turn2; turn1++) {<br>                for (int d1 = 0; d1 &lt; 3; d1++) {<br>                    probFirst -= prob[turn1][qsquare][d1];<br>                }<br>            }<br> <br>            result += prob2 * probFirst;<br>        }<br> <br>        return result;<br>    }<br> <br> <br> <br>    static void printf (String f, Object... a) {<br>    }<br> <br> <br> <br>}<br> <br> <br>// Powered by FileEdit<br>// Powered by CodeProcessor<br></td>