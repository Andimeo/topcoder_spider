<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br>using System.Collections.Generic;<br>using System.Text;<br> <br>public class CompositionTimeSignature<br>{<br>    public static int CToN(char C)<br>    {<br>        int SSum = 0;<br>        switch (C)<br>        {<br>            case 'W': SSum = 16;<br>                break;<br>            case 'H': SSum = 8;<br>                break;<br>            case 'Q': SSum = 4;<br>                break;<br>            case 'E': SSum = 2;<br>                break;<br>            case 'S': SSum = 1;<br>                break;<br>        }<br>        return SSum;<br>    }<br> <br>    public static string getTimeSignature(string duration)<br>    {<br>        int SSum = 0;<br>        for(int i=0;i&lt;duration.Length;i++)<br>            SSum +=CToN(duration[i]);<br>        bool CB38 = SSum % 6 == 0;<br>        bool CB24 = SSum % 8 == 0;<br>        bool CB34 = SSum % 12 == 0;<br>        bool CB44 = SSum % 16 == 0;<br>        if (CB38 || CB24 || CB34 || CB44)<br>        {<br>            int N38 = 1000000, N24 = 1000000, N34 = 1000000, N44 = 1000000;<br>            if (CB38)<br>            {<br>                int SLeft = 0;<br>                N38 = 0;<br>                for (int i = 0; i &lt; duration.Length; i++)<br>                {<br>                    if (SLeft / 6 != (SLeft + CToN(duration[i])-1) / 6) N38++;<br>                    SLeft += CToN(duration[i]);<br>                }<br>            }<br>            if (CB24)<br>            {<br>                int SLeft = 0;<br>                N24 = 0;<br>                for (int i = 0; i &lt; duration.Length; i++)<br>                {<br>                    if (SLeft / 8 != (SLeft + CToN(duration[i])-1) / 8) N24++;<br>                    SLeft += CToN(duration[i]);<br>                }<br>            }<br>            if (CB34)<br>            {<br>                int SLeft = 0;<br>                N34 = 0;<br>                for (int i = 0; i &lt; duration.Length; i++)<br>                {<br>                    if (SLeft / 12 != (SLeft + CToN(duration[i])-1) / 12) N34++;<br>                    SLeft += CToN(duration[i]);<br>                }<br>            }<br>            if (CB44)<br>            {<br>                int SLeft = 0;<br>                N44 = 0;<br>                for (int i = 0; i &lt; duration.Length; i++)<br>                {<br>                    if (SLeft / 16 != (SLeft + CToN(duration[i])-1) / 16) N44++;<br>                    SLeft += CToN(duration[i]);<br>                }<br>            }<br>            int M = Math.Min(N38, Math.Min(N24, Math.Min(N34, N44)));<br>            if (M == N38) return "3/8";<br>            if (M == N24) return "2/4";<br>            if (M == N34) return "3/4";<br>            if (M == N44) return "4/4";<br>            return "?/?";<br>        } else return "?/?";<br>    }<br>}<br></td>