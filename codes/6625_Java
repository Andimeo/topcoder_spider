<td class="problemText" colspan="8" valign="middle" align="left">
            // Powered by radeclipse!<br>import java.util.* ;<br>public class ThreeMines {<br>  int[][] val ;<br>  int xs, ys ;<br>  Hashtable ht = new Hashtable() ;<br>  final int NEGINF = -100000000 ;<br>  int best(int lx, int ly, int hx, int hy, int cnt) {<br>    String key = "" + lx + "," + ly + "," + hx + "," + hy + "," + cnt ;<br>    Integer r = (Integer)(ht.get(key)) ;<br>    if (r != null)<br>      return r.intValue() ;<br>    int rr = NEGINF ;<br>    if (cnt == 1) {<br>      for (int i=lx; i&lt;=hx; i++)<br>  for (int j=ly; j&lt;=hy; j++)<br>    for (int k=i; k&lt;=hx; k++)<br>      for (int m=j; m&lt;=hy; m++)<br>        rr = Math.max(rr, val[k][m] - val[i-1][m] - val[k][j-1] + val[i-1][j-1]) ;<br>    } else {<br>      for (int i=lx; i&lt;hx; i++)<br>  rr = Math.max(rr, best(lx, ly, i, hy, cnt-1) +<br>          best(i+1, ly, hx, hy, 1)) ;<br>      for (int j=ly; j&lt;hy; j++)<br>  rr = Math.max(rr, best(lx, ly, hx, j, cnt-1) +<br>          best(lx, j+1, hx, hy, 1)) ;<br>      if (cnt == 3) {<br>  for (int i=lx; i&lt;hx; i++)<br>    rr = Math.max(rr, best(lx, ly, i, hy, 1) +<br>      best(i+1, ly, hx, hy, cnt-1)) ;<br>  for (int j=ly; j&lt;hy; j++)<br>    rr = Math.max(rr, best(lx, ly, hx, j, 1) +<br>      best(lx, j+1, hx, hy, cnt-1)) ;<br>      }<br>    }<br>    ht.put(key, new Integer(rr)) ;<br>    return rr ;<br>  }<br>  public int maximumProfit(String[] field) {<br>    xs = field.length ;<br>    ys = field[0].length() ;<br>    val = new int[xs+1][ys+1] ;<br>    for (int i=0; i&lt;xs; i++)<br>      for (int j=0; j&lt;ys; j++) {<br>  char c = field[i].charAt(j) ;<br>  int v = ((c &gt;= 'a') ? (c - 'a') : ('A' - c)) ;<br>  val[i+1][j+1] = v + val[i][j+1] + val[i+1][j] - val[i][j] ;<br>      }<br>    return best(1, 1, xs, ys, 3) ;<br>  }<br>}<br></td>