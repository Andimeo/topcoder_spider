<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br>    using System.Collections.Generic;<br>    using System.Text;<br><br>    public class PickupBed<br>    {<br>        int n;<br>        int[] ht;<br>        int[] f;<br>        int[] q;<br>        double[] pos;<br>        double res;<br><br>        double rast(int x, int y)<br>        {<br>            double xl = x / (1 + Math.Sqrt(2));<br>            double yl = y / (1 + Math.Sqrt(2));<br>            double xz = x / (1 + Math.Sqrt(2)) / Math.Sqrt(2);<br>            double yz = y / (1 + Math.Sqrt(2)) / Math.Sqrt(2);<br>            if (xz &gt; yz + yl)<br>                return xz + xl + yz + yl;<br>            else if (yz &gt; xz + xl)<br>                return x - yz + xl + xz;<br>            else<br>                return x;<br>        }<br><br>        void rec(int x)<br>        {<br>            if (x == n)<br>            {<br>                Array.Clear(pos, 0, n);<br>                double r = q[0];<br>                for (int i = 1; i &lt; n; i++)<br>                {<br>                    double max = 0;<br>                    for (int j = 0; j &lt; i; j++)<br>                        max = Math.Max(max, pos[j] + rast(q[j], q[i]));<br>                    pos[i] = max;<br>                    r = Math.Max(r, max + q[i]);<br>                }<br>                res = Math.Min(res, r);<br>                return;<br>            }<br>            for (int i = 0; i &lt; n; i++)<br>                if (f[i] == 0)<br>                {<br>                    f[i] = 1;<br>                    q[x] = ht[i];<br>                    rec(x + 1);<br>                    f[i] = 0;                <br>                }<br>        }<br><br>        public double length(int[] ht)<br>        {<br>            n = ht.Length;<br>            this.ht = ht;<br>            f = new int[n];<br>            q = new int[n];<br>            pos = new double[n];<br>            res = double.MaxValue;<br>            rec(0);<br>            return res;<br>        }<br>    }<br></td>