<td class="problemText" colspan="8" valign="middle" align="left">
            #include &lt;sstream&gt;<br>#include &lt;string&gt;<br>#include &lt;vector&gt;<br>#include &lt;set&gt;<br>#include &lt;map&gt;<br>#include &lt;algorithm&gt;<br>#include &lt;cstdlib&gt;<br>#include &lt;cctype&gt;<br>#include &lt;cmath&gt;<br>using namespace std;<br><br>#define FOR(i,a,b) for(int i=(a); i&lt;(b); i++)<br>#define REP(i,n) for(int i=0; i&lt;(n); i++)<br><br><br>int dp[1&lt;&lt;19];<br><br>class MatrixPainting{<br>public:<br>  int countRepaints(vector&lt;string&gt; matrix){<br>    memset(dp,-1,sizeof(dp));<br>    dp[0]=0;<br>    int num[9],cnt,k;<br>    bool m[10][10];<br>    REP(i,9) REP(j,9)<br>      m[i][j]=(matrix[i][j]=='1'?1:0);<br>    FOR(i,0,1&lt;&lt;18)<br>    {<br>      if(dp[i]==-1)<br>        continue;<br>      REP(j,18)<br>      {<br>        if(!(i&amp;(1&lt;&lt;j)))<br>        {<br>          if(j&lt;9)<br>          {<br>            memset(num,0,sizeof(num));<br>            for(k=0;k&lt;9;k++)<br>              if(m[j][k])<br>                num[k]=1;<br>            for(k=9;k&lt;18;k++)<br>              if((i&amp;(1&lt;&lt;k)))<br>                num[k-9]=1;<br>            cnt=0;<br>            for(k=0;k&lt;9;k++)<br>              cnt+=num[k];<br>            if(cnt&gt;4)<br>            {<br>              int t=(i|(1&lt;&lt;j));<br>              if(cnt==9)<br>              {<br>                if(dp[t]&lt;0 || dp[t]&gt;dp[i])<br>                  dp[t]=dp[i];<br>              }<br>              else<br>              {<br>                if(dp[t]&lt;0 || dp[t]&gt;dp[i]+1)<br>                  dp[t]=dp[i]+1;<br>              }<br>            }<br>          }<br>          else<br>          {<br>            memset(num,0,sizeof(num));<br>            for(k=0;k&lt;9;k++)<br>              if(m[k][j-9])<br>                num[k]=1;<br>            for(k=0;k&lt;9;k++)<br>              if((i&amp;(1&lt;&lt;k)))<br>                num[k]=1;<br>            cnt=0;<br>            for(k=0;k&lt;9;k++)<br>              cnt+=num[k];<br>            if(cnt&gt;4)<br>            {<br>              int t=(i|(1&lt;&lt;j));<br>              if(cnt==9)<br>              {<br>                if(dp[t]&lt;0 || dp[t]&gt;dp[i])<br>                  dp[t]=dp[i];<br>              }<br>              else<br>              {<br>                if(dp[t]&lt;0 || dp[t]&gt;dp[i]+1)<br>                  dp[t]=dp[i]+1;<br>              }<br>            }<br>          }<br>        }<br>      }<br>    }<br>    return dp[(1&lt;&lt;18)-1];<br>  }<br>};<br></td>