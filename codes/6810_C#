<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br>using System.Collections.Generic;<br>using System.Text;<br><br>public class CodeSet {<br>    const long INF = 1000000001;<br><br>    long[,] res;<br>    bool[,] got;<br><br>    public int numSets(int n, string favorite) {<br>  int m = favorite.Length;<br>  got = new bool[n + 1, m + 2];<br>  res = new long[n + 1, m + 2];<br>  long r = numSets(n, m);<br>  if (r &gt;= INF)<br>      return -1;<br>  else<br>      return (int) r;<br>    }<br><br>    long numSets(int n, int m) {<br>  if (got[n, m + 1])<br>      return res[n, m + 1];<br>  long am = 0;<br>  if (n == 1 &amp;&amp; m &lt; 0) {<br>      am = 1;<br>  } else if (m == 0) {<br>      if (n == 1)<br>    am = 1;<br>      else {<br>    am = 0;<br>      }<br>  } else {<br>      for (int left = 1; left &lt; n; ++left) {<br>          am += numSets(left, -1) * numSets(n - left, m &lt; 0 ? -1 : m - 1);<br>    if (am &gt;= INF)<br>        am = INF;<br>      }<br>  }<br>  res[n, m + 1] = am;<br>  got[n, m + 1] = true;<br>  return am;<br>    }<br>}<br><br><br>// Powered by FileEdit<br></td>