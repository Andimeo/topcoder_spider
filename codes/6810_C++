<td class="problemText" colspan="8" valign="middle" align="left">
            #line 5 "CodeSet.cpp"<br>#include &lt;string&gt;<br>#include &lt;vector&gt;<br>#include &lt;map&gt;<br>#include &lt;set&gt;<br>#include &lt;utility&gt;<br>#include &lt;sstream&gt;<br>#include &lt;cstdio&gt;<br>#include &lt;cmath&gt;<br>#include &lt;cstdlib&gt;<br><br>using namespace std;<br><br>#define REP(a, n) for (int a = 0; a&lt;(n); ++a)<br>#define FOR(a, b, c) for (int a = (b); a&lt;=(c); ++a)<br>#define FORD(a, b, c) for (int a = (b); a&gt;=(c); --a)<br>#define INIT(a, v) __typeof(v) a = (v)<br>#define FOREACH(i, v) for (INIT(i, (v).begin()); i!=(v).end(); ++i)<br><br>template &lt;class T&gt;<br>inline int size(const T &amp;t) { return t.size(); }<br><br>typedef long long LL;<br>typedef vector&lt;int&gt; vi;<br>typedef vector&lt;string&gt; vs;<br>typedef pair&lt;int, int&gt; pii;<br><br>#define PB push_back<br><br>#define INF 1000000000<br><br>vector&lt;string&gt; split(string s, string d = " ")<br>{<br>  vs ret;<br>  string buf;<br>  FOREACH(i, s)<br>    {<br>      if (find(d.begin(), d.end(), *i)==d.end())<br>  buf += *i;<br>      else<br>  {<br>    if (buf!="")<br>      ret.PB(buf);<br>    buf = "";<br>  }<br>    }<br>  if (buf!="") ret.PB(buf);<br>  return ret;<br>}<br><br>vi s2vi(string s, string d = " ")<br>{<br>  vs xx = split(s, d);<br>  vi ret;<br>  FOREACH(i, xx)<br>    {<br>      int a;<br>      sscanf(i-&gt;c_str(), "%d", &amp;a);<br>      ret.PB(a);<br>    }<br>  return ret;<br>}<br><br>//////////////////////////////////////////<br><br>string xxx;<br>map&lt;pii, LL&gt; res;<br><br>LL licz(int n, int od)<br>{<br>  if (res.find(make_pair(n, od))!=res.end())<br>    return res[make_pair(n, od)];<br><br>  LL wyn = 0;<br>  if (n==1)<br>    wyn = od&lt;0 || od == size(xxx) ? 1 : 0;<br>  else<br>    if (od==size(xxx))<br>      wyn = 0;<br>  else<br>    {<br>      FOR(a, 1, n-1)<br>  if (od&lt;0)<br>    wyn += licz(a, -1)*licz(n-a, -1);<br>        else<br>    wyn += licz(a, -1)*licz(n-a, od+1);<br>    }<br>  <br>  wyn &lt;?= INF+10;<br>  return res[make_pair(n, od)] = wyn;<br>}<br><br>class CodeSet {<br>  public:<br>  int numSets(int n, string xxx2) {<br>    xxx = xxx2;<br>    LL x = licz(n, 0);<br>    if (x&gt;INF) return -1;<br>    return x;<br>  }<br>};<br><br><br>// Powered by FileEdit<br></td>