<td class="problemText" colspan="8" valign="middle" align="left">
            import java.util.*;<br>import java.util.regex.*;<br>import java.text.*;<br>import java.math.*;<br>import java.awt.geom.*;<br><br>public class QuadraticEquations<br>{<br>  int x,y,d,z,k;<br>  void simplify()<br>  {<br>    int i;<br>    for (i=2;i&lt;d;i++)<br>      if (d%(i*i)==0)<br>      {<br>        d/=i*i;<br>        y*=i;<br>        i--;<br>      }<br>    if (d==1)<br>    {<br>      x+=y;<br>      y=0;<br>    }<br>    for (i=2;i&lt;1000;i++)<br>      if (x%i==0 &amp;&amp; y%i==0 &amp;&amp; z%i==0)<br>      {<br>        x/=i;y/=i;z/=i;<br>        i--;<br>      }<br>  }<br>  void geneq()<br>  {<br>    x1=x*x+y*y*d;<br>    y1=x*z;<br>    z1=z*z;<br>    x2=2*x*y;<br>    y2=y*z;<br>    z2=0;<br>    yz1=nod(y1,z1);<br>  }<br>  int nod(int x,int y)<br>  {<br>    if (x&lt;0)<br>      x=-x;<br>    if (y&lt;0)<br>      y=-y;<br>    while (x&gt;0)<br>    {<br>      int r=y%x;<br>      y=x;<br>      x=r;<br>    }<br>    if (y&gt;0)<br>      y=1;<br>    return y;<br>  }<br>  int x1,y1,z1;<br>  int x2,y2,z2;<br>  int yz1;<br>  public long mathdiv(long x,long y)<br>  {<br>    if (x&gt;0)<br>      return x/y;<br>    else<br>      return (x-y+1)/y;<br>  }<br>  public long howMany(int _x, int _y, int _d, int _z, int _k)<br>  {<br>    x=_x;y=_y;d=_d;z=_z;k=_k;<br>    simplify();<br>    geneq();<br>    long res=0;<br>    if (y2!=0)<br>    {<br>      for (long a=-k;a&lt;=k;a++)<br>      {<br>        long b=-x2*a;<br>        if (b%y2==0)<br>        {<br>          b=b/y2;<br>          if (Math.abs(b)&gt;k)<br>            continue;<br>          long c=-a*x1-b*y1;<br>          if (c%z1==0)<br>          {<br>            c/=z1;<br>            if (Math.abs(c)&lt;=k)<br>              res++;<br>          }<br>        }<br>      }<br>    }else<br>    {<br>      if (x==0)<br>      {<br>        return (long)(2*k+1)*(long)(2*k+1);<br>      }<br>      if (x&lt;0)<br>        x=-x;<br>      if (z&lt;0)<br>        z=-z;<br>      for (long a=-(k/z);a&lt;=k/z;a++)<br>      {<br>        long shift=a*x;<br>        long b1,b2;<br>        b1=mathdiv(k-shift,z);<br>        b2=mathdiv(-k-shift-1,z);<br>        b1=Math.min(b1,k/x);<br>        b2=Math.max(b2,-(k/x)-1);<br>        if (b1-b2&gt;0)<br>          res+=b1-b2;<br>      }<br>    }<br>    return res;<br>  }<br>}<br></td>