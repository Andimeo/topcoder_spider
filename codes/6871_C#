<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br>using System.Collections.Generic;<br><br>public class NiceOrUgly {<br>  public int n;<br>  public bool[] vowel, unknown;<br>  public int[,,] memo1 = new int[60,7,7];<br>  public int[,,] memo2 = new int[60,7,7];<br>  <br>  public string describe(string s) {<br>    n = s.Length;<br>    vowel = new bool[n];<br>    unknown = new bool[n] ;<br>    for (int i = 0; i &lt; n; i++)<br>    {<br>      unknown[i] = s[i] == '?';<br>      if (s[i]=='A' || s[i]=='E' || s[i]=='I' || s[i]=='O' || s[i]=='U')<br>        vowel[i] = true;<br>    }<br>    bool beUgly = CanBeUgly(0, 0, 0);<br>    bool beNice = CanBeNice(0, 0, 0);<br>    if (beUgly &amp;&amp; beNice)<br>      return "42";<br>    if (!beUgly)<br>      return "NICE";<br>    return "UGLY";<br>  }<br>  <br>  public bool CanBeUgly(int pos, int v, int c)<br>  {<br>    if (v &gt;= 3 || c &gt;= 5) return true;<br>    if (pos == n) return false;<br>    if (memo1[pos,v,c]&gt;0) return memo1[pos, v, c] == 1;<br>    bool canBe = false;<br>    if (unknown[pos] || vowel[pos])<br>      canBe |= CanBeUgly(pos + 1, v + 1, 0);<br>    if (unknown[pos] || !vowel[pos])<br>      canBe |= CanBeUgly(pos + 1, 0, c + 1);<br>    memo1[pos, v, c] = canBe ? 1 : 2;<br>    return canBe;<br>  }<br><br>  public bool CanBeNice(int pos, int v, int c)<br>  {<br>    if (v &gt;= 3 || c &gt;= 5) return false;<br>    if (pos == n) return true;<br>    if (memo2[pos, v, c] &gt; 0) return memo2[pos, v, c] == 1;<br>    bool canBe = false;<br>    if (unknown[pos] || vowel[pos])<br>      canBe |= CanBeNice(pos + 1, v + 1, 0);<br>    if (unknown[pos] || !vowel[pos])<br>      canBe |= CanBeNice(pos + 1, 0, c + 1);<br>    memo2[pos, v, c] = canBe ? 1 : 2;<br>    return canBe;<br>  }<br><br>}<br><br><br><br>// Powered by FileEdit<br></td>