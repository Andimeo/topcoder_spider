<td class="problemText" colspan="8" valign="middle" align="left">
            #include &lt;algorithm&gt;<br>#include &lt;string&gt;<br>#include &lt;vector&gt;<br>using namespace std;<br><br>#define SI(A) ((int)(A).size())<br>#define ALL(A) A.begin(),A.end()<br>#define CL(A,v) memset(A, v, sizeof(A))<br>#define FOR(i,a,b) for ( i = (a); i &lt;= (b); ++i )<br>#define REP(i,N) for ( i = 0; i &lt; N; ++i )<br><br>int P[123][3][5];<br><br>int Vo(char ch)<br>{<br>  return strchr("AIOUE", ch) != NULL;<br>}<br><br>class NiceOrUgly<br>{<br>public:<br>  string describe(string s)<br>  {<br>    CL(P, 0);<br><br>    int N = SI(s), i, a, b, nice = 0, ugly = 0;<br><br>    P[0][0][0] = 1;<br>    REP(i,N) REP(a,3) REP(b,5)<br>      if ( P[i][a][b] )<br>      {      <br>        int vo = Vo(s[i]) || s[i] == '?';<br>        int co = !Vo(s[i]) || s[i] == '?';<br><br>        if ( vo )<br>        {<br>          if ( a &gt;= 2 ) ugly = 1;<br>          else<br>            P[i + 1][a + 1][0] = 1;<br>        }<br><br>        if ( co )<br>        {<br>          if ( b &gt;= 4 ) ugly = 1;<br>          else<br>            P[i + 1][0][b + 1] = 1;<br>        }<br>      }<br><br>    <br>    REP(a,3) REP(b,5) nice |= P[N][a][b];<br>    if ( nice ) <br>      if ( ugly )<br>        return "42";<br>      else<br>        return "NICE";<br>    else<br>      return "UGLY";<br><br>  }<br>};<br></td>