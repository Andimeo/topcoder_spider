<td class="problemText" colspan="8" valign="middle" align="left">
            import java.util.*;<br>import java.util.regex.*;<br>import java.text.*;<br>import java.math.*;<br>import java.awt.geom.*;<br><br>public class ExtendedHappyNumbers<br>{<br>    int[] value;<br>    public int next(int A, int K)<br>    {<br>        int res = 0;<br>        while (A&gt;0)<br>        {<br>            int k = A%10;<br>            for (int i=1; i&lt;K; i++)<br>                k*=A%10;<br>            res+=k;<br>            A = A/10;<br>        }<br>        return res;<br>    }<br>    public int rec(int A, int K)<br>    {<br>        int res = A;<br>        if (value[A]&gt;0) return value[A];<br>        int res1 = rec(next(A, K), K);<br>        if (res1&lt;res) res = res1;<br>        value[A] = res;<br>        return res;<br>    }<br>    <br>    public int get(int A, int K)<br>    {<br>        int res = A;<br>        int B = A;<br>        while (value[B]==0)<br>        {<br>            if (res&gt;B) res = B;<br>            value[B] = -1;<br>            B = next(B, K);<br>        }<br>        if (value[B]==-1)<br>        {<br>            int res1 = B;<br>            int C = B;<br>            while (value[C] == -1) {<br>                if (res1 &gt; C) res1 = C;<br>                value[C] = 0;<br>                C = next(C, K);<br>            } <br>            while (value[C] == 0)<br>            {<br>                value[C] = res1;<br>                C = next(C, K);<br>            }<br>        }<br>        return rec(A, K);<br>    }<br>        <br>    public long calcTheSum(int A, int B, int K)<br>    {<br>        value = new int[12000000];<br>        long res = 0;<br>        for (int i=A; i&lt;=B; i++)<br>        {<br>            res+=get(i, K);<br>        }<br>        return res;<br>    }<br>}<br>//Powered by [KawigiEdit] 2.0!<br></td>