<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br>public class ChristmasTree<br>{<br>    private long cn(int a,int b)<br>    {<br>        long t=1,p=1;<br>        for(int c=a;c&gt;=1;c--)<br>            t*=c;<br>        for(int c=a/b;c&gt;=1;c--)<br>            p*=c;<br>        for(int c=b;c&gt;=1;c--)<br>            t/=p;<br>        return t;<br>    }        <br>    private long solve(int s, int red, int green, int blue)<br>    {<br>        long reg=0;<br>        if (s == 0) return 1;<br>        if (red &gt;= s) reg += solve(s - 1, red - s, green, blue);<br>        if (green &gt;= s) reg += solve(s - 1, red, green - s, blue);<br>        if (blue &gt;= s) reg += solve(s - 1, red, green, blue - s);<br>        if (s % 2 == 0)<br>        {<br>            if (red &gt;= s / 2 &amp;&amp; green &gt;= s / 2)<br>                reg += solve(s - 1, red - s / 2, green - s / 2, blue) * cn(s, 2);<br>            if (red &gt;= s / 2 &amp;&amp; blue &gt;= s / 2)<br>                reg += solve(s - 1, red - s / 2, green, blue - s / 2) * cn(s, 2);<br>            if (blue &gt;= s / 2 &amp;&amp; green &gt;= s / 2)<br>                reg += solve(s - 1, red, green - s / 2, blue - s / 2) * cn(s, 2);<br>        }<br>        if (s % 3 == 0)<br>            if (red &gt;= s / 3 &amp;&amp; green &gt;= s / 3 &amp;&amp; blue &gt;= s / 3)<br>                reg += solve(s - 1, red - s / 3, blue - s / 3, green - s / 3) * cn(s, 3);<br>        return reg;<br>    }<br>    public long decorationWays(int N, int red, int green, int blue)<br>    {<br>        if (red + green + blue &lt; N * (N + 1) / 2)<br>            return 0;<br>        return solve(N, red, green, blue);        <br>    }<br>}<br></td>