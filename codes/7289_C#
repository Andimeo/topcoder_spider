<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br><br>public class RandomSwaps {<br>  public double getProbability(int arrayLength, int swapCount, int a, int b) {<br>    double ps = 1;<br>    double pd = 0;<br>    double p0 = (double)(arrayLength - 2) / (double)(arrayLength);<br>    for (int i = 0; i &lt; swapCount; ++i)<br>    {<br>      double npd = p0 * pd + (1 - p0) * (ps + (double) (arrayLength - 2) / (arrayLength - 1) * pd);<br>      double nps = p0 * ps + (1 - p0) * (1.0 / (arrayLength - 1) * pd);<br>      pd = npd;<br>      ps = nps;<br>    }<br>    if (a == b)<br>      return ps;<br>    else<br>      return pd / (arrayLength - 1);<br>  }<br><br><br><br>}<br><br><br>// Powered by FileEdit<br>// Powered by TZTester 1.01 [25-Feb-2003] [modified for C# by Petr]<br>// Powered by CodeProcessor<br></td>