<td class="problemText" colspan="8" valign="middle" align="left">
            #include &lt;string&gt;<br>#include &lt;algorithm&gt;<br>#include &lt;vector&gt;<br><br>using namespace std;<br><br>struct Squares<br>{<br>  int countSquares(vector &lt;string&gt; field);<br>};<br><br>int Squares :: countSquares(vector &lt;string&gt; field)<br>{<br>  int n = field.size();<br>  int m = field[0].size();<br>  int i, j, k, l;<br>  int ret = 0;<br>  int p1, p2;<br>  int t1, t2;<br>  for (i = 0;i &lt; n;i++)<br>  {<br>    for (j = 0;j &lt; m;j++)<br>    {<br>      for (k = i;k &lt; n;k++)<br>      {<br>        for (l = j + 1;l &lt; m;l++)<br>        {<br>          if (field[i][j] == field[k][l])<br>          {<br>            p1 = k - i;<br>            p2 = l - j;<br>            t1 = i + p2;<br>            t2 = j - p1;<br>            if (0 &lt;= t1 &amp;&amp; t1 &lt; n &amp;&amp; 0 &lt;= t2 &amp;&amp; t2 &lt; m &amp;&amp; field[t1][t2] == field[i][j])<br>            {<br>              t1 += p1;<br>              t2 += p2;<br>              if (0 &lt;= t1 &amp;&amp; t1 &lt; n &amp;&amp; 0 &lt;= t2 &amp;&amp; t2 &lt; m &amp;&amp; field[t1][t2] == field[i][j])<br>              {<br>                ret++;<br>              }<br>            }<br>          }<br>        }<br>      }<br>    }<br>  }<br>  return ret;<br>}<br></td>