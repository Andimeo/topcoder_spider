<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br><br>public class RandomFights {<br>  public double expectedNrOfPoints(int[] A, int[] B, int n) {<br>    int[] a = makeArr(A, n);<br>    int[] b = makeArr(B, n);<br>    long s1 = 0;<br>    long s2 = 0;<br>    int at = 0;<br>    Array.Sort(a);<br>    Array.Sort(b);<br>    long res = 0;<br>    foreach (int x in a)<br>    {<br>      while (at &lt; b.Length &amp;&amp; x &gt; b[at])<br>      {<br>        s1 += b[at];<br>        s2 += (long)b[at] * b[at];<br>        ++at;<br>      }<br>      res += at * (long) x * x + s2 - 2 * (long) x * s1;<br>    }<br>    at = 0;<br>    s1 = 0;<br>    s2 = 0;<br>    foreach (int x in b)<br>    {<br>      while (at &lt; a.Length &amp;&amp; x &gt; a[at])<br>      {<br>        s1 += a[at];<br>        s2 += (long)a[at] * a[at];<br>        ++at;<br>      }<br>      res -= at * (long)x * x + s2 - 2 * (long)x * s1;<br>    }<br>    return (double)res / n;<br>  }<br><br>  int[] makeArr(int[] a, int n)<br>  {<br>    int j = 0;<br>    int m = a.Length;<br>    int[] r = new int[n];<br>    for (int i = 0; i &lt; n; ++i)<br>    {<br>      r[i] = a[j];<br>      int s = (j + 1) % m;<br>      a[j] = ((a[j] ^ a[s]) + 13) % 49999;<br>      j = s;<br>    }<br>    return r;<br>  }<br><br><br><br>}<br><br><br>// Powered by FileEdit<br>// Powered by TZTester 1.01 [25-Feb-2003] [modified for C# by Petr]<br>// Powered by CodeProcessor<br></td>