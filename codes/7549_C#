<td class="problemText" colspan="8" valign="middle" align="left">
            public class FireSimulation<br>{<br>  public string[] getState(string[] f, int minute)<br>  {<br>    int[] dr = new int[] { -1, 1, 0, 0 };<br>    int[] dc = new int[] { 0, 0, -1, 1 };<br>    int R = f.Length;<br>    int C = f[0].Length;<br>    int[,] field = new int[R, C];<br>    int[,] Start = new int[R, C];<br>    for(int i = 0; i &lt; R; i++)<br>      for(int j = 0; j &lt; C; j++)<br>      {<br>        field[i,j] = int.Parse(""+f[i][j]);<br>        Start[i,j] = field[i,j];<br>      }<br>    field[0,0]--;  <br>    for(int c = 1; c &lt;= minute; c++)<br>    {<br>      for(int i = 0; i &lt; R; i++)<br>        for(int j = 0; j &lt; C; j++)<br>          if(field[i,j] != Start[i,j])<br>            field[i,j]--;<br>            <br>      for(int i = 0; i &lt; R; i++)<br>        for(int j = 0; j &lt; C; j++)<br>        {<br>          if(field[i,j] &lt; 0)<br>            for(int a = 0; a &lt; 4; a++)<br>            {<br>              int nr = dr[a] + i;<br>              int nc = dc[a] + j;<br>              if(nr &lt; 0 || nc &lt; 0 || nr &gt;= R || nc &gt;= C) continue;<br>              if(field[nr,nc] != Start[nr,nc]) continue;<br>              field[nr,nc]--;<br>            }<br>        }<br>    }<br>    string[] Final = new string[R];<br>    for(int i = 0; i &lt; R; i++)<br>    {<br>      Final[i] = string.Empty;<br>      for(int j = 0; j &lt; C; j++)<br>        if(field[i,j] &lt; 0) Final[i] += ".";<br>        else if(field[i,j] != Start[i,j]) Final[i] += "*";<br>        else Final[i] += Start[i,j];<br>    }<br>    return Final;<br>  }<br>}<br></td>