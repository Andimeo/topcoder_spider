<td class="problemText" colspan="8" valign="middle" align="left">
            import java.io.*;<br>import java.util.*;<br><br>public class RooksPlacement {<br>  final long mod = 1000001;<br>  <br>  public int countPlacements(int A, int B, int num) {<br>    long[][][] r = new long[A + 1][B + 1][num + 1];<br>    for (int a = 0; a &lt;= A; a++) {<br>      for (int b = 0; b &lt;= B; b++) {<br>        r[a][b][0] = 1;<br>        for (int k = 1; k &lt;= num &amp;&amp; k &lt;= a * b; k++) {<br>          if (a &gt;= 1)<br>            r[a][b][k] += r[a - 1][b][k];<br>          if (a &gt;= 1 &amp;&amp; b &gt;= 1 &amp;&amp; k &gt;= 1)<br>            r[a][b][k] += b * r[a - 1][b - 1][k - 1];<br>          if (a &gt;= 2 &amp;&amp; b &gt;= 1 &amp;&amp; k &gt;= 2)<br>            r[a][b][k] += b * (a - 1) * r[a - 2][b - 1][k - 2];<br>          if (a &gt;= 1 &amp;&amp; b &gt;= 2 &amp;&amp; k &gt;= 2)<br>            r[a][b][k] += (b * (b - 1) / 2) * r[a - 1][b - 2][k - 2];<br>          r[a][b][k] %= mod;<br>        }<br>      }<br>    }<br>    return (int) r[A][B][num];<br>  }<br>}<br></td>