<td class="problemText" colspan="8" valign="middle" align="left">
            import java.util.*;<br><br>public class TransposeMyMusic {<br>  public String transposeMusic(String[] sheetMusic, String newKey) {<br>    String sheet = "";<br>    for (int i = 0; i &lt; sheetMusic.length; i++)<br>      sheet += sheetMusic[i];<br>    String[] s = sheet.split(" ");<br>    int[] mm = new int[s.length];<br>    for (int i = 0; i &lt; s.length; i++) {<br>      if (s[i].charAt(s[i].length() - 1) == 'm') {<br>        s[i] = s[i].substring(0, s[i].length() - 1);<br>        mm[i] = 1;<br>      }<br>    }<br>    String[] lst = new String[] { "A", "A#", "B", "C", "C#", "D", "D#",<br>        "E", "F", "F#", "G", "G#" };<br><br>    int[] she = new int[s.length];<br>    for (int i = 0; i &lt; s.length; i++) {<br>      if (s[i].equals("Bb"))<br>        s[i] = "A#";<br>      else if (s[i].equals("Db"))<br>        s[i] = "C#";<br>      else if (s[i].equals("Eb"))<br>        s[i] = "D#";<br>      else if (s[i].equals("Gb"))<br>        s[i] = "F#";<br>      else if (s[i].equals("Ab"))<br>        s[i] = "G#";<br>      she[i] = -1;<br>      for (int j = 0; j &lt; lst.length; j++)<br>        if (lst[j].equals(s[i]))<br>          she[i] = j;<br>    }<br><br>    boolean tom = false;<br>    if (newKey.endsWith("m")) {<br>      newKey = newKey.substring(0, newKey.length() - 1);<br>      tom = true;<br>    }<br>    String bakKey = newKey;<br>    if (bakKey.equals("Bb"))<br>      bakKey = "A#";<br>    else if (bakKey.equals("Db"))<br>      bakKey = "C#";<br>    else if (bakKey.equals("Eb"))<br>      bakKey = "D#";<br>    else if (bakKey.equals("Gb"))<br>      bakKey = "F#";<br>    else if (bakKey.equals("Ab"))<br>      bakKey = "G#";<br>    int toKey = -1;<br>    for (int j = 0; j &lt; lst.length; j++)<br>      if (lst[j].equals(bakKey))<br>        toKey = j;<br><br>    int first = -1;<br>    for (int i = 0; i &lt; she.length; i++)<br>      if (first == -1 &amp;&amp; she[i] != -1)<br>        first = she[i];<br>    int shift = toKey - first + 12;<br>    for (int i = 0; i &lt; she.length; i++) {<br>      if (she[i] != -1) {<br>        she[i] = (she[i] + shift) % 12;<br>        s[i] = lst[she[i]];<br>      }<br>    }<br>    if (newKey.equals("Bb") || newKey.equals("Db") || newKey.equals("Eb")<br>        || newKey.equals("F") || newKey.equals("Gb")<br>        || newKey.equals("Ab")) {<br>      for (int i = 0; i &lt; she.length; i++)<br>        if (s[i].equals("A#"))<br>          s[i] = "Bb";<br>        else if (s[i].equals("C#"))<br>          s[i] = "Db";<br>        else if (s[i].equals("D#"))<br>          s[i] = "Eb";<br>        else if (s[i].equals("F#"))<br>          s[i] = "Gb";<br>        else if (s[i].equals("G#"))<br>          s[i] = "Ab";<br>    }<br>      for (int i = 0; i &lt; s.length; i++)<br>        if (mm[i] == 1)<br>          s[i] = s[i] + "m";<br>    String res = "";<br>    for (int i = 0; i &lt; s.length; i++) {<br>      if (i != 0)<br>        res += ' ';<br>      res += s[i];<br>    }<br>    return res;<br>  }<br><br>}<br><br><br>// Powered by FileEdit<br>// Powered by TZTester 1.01 [25-Feb-2003]<br>// Powered by CodeProcessor<br></td>