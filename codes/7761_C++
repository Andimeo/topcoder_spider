<td class="problemText" colspan="8" valign="middle" align="left">
            #include &lt;algorithm&gt;<br>#include &lt;cmath&gt;<br>#include &lt;cstdio&gt;<br>#include &lt;cstdlib&gt;<br>#include &lt;map&gt;<br>#include &lt;set&gt;<br>#include &lt;string&gt;<br>#include &lt;utility&gt;<br>#include &lt;vector&gt;<br> <br>using namespace std;<br> <br>typedef long long Long;<br>typedef double dbl;<br>typedef vector &lt;int&gt; vi;<br>typedef pair &lt;int, int&gt; pii;<br> <br>#define fi first<br>#define mp make_pair<br>#define pb push_back<br>#define se second<br> <br>int dx[6] = {1, 1, 0, -1, -1,  0};<br>int dy[6] = {0, 1, 1,  0, -1, -1};<br> <br>char f[40][40];<br>int ans = 0, a, b;<br>char c[40][40], nb[40][40], nw[40][40];<br> <br>void dfs( int x, int y )<br>{<br>  if (y &gt; 20)<br>    ans++;<br>  else if (x &gt; 20)<br>    dfs(0, y + 1);<br>  else if (f[x][y] == 0)<br>    dfs(x + 1, y);<br>  else<br>  {<br>    int f1 = f[x][y] == 1 || nw[x][y] &lt;= b &amp;&amp; nb[x][y] &lt;= 6 - b;<br>    for (int i = 0; i &lt; 6 &amp;&amp; f1; i++)<br>      if (f[x + dx[i]][y + dy[i]] == 2 &amp;&amp; (c[x + dx[i]][y + dy[i]] == 1 &amp;&amp; nw[x + dx[i]][y + dy[i]] + 1 &gt; b || c[x + dx[i]][y + dy[i]] == 2 &amp;&amp; nw[x + dx[i]][y + dy[i]] + 1 &gt; 6 - a))<br>        f1 = 0;<br>    if (f1)<br>    {<br>      for (int i = 0; i &lt; 6; i++)<br>        nw[x + dx[i]][y + dy[i]]++;<br>      c[x][y] = 1;<br>      dfs(x + 1, y);<br>      for (int i = 0; i &lt; 6; i++)<br>        nw[x + dx[i]][y + dy[i]]--;<br>      c[x][y] = 0;<br>    }<br>    int f2 = f[x][y] == 1 || nb[x][y] &lt;= a &amp;&amp; nw[x][y] &lt;= 6 - a;<br>    for (int i = 0; i &lt; 6 &amp;&amp; f2; i++)<br>      if (f[x + dx[i]][y + dy[i]] == 2 &amp;&amp; (c[x + dx[i]][y + dy[i]] == 2 &amp;&amp; nb[x + dx[i]][y + dy[i]] + 1 &gt; a || c[x + dx[i]][y + dy[i]] == 1 &amp;&amp; nb[x + dx[i]][y + dy[i]] + 1 &gt; 6 - b))<br>        f2 = 0;<br>    if (f2)<br>    {<br>      for (int i = 0; i &lt; 6; i++)<br>        nb[x + dx[i]][y + dy[i]]++;<br>      c[x][y] = 2;<br>      dfs(x + 1, y);<br>      for (int i = 0; i &lt; 6; i++)<br>        nb[x + dx[i]][y + dy[i]]--;<br>      c[x][y] = 0;<br>    }<br>  }<br>}<br> <br>class BeautifulHexagonalTilings<br>{<br>  public:<br>    int howMany( vector &lt;int&gt; s, int __a, int __b )<br>    {<br>      int x = 1, y = 1;<br>      a = __a, b = __b;<br>      memset(f, 0, sizeof(f));<br>      f[x][y] = 1;<br>      for (int i = 0; i &lt; 6; i++)<br>        for (int j = 1; j &lt; s[i]; j++)<br>          x += dx[i], y += dy[i], f[x][y] = 1;<br>      for (int i = 0; i &lt; 20; i++)<br>      {<br>        int g = 0;<br>        for (int j = 0; j &lt; 20; j++)<br>          if (f[i][j] == 1)<br>            g++;<br>          else if (g == 1)<br>            f[i][j] = 2;<br>      }<br>      for (int i = 0; i &lt; 20; i++)<br>      {<br>        for (int j = 0; j &lt; 20; j++)<br>          printf("%d", f[i][j]);<br>        printf("\n");<br>      }<br>      memset(c, 0, sizeof(c));<br>      memset(nb, 0, sizeof(nb));<br>      memset(nw, 0, sizeof(nw));<br>      dfs(0, 0);<br>      return ans;<br>    }<br>};<br> <br>// Code by Burunduk3 =)<br>// Powered by PopsEdit<br></td>