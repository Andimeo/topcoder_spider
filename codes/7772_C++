<td class="problemText" colspan="8" valign="middle" align="left">
            #include &lt;string&gt;<br>#include &lt;vector&gt;<br>#include &lt;cstdio&gt;<br>#include &lt;iostream&gt;<br>#include &lt;sstream&gt;<br>#include &lt;set&gt;<br>#include &lt;map&gt;<br>#include &lt;utility&gt;<br>#include &lt;cmath&gt;<br>using namespace std;<br><br>#define fo(a,b) for(int a=0;a&lt;b;++a)<br>#define pb push_back<br>#define foreach(it,c) for(typeof((c).begin()) it = (c).begin();it != (c).end();++it)<br>#define mp make_pair<br><br>#define lint long long int<br>#define VS vector&lt;string&gt;<br>#define VI vector&lt;int&gt;<br>#define VVI vector&lt;VI &gt;<br>#define iss istringstream<br>#define oss ostringstream<br><br>int memo[51][51][51][4][3];<br><br>int inf = 1000000;<br><br>VI v;<br>int cnt[3];<br>int doit(int a,int b,int c, int prev, int l)<br>{<br>  if(l == 3) return -inf;<br>  if(a &gt; cnt[0] || b &gt; cnt[1] || c &gt; cnt[2]) return -inf;<br>  int n = a + b + c;<br>  if(n == v.size()) return 0;  <br>  int &amp; ret = memo[a][b][c][prev+1][l];<br><br>  if(ret != -1) return ret;<br>  ret = -inf;<br>  fo(i,3){<br>    ret &gt;?= (v[n] == i) + doit(a+(i==0),b+(i==1),c+(i==2), i, (i==prev)?(l+1):(1));<br>  }<br>  return ret;<br>}<br><br>class BoxesArrangement{<br>public:<br>int maxUntouched(string boxes) {<br>  fo(i,boxes.size()) v.pb(boxes[i]-'A');<br>  fo(i,v.size()) cnt[v[i]]++;<br>  memset(memo,-1,sizeof(memo));<br>  int ret = doit(0,0,0,-1,0);<br>  if(ret &gt;= 0) return ret;<br>  return -1;<br>}<br>        <br><br>};<br><br><br><br>// Powered by FileEdit<br>// Powered by TZTester 1.01 [25-Feb-2003]<br>// Powered by CodeProcessor<br></td>