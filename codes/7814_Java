<td class="problemText" colspan="8" valign="middle" align="left">
            import java.io.*;<br>import java.util.*;<br><br>public class LineOfDice {<br>  int mod = 10007;<br>  int[][] cnk = new int[5000][1200];<br>  <br>  public int howMany(int[] d) {<br>    for (int n = 0; n &lt; 5000; n++) {<br>      cnk[n][0] = 1;<br>      if (n &lt;= 1000) cnk[n][n] = 1;<br>      for (int k = 1; k &lt; n &amp;&amp; k &lt;= 1000; k++) {<br>        cnk[n][k] = (cnk[n - 1][k - 1] + cnk[n - 1][k]) % mod;<br>      }<br>    }<br>    int ans = 0;<br>    ans += solve(d[0], d[1], d[4], d[5]);<br>    ans += solve(d[0], d[2], d[3], d[5]);<br>    ans += solve(d[1], d[2], d[3], d[4]);<br>    return (2 * ans) % mod;<br>  }<br><br>  private int solve(int... d) {<br>    int n = 5000;<br>    int[] a = new int[n];<br>    a[0] = 1;<br>    for (int i = 0; i &lt; 4; i++) {<br>      int[] b = new int[n];<br>      for (int k = 0; k &lt; n; k++) {<br>        if (a[k] == 0)<br>          continue;<br>        for (int t = 0; t &lt;= d[i]; t++) {<br>          b[k + t] = (b[k + t] + a[k] * cnk[k + t][t]) % mod;<br>        }<br>      }<br>      a = b;<br>    }<br>    int ans = 0;<br>    a[0] = 0;<br>    for (int i : a) {<br>      ans = (ans + i) % mod;<br>    }<br>    return ans;<br>  }<br>}<br></td>