<td class="problemText" colspan="8" valign="middle" align="left">
            #include &lt;string&gt;<br>#include &lt;vector&gt;<br>#include &lt;cstdio&gt;<br>#include &lt;iostream&gt;<br>#include &lt;sstream&gt;<br>#include &lt;set&gt;<br>#include &lt;map&gt;<br>#include &lt;utility&gt;<br>#include &lt;cmath&gt;<br>using namespace std;<br><br>#define fo(a,b) for(int a=0;a&lt;b;++a)<br>#define pb push_back<br>#define foreach(it,c) for(typeof((c).begin()) it = (c).begin();it != (c).end();++it)<br>#define mp make_pair<br><br>#define lint long long int<br>#define VS vector&lt;string&gt;<br>#define VI vector&lt;int&gt;<br>#define VVI vector&lt;VI &gt;<br>#define iss istringstream<br>#define oss ostringstream<br><br>double inf = 1e200;<br>VS g;<br>int dx[] = {-1,0,1,0};<br>int dy[] = {0,1,0,-1};<br><br>double memo[102][52][52][5];<br>int m , n;<br>double S, T;<br><br>double doit(int left,int x,int y, int dir)<br>{<br>  if(x &lt; 0 || x &gt;= m || y &lt; 0 || y &gt;= n) return inf;<br>  if(left == 0) return g[x][y] == 'C' ?  0 : inf;<br>  if(g[x][y] == 'C') return inf;<br>  if(g[x][y] == 'X') return inf;<br>  <br>  double&amp; ret = memo[left][x][y][dir];<br>  if(ret &gt; -0.5) return ret;<br>  ret = inf;<br>  fo(k,4) if(k != dir){<br>    ret &lt;?= doit(left-1,x+dx[k],y+dy[k], (k+2)%4) + (g[x][y]=='S' ? S : 0) + 0.7*(g[x][y]=='T' ? T : 0);<br>  }<br>  if(g[x][y] == 'T' &amp;&amp; left &gt; 1){<br>    fo(k,4) if(k != dir){<br>      ret &lt;?= doit(left-2,x+dx[k],y+dy[k], (k+2)%4) ;    <br>    }<br>  }<br>  return ret;<br>}<br><br>class LateForConcert{<br>public:<br>double bestRoute(vector &lt;string&gt; cityMap, int timeLeft, double speedingTicket, double redLight) {<br>  g = cityMap;<br>  m = g.size();<br>  n = g[0].size();<br>  S= speedingTicket;<br>  T = redLight;<br><br>  fo(i,timeLeft+1) fo(j,m)fo(k,n) fo(l, 5) memo[i][j][k][l] = -1;<br>  int sx=-1, sy=-1;<br>  fo(i,m)fo(j,n) if(g[i][j]=='Y') sx = i , sy = j;<br>  double ret = doit(timeLeft , sx, sy, 4);<br>  if(ret &lt; 1e100) return ret;<br>  return -1;<br>}<br>        <br><br>};<br><br><br><br>// Powered by FileEdit<br>// Powered by TZTester 1.01 [25-Feb-2003]<br>// Powered by CodeProcessor<br></td>