<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br>using System.Collections;<br>using System.Collections.Generic;<br>using System.Collections.Specialized;<br>using System.Text;<br>using System.Text.RegularExpressions;<br> <br>public class Election<br>{<br>  public int votesNeeded(int[] votes, int[] wishList)<br>  {<br>    int n = votes.Length;<br>    int[] pos = new int[n];<br>    int ret = 0;<br>    for (int i=0; i&lt;n; ++i) {<br>      int x = Array.IndexOf(wishList, i);<br>      if (x == -1) {<br>        for (int j=0; j&lt;n; ++j) {<br>          if (wishList[j] == -1) {<br>            if (x == -1)<br>              x = j;<br>            else if (votes[x] &lt; votes[j])<br>              x = j;<br>          }<br>        }<br>      }<br>      pos[i] = x;<br>      wishList[x] = i;<br>      //Console.WriteLine(x);<br>      <br>      if (i &gt; 0 &amp;&amp; votes[x] &gt;= votes[pos[i-1]]) {<br>        if (votes[x] == votes[pos[i-1]] &amp;&amp; x &gt; pos[i-1])<br>          continue;<br>          if (x &gt; pos[i-1]) {<br>            ret += votes[x] - votes[pos[i-1]];<br>            votes[pos[i-1]] = votes[x];<br>          } else {<br>            ret += votes[x] - votes[pos[i-1]]+1;<br>            votes[pos[i-1]] = votes[x] + 1;            <br>          }<br>        //Console.WriteLine(x + ": " + votes[x] + " &lt; " + pos[i-1] + ": " + votes[pos[i-1]]);<br>        x = pos[i-1];<br>        int j = i-1;<br>        while (j &gt; 0 &amp;&amp; votes[x] &gt;= votes[pos[j-1]]) {<br>          if (votes[x] == votes[pos[j-1]] &amp;&amp; x &gt; pos[j-1])<br>            break;<br>          if (x &gt; pos[j-1]) {<br>            ret += votes[x] - votes[pos[j-1]];<br>            votes[pos[j-1]] = votes[x];<br>          } else {<br>            ret += votes[x] - votes[pos[j-1]]+1;<br>            votes[pos[j-1]] = votes[x] + 1;            <br>          }<br> <br>          //Console.WriteLine(x + ": " + votes[x] + " &lt; " + pos[j-1] + ": " + votes[pos[j-1]]);<br>          j = j-1;<br>          x = pos[j];<br>        }<br>      }<br>    }<br>    return ret;<br>  }<br> <br> <br>}<br>//Powered by [KawigiEdit] 2.0!<br></td>