<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br>using System.Collections;<br>public class BlackWhiteRectangles {<br>  public int blackCount(string[] rectangles) {<br>    int[, ,] a=new int[rectangles.Length,40001,2];<br>    int[, ,] b=new int[rectangles.Length,40001,2];<br>  //  int[, ,] c=new int[rectangles.Length,40000,2];<br><br>    for(int i=0;i&lt;rectangles.Length;i++)<br>    {<br>      int[] tab=new int[5];<br>      for(int j=0;j&lt;5;j++)<br>        tab[j]=int.Parse(rectangles[i].Split()[j]);<br>      tab[2]--;<br>    //  tab[3]--;<br>      for(int j=tab[0];j&lt;=tab[2];j++)<br>      {<br>        if(tab[4]==1 || (tab[4]==2 &amp;&amp; tab[1]%2==1) || (tab[4]==3 &amp;&amp; (j-tab[0])%2==1) || (tab[4]==4 &amp;&amp; (tab[1]+(j-tab[0]))%2==0))<br>        {<br>          a[i,j,0]=tab[1];<br>          a[i,j,1]=tab[3];<br>          for(int k=0;k&lt;i;k++)<br>            if(a[k,j,0]!=a[k,j,1])<br>            {<br>              if(a[k,j,1]&lt;a[i,j,0] || a[k,j,0]&gt;a[i,j,1])<br>              {<br>                continue;<br>              }<br>              else<br>              {<br>                a[i,j,0]=Math.Min(a[i,j,0],a[k,j,0]);<br>                a[i,j,1]=Math.Max(a[i,j,1],a[k,j,1]);<br>                a[k,j,1]=a[k,j,0];<br>              }<br>            }<br>        }<br>        if(tab[4]==1 || (tab[4]==2 &amp;&amp; tab[1]%2==0) || (tab[4]==3 &amp;&amp; (j-tab[0])%2==1) || (tab[4]==4 &amp;&amp; (tab[1]+(j-tab[0]))%2==1))<br>        {<br>          b[i,j,0]=tab[1];<br>          b[i,j,1]=tab[3];<br>          for(int k=0;k&lt;i;k++)<br>            if(b[k,j,0]!=b[k,j,1])<br>            {<br>              if(b[k,j,1]&lt;b[i,j,0] || b[k,j,0]&gt;b[i,j,1])<br>              {<br>                continue;<br>              }<br>              else<br>              {<br>                b[i,j,0]=Math.Min(b[i,j,0],b[k,j,0]);<br>                b[i,j,1]=Math.Max(b[i,j,1],b[k,j,1]);<br>                b[k,j,1]=b[k,j,0];<br>              }<br>            }<br>        }<br>      }<br>    }<br><br>    int res=0;<br>    for(int i=0;i&lt;rectangles.Length;i++)<br>      for(int j=0;j&lt;=40000;j++)<br>      {<br>        if(a[i,j,0]%2==0)<br>          res+=(1+a[i,j,1]-a[i,j,0])/2;<br>        else<br>          res+=(a[i,j,1]-a[i,j,0])/2;<br>        if(b[i,j,0]%2==1)<br>          res+=(1+b[i,j,1]-b[i,j,0])/2;<br>        else<br>          res+=(b[i,j,1]-b[i,j,0])/2;<br>      }<br>    return res;<br>  }<br><br><br><br><br>}<br><br><br>// Powered by FileEdit<br>// Powered by TZTester 1.01 [25-Feb-2003], modified to support C#<br>// Powered by CodeProcessor<br></td>