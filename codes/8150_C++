<td class="problemText" colspan="8" valign="middle" align="left">
            // I think there are too many tournement rounds<br>// (i.e. I have something better to do now)<br><br>#include &lt;algorithm&gt;<br>#include &lt;string&gt;<br>#include &lt;vector&gt;<br>using namespace std;<br><br>typedef vector&lt;string&gt; vs;<br><br>#define LS &lt;<br>#define Size(x) (int(x.size()))<br><br>// All macros with parameters "k,a,b" run the "k" variable in range [a,b)<br>#define FOR(k,a,b) for(typeof(a) k=(a); k LS (b); ++k)<br><br>// add guards to a vs<br>vs addguards(vs data, char guard) {<br>  vs res;<br>  string border;<br>  FOR(k,0,Size(data[0])+2) border += guard;<br>  res.push_back(border);<br>  FOR(k,0,Size(data)) res.push_back(guard + data[k] + guard);<br>  res.push_back(border);<br>  return res;<br>  }<br><br>#line 3 "TristripeBacteria.cc"<br><br>int X, Y;<br><br>vs photo;<br><br>void mark(int x, int y) {<br>  if(photo[y][x] != '*') return;<br>  photo[y][x] = 'x';<br>  mark(x+1, y);<br>  mark(x-1, y);<br>  mark(x, y+1);<br>  mark(x, y-1);<br>  }<br><br>bool rec(int left) {<br>  FOR(y,0,Y) FOR(x,0,X) if(photo[y][x] == 'x') {<br>    if(!left) return false;<br>    int k;<br>    k = x; while(photo[y][k] != '.') photo[y][k++]++;<br>    bool b1 = rec(left-1); <br>    k = x; while(photo[y][k] != '.') photo[y][k++]--;<br>    if(b1) return true;<br>    k = y; while(photo[k][x] != '.') photo[k++][x]++;<br>    bool b2 = rec(left-1); <br>    k = y; while(photo[k][x] != '.') photo[k++][x]--;<br>    if(b2) return true;<br>    return false;<br>    }<br>  return true;<br>  }<br><br>class TristripeBacteria {<br>  public:<br>  int howMany(vector &lt;string&gt; ph) {<br>    // !FDI<br>    photo = addguards(ph, '.');<br>    Y = Size(photo);<br>    X = Size(photo[0]);<br>    int res = 0;<br>    FOR(y,0,Y) FOR(x,0,X) if(photo[y][x] == '*') {<br>      mark(x, y);<br>      int sused = 0;<br>      int lx[60], ly[60], qlx, qly;<br>      qlx = 0;<br>      if(rec(3)) res++;<br>      FOR(y,0,Y) FOR(x,0,X) if(photo[y][x] == 'x') photo[y][x] = '.';<br>      }<br>    return res;<br>    }<br>  };<br><br><br><br><br>// Powered by FileEdit<br>// Powered by TZTester 1.01 [25-Feb-2003]<br>// Powered by CodeProcessor<br></td>