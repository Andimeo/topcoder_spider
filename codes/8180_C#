<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br>using System.Collections.Generic;<br>using System.Text;<br><br>public class CoolFunction {<br>    public int[] restore(int[] values) {<br>        if (values.Length == 1) {<br>            return new int[]{-values[0]};<br>        }<br>        int n = values.Length;<br>        int[] am = new int[n];<br>        for (int i = 1; i &lt; n - 1; ++i) {<br>            int delta = (values[i + 1] - values[i]) - (values[i] - values[i - 1]);<br>            if (delta % 2 != 0 || delta &lt; 0)<br>                throw new Exception();<br>            am[i] = delta / 2;<br>        }<br>        int sum = 0;<br>        int delta2 = 0;<br>        List&lt;int&gt; res = new List&lt;int&gt;();<br>        for (int i = 1; i &lt; n - 1; ++i) {<br>            sum += am[i] * i;<br>            delta2 += am[i];<br>            for (int j = 0; j &lt; am[i]; ++j)<br>                res.Add(i);<br>        }<br>        if (sum &gt; values[0])<br>            throw new Exception();<br>        int delta1 = values[1] - values[0] + delta2;<br>        if (delta1 &lt; 0) {<br>            delta1 = -delta1;<br>            if (sum + (n - 1) * delta1 &gt; values[0])<br>                throw new Exception();<br>            for (int i = 0; i &lt; delta1 - 1; ++i) {<br>                res.Add(n - 1);<br>                sum += n - 1;<br>            }<br>            res.Add(values[0] - sum);<br>        } else if (delta1 == 0) {<br>            if (sum != values[0]) {<br>                if (sum + n - 1 &gt; values[0])<br>                    throw new Exception();<br>                res.Add(n - 1);<br>                sum += n - 1;<br>                res.Add(-(values[0] - sum));<br>            }<br>        } else {<br>            res.Add(-(values[0] - sum));<br>            for (int i = 0; i &lt; delta1 - 1; ++i)<br>                res.Add(0);<br>        }<br>        res.Sort();<br>        return res.ToArray();<br>    }<br>}<br><br><br>// Powered by FileEdit<br></td>