<td class="problemText" colspan="8" valign="middle" align="left">
            import java.util.LinkedList;<br> <br>public class DukeOnChessBoard {<br>  int [] dx = {-1,0,0,1};<br>  int [] dy = {0,-1,1,0};<br>  public String dukePath (int n, String init) {<br>    int [][] board = new int [n][n];<br>    boolean [][] used = new boolean [n][n];<br>    LinkedList&lt;Pair&gt; L = new LinkedList&lt;Pair&gt;();<br>    Pair qq = new Pair(init);<br>    L.add(qq);<br>    used[qq.y][qq.x]=true;<br>    String [] b = new String [n*n+2];<br>    int bptr = 0;<br>    while (!L.isEmpty()) {<br>      Pair p = L.remove();<br>      b[bptr++] = p.toString();<br>      for (int k = 3; k&gt;=0; --k) {<br>        int x = p.x + dx[k];<br>        int y = p.y + dy[k];<br>        if (x &lt; n &amp;&amp; y &lt; n &amp;&amp; x&gt;= 0 &amp;&amp; y&gt;=0 &amp;&amp; !used[y][x]) {<br>          L.add(new Pair(x,y));<br>          used[y][x] = true;<br>          break;<br>        }<br>      }<br>    }<br>    String ans = "";<br>    for (int i = 0; i&lt;bptr; ++i) {<br>      ans += (i==0)?b[i]:"-"+b[i];<br>    }<br>    //System.err.println(ans);<br>    if (ans.length() &gt;= 40) {<br>      String tmp1 = ans.substring(0,20);<br>      String tmp2 = ans.substring(ans.length()-20, ans.length());<br>      ans = tmp1 + "..." + tmp2;<br>    }<br>    return ans;<br>  }<br>  public class Pair {<br>    int x,y;<br>    Pair prev;<br>    public Pair (int xx, int yy){x=xx;y=yy;prev=null;}<br>    public Pair (int xx, int yy, Pair pr){x=xx;y=yy;prev=pr;}<br>    public Pair (String s) {<br>      x = s.charAt(0)-'a';<br>      y = s.charAt(1)-'1';<br>      prev = null;<br>    }<br>    public String toString() {<br>      return (char)(x + 'a')+""+(y+1);<br>    }<br>  }<br>  <br>}<br></td>