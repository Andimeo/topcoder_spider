<td class="problemText" colspan="8" valign="middle" align="left">
            #include &lt;vector&gt; <br>#include &lt;list&gt; <br>#include &lt;map&gt; <br>#include &lt;set&gt; <br>#include &lt;deque&gt; <br>#include &lt;queue&gt; <br>#include &lt;stack&gt; <br>#include &lt;bitset&gt; <br>#include &lt;algorithm&gt; <br>#include &lt;functional&gt; <br>#include &lt;numeric&gt; <br>#include &lt;utility&gt; <br>#include &lt;complex&gt; <br>#include &lt;sstream&gt; <br>#include &lt;iostream&gt; <br>#include &lt;iomanip&gt; <br>#include &lt;cstdio&gt; <br>#include &lt;cmath&gt; <br>#include &lt;cstdlib&gt; <br>#include &lt;cstring&gt; <br>#include &lt;ctime&gt; <br>#include &lt;cassert&gt; <br>using namespace std;<br> <br>struct TheLuckySequence{<br>  int count(vector &lt;int&gt; numbers, int length);<br>};<br>const long long maxh=1234567891;<br>typedef long long matrix[2][2];<br>matrix tmp;<br>void mul(matrix a,matrix b){<br>  memset(tmp,0,sizeof(matrix));<br>  for(int i=0;i&lt;2;i++)<br>    for(int j=0;j&lt;2;j++)<br>      for(int k=0;k&lt;2;k++)<br>        (tmp[i][j]+=a[i][k]*b[k][j])%=maxh;<br>  memcpy(a,tmp,sizeof(matrix));<br>}<br>void mpow(matrix a,matrix res,int p){<br>  if(p==0){<br>    memset(res,0,sizeof(matrix));<br>    for(int i=0;i&lt;2;i++)<br>      res[i][i]=1;<br>  }else{<br>    mpow(a,res,p&gt;&gt;1);<br>    mul(res,res);<br>    if(p&amp;1)<br>      mul(res,a);<br>  }<br>}<br>matrix a,b,c;<br>int TheLuckySequence::count(vector &lt;int&gt; A, int length){<br>  sort(A.begin(),A.end());<br>  A.erase(unique(A.begin(),A.end()),A.end());<br>  memset(a,0,sizeof(matrix));<br>  for(int i=0;i&lt;A.size();i++){<br>    ostringstream sout;<br>    sout&lt;&lt;A[i];<br>    string s=sout.str();<br>    bool found=false;<br>    for(int i=0;i&lt;s.size();i++)<br>      if(s[i]!='4'&amp;&amp;s[i]!='7')<br>        found=true;<br>    if(!found)<br>      a[s[s.size()-1]=='7'][s[0]=='7']++;<br>  }<br>  mpow(a,b,length);<br>  c[0][0]=c[1][0]=1;<br>  mul(b,c);<br>  return (b[0][0]+b[1][0])%maxh;<br>}<br> <br> <br>//Powered by [KawigiEdit] 2.0 modified by pivanof!<br></td>