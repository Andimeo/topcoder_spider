<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br>using System.Collections.Generic;<br><br>public class CreatureTraining {<br>  private int n;<br>  private int[] power;<br>  private int[] count;<br><br>  public long maximumPower(int[] count, int[] power, int D) {<br>    n = count.Length;<br>    this.power = power;<br>    this.count = count;<br>    memo = new long[n,110,110];<br>    for (int i = 0; i &lt; n; i++)<br>      for (int j = 0; j &lt; 110; j++)<br>        for (int k = 0; k &lt; 110; k++)<br>          memo[i, j, k] = -1;<br><br>    return go(0, 0, D);<br>  }<br><br>  long[, ,] memo;<br><br>  private long go(int lvl, int extra, int left)<br>  {<br>    if (lvl == n - 1)<br>      return ((long) (count[lvl] + extra))*power[lvl];<br><br>    if (memo[lvl, extra, left] &gt;= 0)<br>      return memo[lvl, extra, left];<br><br>    int t = count[lvl] + extra;<br>    long best = 0;<br>    for (int i = 0; i &lt;= left &amp;&amp; i &lt;= t; i++)<br>    {<br>      long v = go(lvl + 1, i, left - i);<br>      v += ((long)(t - i))*power[lvl];<br>      best = Math.Max(v, best);<br>    }<br>    memo[lvl, extra, left] = best;<br>    return best;<br>  }<br><br>}<br><br><br><br><br>// Powered by FileEdit<br></td>