<td class="problemText" colspan="8" valign="middle" align="left">
            import java.util.*;<br> <br>public class Skyscrapers <br>{<br>    int N, P, R;<br>    long[][] C;<br>    long[][] memo;<br>    long[] fact;<br>    long base = 1000000007L;<br>    <br>    public int buildingCount(int N, int leftSide, int rightSide)<br>    {<br>        this.N = N;<br>        P = leftSide;<br>        R = rightSide;<br>        <br>        C = new long[N+1][N+1];<br>        memo = new long[N+1][N+1];<br>        fact = new long[N+1];<br>        <br>        for(int i = 0; i &lt; memo.length; i++)<br>            Arrays.fill(memo[i], -1);<br>        <br>        for(int i = 0; i &lt; C.length; i++)<br>            C[i][0] = 1L;<br>        fact[0] = 1L;<br>        <br>        for(int i = 1; i &lt;= N; i++)<br>            fact[i] = (i * fact[i-1]) % base;<br>        <br>        for(int n = 1; n &lt;= N; n++)<br>            for(int k = 1; k &lt;= N; k++)<br>                C[n][k] = (C[n-1][k-1] + C[n-1][k]) % base;<br>        <br>        long ret = 0;<br>        <br>        for(int i = P-1; i &lt;= N-R; i++)<br>        {<br>            long a = (C[N-1][i] * S(i, P-1)) % base;<br>            a *= S(N-i-1, R-1);<br>            a %= base;<br>            <br>            ret += a;<br>            ret %= base;<br>        }<br>        return (int)ret;<br>    }<br>    <br>    long S(int N, int i)<br>    {<br>        if(N &lt; i)<br>            return 0;<br>        if(N == 0)<br>            return (i == 0) ? 1 : 0;<br>        if(i == 0)<br>            return 0;<br>        <br>        if(memo[N][i] &gt;= 0)<br>            return memo[N][i];<br>        <br>        long ret = 0L;<br>        <br>        for(int j = i-1; j &lt; N; j++)<br>        {<br>            long a = (C[N-1][j] * S(j, i-1)) % base;<br>            a *= fact[N-j-1];<br>            a %= base;<br>            ret += a;<br>            ret %= base;<br>        }<br>        return memo[N][i] = ret % base;<br>    }<br> <br>}<br> <br> <br>// Powered by FileEdit<br>// Powered by CodeProcessor<br></td>