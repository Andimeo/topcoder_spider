<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br>using System.Collections;<br>using System.Collections.Generic;<br>using System.Collections.Specialized;<br>using System.Text;<br>using System.Text.RegularExpressions;<br> <br>public class PrimeSums<br>{<br>    long[] count = new long[500001];<br> <br>  public long getCount(int[] bag)<br>  {<br>        Array.Sort(bag);<br>        int sum = 0;<br>        foreach(int c in bag) sum += c;<br>        count[0] = 1;<br>        for (int i = 0 ;i&lt;bag.Length;i++)<br>            if (i &gt; 0 &amp;&amp; bag[i] == bag[i - 1]) continue;<br>            else<br>            {<br>                int j = i;<br>                while (j + 1 &lt; bag.Length &amp;&amp; bag[i] == bag[j+1]) j++;<br>                int n = j - i + 1;<br>                int v = bag[i];<br>                for (int jj = sum; jj &gt;= 0; jj--)<br>                    if (v == 0) count[jj] *= n+1;<br>                    else<br>                    for (int k = 1; k &lt;= n; k++)<br>                    {<br>                        int pre = jj - k * v;<br>                        if (pre &lt; 0) break;<br>                        count[jj] += count[pre];<br>                    }<br>            }<br>        bool[] prime = new bool[sum + 1];<br>        for (int i = 2; i &lt; sum; i++)<br>            if (!prime[i])<br>            for (int j = i + i; j &lt;= sum; j += i)<br>                prime[j] = true;<br>        long ans = 0;<br>        for (int i = 2; i &lt;= sum; i++)<br>            if (!prime[i]) ans += count[i];<br>        return ans;<br>  }}<br></td>