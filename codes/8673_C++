<td class="problemText" colspan="8" valign="middle" align="left">
            #include&lt;string&gt;<br>#include&lt;vector&gt;<br>#include&lt;cmath&gt;<br>#include&lt;sstream&gt;<br>#include&lt;iostream&gt;<br>#include&lt;set&gt;<br>using namespace std;<br><br>long long gcd(const long long &amp;a,const long long &amp;b){return b?gcd(b,a%b):a;}<br><br>class fs{<br>    public:<br>        long long fm,fz;<br>        void set(long long a,long long b){<br>            if (a&lt;0) a=-a;<br>            if (b&lt;0) b=-b;<br>            long long temp=gcd(a,b);<br>            a/=temp;b/=temp;<br>            fz=a;fm=b;<br>        }<br>        void g(const fs &amp;b){<br>            if (b.fz==0) return;<br>            if (fz==0) {<br>                fz=b.fz;<br>                fm=b.fm;<br>                return;<br>            }<br>            fm=gcd(fm,b.fm);<br>            fz=fz/gcd(fz,b.fz)*b.fz;<br>        }<br>        long long calc(int a,int b){<br>            return b*fm/fz-a*fm/fz+((a*fm)%fz==0);<br>        }<br>};<br><br>long long ans;<br>int n,len;<br>vector&lt;int&gt; xl;<br>fs ok[100];<br>int i,j,tot;<br>fs zq,tem;<br><br>class KPlanetaryAlignment{<br>public:<br>int number(vector &lt;int&gt; periods, int k, int T1, int T2){<br>    n=periods.size();<br>    len=0;<br>    for (i=0;i&lt;(1&lt;&lt;n);++i){<br>        tot=0;<br>        xl.clear();<br>        for (j=0;j&lt;n;++j)<br>            if (i&amp;(1&lt;&lt;j)) {++tot;<br>            xl.push_back(j);}<br>        if (tot!=k) continue;<br>        zq.set(0,1);<br>        for (j=1;j&lt;tot;++j){<br>            tem.set(periods[xl[j]]*periods[xl[0]],2*(periods[xl[j]]-periods[xl[0]]));<br>            if (tem.fm==0) continue;<br>            zq.g(tem);<br>        }<br>        ok[len++]=zq;<br>    }<br>    ans=0;<br>    for (i=1;i&lt;(1&lt;&lt;len);++i){<br>        tot=0;<br>        tem.set(0,1);<br>        for (j=0;j&lt;len;++j)<br>            if (i&amp;(1&lt;&lt;j)) {++tot;<br>            tem.g(ok[j]);}<br>        if (tot%2==0) ans-=tem.calc(T1,T2);<br>        else ans+=tem.calc(T1,T2);<br>    }<br>    return (int)ans;<br>}<br><br><br>};<br><br><br>// Powered by FileEdit<br>// Powered by TZTester 1.01 [25-Feb-2003]<br>// Powered by CodeProcessor<br></td>