<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br>using System.Collections;<br>using System.Collections.Generic;<br>public class LangfordSequence <br>{<br>  <br>  public int[] getFirst(int[] a)<br>   {<br>    int N=a.Length*2;<br>    int M=a.Length;<br>    Array.Sort(a);<br>    int[] T=new int[N];<br>    for  (int i=0;i&lt;N;i++)<br>    {<br>      T[i]=-1;<br>    }<br>    int p=0;<br>    while(p&gt;=0)<br>    {<br>      T[p]++;<br>      if (T[p]==M)<br>      {<br>        T[p]=-1;<br>        p--;<br>        continue;<br>      }<br>      /**/<br>      bool b=true;  <br>      bool c=false;<br>      for(int i=0;i&lt;p&amp;&amp;b;i++)<br>      {<br>        if(T[i]==T[p])<br>        {<br>          if(c)<br>          {<br>            b=false;<br>            <br>            break;<br>          }<br>          c=true;<br>        }<br>        if(i-a[T[i]]-1&gt;=0&amp;&amp;T[i-1-a[T[i]]]==T[i])<br>        continue;<br>        if(a[T[i]]+i+1&gt;=N||(a[T[i]]+i+1==p&amp;&amp;T[i]!=T[p]))<br>        {<br>          b=false;<br>          break;<br>        }<br>      }<br>      if(b)<br>      {<br>        p++;<br>        if(p==N)<br>        {<br>          bool g=true;<br>          for(int i=0;i&lt;N;i++)<br>          {<br>        if(i-a[T[i]]-1&gt;=0&amp;&amp;T[i-1-a[T[i]]]==T[i])<br>        continue;<br>        if(a[T[i]]+i+1&gt;=N||T[i]!=T[a[T[i]]+i+1])<br>        {<br>          g=false;<br>          break;<br>        }  <br>          }<br>          p--;<br>          if(g)<br>          {<br>          for(int i=0;i&lt;N;i++)<br>          {<br>            T[i]=a[T[i]];  <br>          }<br>          return T;<br>        }<br>        }<br>        T[p]=-1;<br>      }<br>      <br>      /**/<br>    }<br>    return new int[]{};<br>  }<br>}<br> <br> <br>// Powered by FileEdit<br> <br>// Powered by PopsEdit<br></td>