<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br><br>public class IngredientProportions {<br>  public int[] getMasses(string[] proportions) {<br>        int n = proportions.Length + 1;<br>        long[] res = new long[n];<br>        res[0] = 1;<br>        for (int step = 1; step &lt; n; ++step)<br>        {<br>            foreach (string x in proportions) {<br>                int a = x[1] - '0';<br>                int b = x[8] - '0';<br>                int p = x[13] - '0';<br>                int q = x[15] - '0';<br>                if (res[a] != 0 ^ res[b] != 0)<br>                {<br>                    if (res[a] == 0)<br>                    {<br>                        int t = a;<br>                        a = b;<br>                        b = t;<br>                        t = p;<br>                        p = q;<br>                        q = t;<br>                    }<br>                    long nb = res[a] * q;<br>                    long sb = nb;<br>                    long by = 1;<br>                    while (nb % p != 0)<br>                    {<br>                        nb += sb;<br>                        ++by;<br>                    }<br>                    for (int i = 0; i &lt; n; ++i)<br>                        res[i] *= by;<br>                    res[b] = nb / p;<br>                }<br>            }<br>        }<br>        int[] r = new int[n];<br>        for (int i = 0; i &lt; n; ++i)<br>            r[i] = (int)res[i];<br>        return r;<br>  }<br><br><br><br>}<br><br><br>// Powered by FileEdit<br>// Powered by TZTester 1.01 [25-Feb-2003] [modified for C# by Petr]<br>// Powered by CodeProcessor<br></td>