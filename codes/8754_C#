<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br><br>public class DancingParty {<br>  public int maxDances(string[] likes, int k) {<br>        int n = likes.Length;<br>        int ret = 0;<br>        for (int res = 1; res &lt;= n; ++res)<br>        {<br>            int[,] g = new int[2 * n + 3, 2 * n + 3];<br>            for (int i = 0; i &lt; n; ++i)<br>            {<br>                g[2 * n, i] = res;<br>                g[i, 2 * n + 2] = k;<br>                g[i + n, 2 * n + 1] = res;<br>                g[2 * n + 2, i + n] = k;<br>                for (int j = 0; j &lt; n; ++j)<br>                {<br>                    if (likes[i][j] == 'Y')<br>                        g[i, j + n] = 1;<br>                }<br>            }<br>            if (flow(g, 2 * n + 3, 2 * n, 2 * n + 1) == res * n)<br>                ret = res;            <br>        }<br>        return ret;<br>  }<br><br>    private int flow(int[,] g, int n, int s, int t)<br>    {<br>        int res = 0;<br>        bool[] mark = new bool[n];<br>        while (true)<br>        {<br>            for (int i = 0; i &lt; n; ++i)<br>                mark[i] = false;<br>            int by = dfs(g, n, s, t, int.MaxValue, mark);<br>            res += by;<br>            if (by == 0)<br>                break;<br>        }<br>        return res;<br>    }<br><br>    private int dfs(int[,] g, int n, int s, int t, int by, bool[] mark)<br>    {<br>        if (s == t)<br>            return by;<br>        mark[s] = true;<br>        for (int i = 0; i &lt; n; ++i)<br>            if (g[s, i] &gt; 0 &amp;&amp; !mark[i])<br>            {<br>                int b = dfs(g, n, i, t, Math.Min(by, g[s, i]), mark);<br>                if (b &gt; 0)<br>                {<br>                    g[s, i] -= b;<br>                    g[i, s] += b;<br>                    return b;<br>                }<br>            }<br>        return 0;<br>    }<br><br><br>}<br><br><br>// Powered by FileEdit<br>// Powered by TZTester 1.01 [25-Feb-2003] [modified for C# by Petr]<br>// Powered by CodeProcessor<br></td>