<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br><br>public class CollectingBonuses {<br>    double harm1(long x)<br>    {<br>        double res = 0.0;<br>        for (int i = 1; i &lt;= x; ++i)<br>        {<br>            res += 1.0 / i;<br>        }<br>        return res;<br>    }<br><br>    double harm2(long x)<br>    {<br>        double res = .577215664901532860606512090082402431042 + Math.Log(x) + 1.0 / 2 / x - 1.0 / 12 / x / x + 1.0 / 120 / x / x / x / x - 1.0 / 252 / x / x / x / x / x / x;<br>        return res;<br>    }<br><br>    public double expectedBuy(string _n, string _k)<br>    {<br>        long n = long.Parse(_n);<br>        long k = long.Parse(_k);<br>        long a = n;<br>        long b = n - k;<br>        if (k &lt; 1001)<br>        {<br>            double res = 0.0;<br>            for (long i = n - k + 1; i &lt;= n; ++i)<br>                res += (n + 0.0) / i;<br>            return res;<br>        }<br>        if (b &lt; 31)<br>            return n * (harm2(a) - harm1(b));<br>        double log = 0;<br>        double x = (double) k / (n - k);<br>        if (x &gt; 0.01)<br>            log = Math.Log(1 + x);<br>        else<br>        {<br>            double xx = x;<br>            for (int i = 0; i &lt; 20; ++i)<br>            {<br>                log += xx / (i + 1);<br>                xx *= -x;<br>            }<br>        }<br>        return n * (log - 1.0 / 2 * k / a / b + 1.0 / 12 * k * (a + b) / a / a / b / b - 1.0 / 120 * k * (a * a * a + a * a * b + a * b * b + b * b * b) / a / a / a / a / b / b / b / b + 1.0 / 252 * k * (a * a * a * a * a + a * a * a * a * b + a * a * a * b * b + a * a * b * b * b + a * b * b * b * b + b * b * b * b* b) / a / a / a / a / a / a / b / b / b / b / b / b);<br>  }<br><br>  <br><br>}<br><br><br>// Powered by FileEdit<br>// Powered by TZTester 1.01 [25-Feb-2003] [modified for C# by Petr]<br>// Powered by CodeProcessor<br></td>