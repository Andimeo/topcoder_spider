<td class="problemText" colspan="8" valign="middle" align="left">
            #include &lt;algorithm&gt;<br>#include &lt;functional&gt;<br>#include &lt;string&gt;<br>#include &lt;vector&gt;<br>#include &lt;map&gt;<br>#include &lt;set&gt;<br>#include &lt;list&gt;<br>#include &lt;sstream&gt;<br>#include &lt;iostream&gt;<br>#include &lt;cmath&gt;<br>#include &lt;cstring&gt;<br>#include &lt;cstdio&gt;<br>//#include &lt;cstdlib&gt;<br>//#include &lt;cstdarg&gt;<br>using namespace std;<br>#define all(x) (x).begin(),(x).end()<br>#define fore(it,x) for(typeof((x).begin()) it=(x).begin();it!=(x).end();it++)<br>#define sqr(x) ((x)*(x))<br>#define i64 long long<br>#define u64 unsigned long long<br>typedef vector&lt;int&gt; vi;typedef vector&lt;vi&gt; vvi;<br>typedef vector&lt;string&gt; vs;typedef vector&lt;vs&gt; vvs;<br>typedef vector&lt;double&gt; vd;typedef vector&lt;vd&gt; vvd;<br>typedef pair&lt;int,int&gt; pii;typedef vector&lt;pii&gt; vpii;<br>typedef set&lt;int&gt; si;typedef set&lt;string&gt; ss;<br>typedef set&lt;char&gt; sc;typedef set&lt;pii&gt; spii;<br> <br>vs gettok(const string&amp; s,const string&amp; sep,int retsep=0,int grpsep=1)<br>{<br>  vs r;<br>  string tok;<br>  for(int i=0;i&lt;=s.size();i++)<br>  {<br>    if(tok.size() &amp;&amp; (i==s.size() || (sep.find(tok[0])==-1)!=(sep.find(s[i])==-1)))<br>    {<br>      if(sep.find(tok[0])==-1) r.push_back(tok); else if(retsep)<br>      {<br>        if(grpsep) r.push_back(tok); else fore(c,tok) r.push_back(string(1,*c));<br>      }<br>      tok="";<br>    }<br>    if(i&lt;s.size()) tok+=s[i];<br>  }<br>  return r;<br>}<br> <br>void prs(vs arg,vvi&amp; a,vs&amp; nm)<br>{<br>  ss nms;<br>  fore(s,arg)<br>  {<br>    vs t=gettok(*s," ");<br>    nms.insert(t[0]);<br>    nms.insert(t[1]);<br>  }<br>  nm=vs(all(nms));<br>  int n=nm.size();<br>  a=vvi(n,vi(n));<br>  fore(s,arg)<br>  {<br>    vs t=gettok(*s," ");<br>    int i=find(all(nm),t[0])-nm.begin();<br>    int j=find(all(nm),t[1])-nm.begin();<br>    a[i][j]=a[j][i]=1;<br>  }<br>}<br> <br>vvi a1,a2;<br>vs nm1,nm2;<br>int n;<br> <br>class Criminal<br>{<br>  public:<br>  int numPseudonyms(vector &lt;string&gt; arg1, vector &lt;string&gt; arg2)<br>  {<br>    //cout&lt;&lt;2*3*4*5*6*7*8&lt;&lt;endl;<br>    prs(arg1,a1,nm1);<br>    prs(arg2,a2,nm2);<br>    if(nm1.size()!=nm2.size()) return -1;<br>    n=nm1.size();<br>    vi p(n);<br>    int i,j,k;<br>    for(i=0;i&lt;n;i++) p[i]=i;<br>    int r=-1;<br>    do<br>    {<br>      for(i=0;i&lt;n;i++) for(j=0;j&lt;n;j++) if(a1[i][j]!=a2[p[i]][p[j]]) goto next;<br>      k=0;<br>      for(i=0;i&lt;n;i++) if(nm1[i]!=nm2[p[i]]) k++;<br>      r&gt;?=k;<br>      next:;<br>    }while(next_permutation(all(p)));<br>    return r;<br>  }<br>};<br> <br> <br> <br>// Powered by PopsEdit<br></td>