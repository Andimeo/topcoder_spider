<td class="problemText" colspan="8" valign="middle" align="left">
            #include &lt;string&gt;<br>#include &lt;vector&gt;<br>#include &lt;algorithm&gt;<br>#include &lt;cstdio&gt;<br>#include &lt;cstdlib&gt;<br>#include &lt;cctype&gt;<br> <br>using namespace std;<br> <br>#define vint  vector&lt;int&gt;<br>#define vstr  vector&lt;string&gt;<br>#define foreachi(i,v)  for (vint::iterator i = v.begin(); i &lt; v.end(); i++)<br>#define foreachs(i,v)  for (vstr::iterator i = v.begin(); i &lt; v.end(); i++)<br> <br>class Inserter {<br>  public:<br>  string insert(vector &lt;string&gt; commands, string original)<br>  {<br>    string res = original;<br>    foreachs (c, commands) {<br>      char *s = strdup((*c).c_str());<br>      char *ins = s+1;<br>      s = strchr(ins, '#');<br>      *s = 0;<br>      char *find = s+3;<br>      s = strchr(find, '#');<br>      *s = 0;<br>      int index = atoi(s+2);<br>      int flen = strlen(find);<br>      int rlen = res.size();<br>      for (int i = 0; i &lt;= rlen-flen; i++) {<br>        if (res.substr(i,flen) == find) {<br>          index--;<br>          if (index == 0) {<br>            res = res.substr(0,i) + ins + res.substr(i);<br>            break;<br>          }<br>        }<br>      }<br>    }<br>    return res;<br>  }<br>};<br> <br>// Powered by PopsEdit<br></td>