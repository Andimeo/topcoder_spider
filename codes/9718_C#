<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br>    using System.Collections.Generic;<br>    class SubgridsCounter {<br>        public int howMany(int[] x, int[] y) {<br>            int n = x.Length;<br>            int res = 0;<br>            for (int d = 1; d &lt;= 1000; d++) {<br>                List&lt;int&gt; ll = new List&lt;int&gt;();<br>                ll.Clear();<br>                for (int i = 0; i &lt; n; i++) {<br>                    for (int dx = -d; dx &lt;= d; dx+= d) {<br>                        for (int dy = -d; dy &lt;= d; dy+= d) {<br>                            int xx = x[i] + dx + 1000, yy = y[i] + dy + 1000;<br>                            if (xx &lt;= 2000 &amp;&amp; xx &gt;= 0 &amp;&amp; yy &lt;= 2000 &amp;&amp; yy &gt;= 0) {<br>                                ll.Add(xx * 10000 + yy);<br>                            }<br>                        }<br>                    }<br>                }<br>                ll.Sort();<br>                int sc = 0, last = -1;<br>                for (int i = 0; i &lt; ll.Count; i++) {<br>                    if (last == ll[i]) sc++;<br>                    else sc = 0;<br>                    if (sc == 8) res++;<br>                    last = ll[i];<br>                }<br>            }<br>            return res;<br>        }<br>    }<br></td>