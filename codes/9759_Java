<td class="problemText" colspan="8" valign="middle" align="left">
            import java.util.*;<br>import java.util.regex.*;<br>import java.text.*;<br>import java.math.*;<br>import java.awt.geom.*;<br> <br>public class UnknownNames<br>{<br>  public String[] sortNames(String[] names)<br>  {<br>    String []res=new String[names.length];<br>    for(int i=0;i&lt;res.length;i++)<br>    {<br>      ArrayList&lt;String&gt;  als=new ArrayList&lt;String&gt;();<br>      ArrayList&lt;Integer&gt; ali=new ArrayList&lt;Integer&gt;();<br>  out:      for(int j=i;j&lt;res.length;j++)<br>        {<br>          for(int k=i;k&lt;res.length;k++)<br>          {<br>            if(j==k)<br>              continue;<br>            int flag=isless(names[j],names[k]);<br>            if(flag==2)<br>              return new String[]{};<br>            else if(flag==0)<br>            {<br>              continue out;<br>            }<br>          }<br>          als.add(names[j]);<br>          ali.add(j);<br>        }<br>      if(als.size()==0)<br>        return new String[]{};<br>            String mins=als.get(0);<br>            int mini=0;<br>            for(int j=1;j&lt;als.size();j++)<br>            {<br>              if(less(als.get(j),mins,i,res))<br>              {<br>                mins=als.get(j);<br>                mini=j;<br>              }<br>            }<br>            String t=names[i];<br>            names[i]=names[ali.get(mini)];<br>            names[ali.get(mini)]=t;<br>      res[i]=mins;<br>      res[i]=chuli(res,i);<br>    }<br>    return res;<br>  }<br>  boolean less(String a,String b,int idx,String[]res)<br>  {<br>    for(int i=0;i&lt;a.length();i++)<br>    {<br>      if(a.charAt(i)=='?'&amp;&amp;b.charAt(i)!='?')<br>      {<br>        if(b.charAt(i)=='A'&amp;&amp;idx==0||idx&gt;0&amp;&amp;b.charAt(i)==res[idx-1].charAt(i))<br>        {<br>          continue;<br>        }<br>        return true;<br>      }<br>      else if(a.charAt(i)!='?'&amp;&amp;b.charAt(i)=='?')<br>      {<br>        if(a.charAt(i)=='A'&amp;&amp;idx==0||idx&gt;0&amp;&amp;a.charAt(i)==res[idx-1].charAt(i))<br>        {<br>          continue;<br>        }<br>        return false;<br>      }<br>    }<br>    return true;<br>  }<br>  String chuli(String []res,int idx)<br>  {<br>    String ret="";<br>    if(idx==0)<br>    {<br>      for(int i=0;i&lt;res[idx].length();i++)<br>      {<br>        if(res[idx].charAt(i)!='?')<br>        {<br>          ret+=res[idx].charAt(i);<br>        }<br>        else <br>          ret+='A';<br>      }<br>    }<br>    else<br>    {<br>      for(int i=0;i&lt;res[idx].length();i++)<br>      {<br>        if(res[idx].charAt(i)!='?')<br>        {<br>          ret+=res[idx].charAt(i);<br>        }<br>        else <br>          ret+=res[idx-1].charAt(i);<br>      }<br>    }<br>    return ret;<br>  }<br>  int isless(String a,String b)<br>  {<br>    int ret=-1;<br>    for(int i=0;i&lt;a.length();i++)<br>    {<br>      if(a.charAt(i)=='?'||b.charAt(i)=='?')<br>        continue;<br>      if(a.charAt(i)&lt;b.charAt(i))<br>      {<br>        if(ret==0)<br>          return 2;<br>        ret=1;<br>      }<br>      else if(a.charAt(i)&gt;b.charAt(i))<br>      {<br>        if(ret==1)<br>          return 2;<br>        ret=0;<br>      }<br>    }<br>    return ret;<br>  }<br>  <br>  <br>}<br>//Powered by [KawigiEdit] 2.0!<br></td>