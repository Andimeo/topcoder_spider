<td class="problemText" colspan="8" valign="middle" align="left">
            public class SpiralWalking {<br>  boolean[][] aa;<br>  public int totalPoints(String[] lm) {<br>    int res=0;<br>    int l = lm.length;<br>    int w = lm[0].length();<br>    aa=new boolean[l][w];<br>    int[] dx={1,0,-1, 0};<br>    int[] dy={0,1, 0,-1};<br>    int x=0,y=0;<br>    int idx=0;<br>    int ly=0,lx=0;<br>    while (true) {<br>      if (ok(y,x,w,l)){<br>        aa[y][x]=true;<br>        res+=(lm[y].charAt(x) &amp; 15);<br>        lx=x; ly=y;<br>        y+=dy[idx];<br>        x+=dx[idx];<br>      } else {<br>        y-=dy[idx];<br>        x-=dx[idx];<br>        res-=(lm[y].charAt(x) &amp; 15);<br>        idx=(idx+1)%4;<br>        y+=dy[idx];<br>        x+=dx[idx];<br>        if (!ok(y,x,w,l)) break;<br>      }<br>    }<br>    y-=dy[idx];<br>    x-=dx[idx];<br>    res+=(lm[y].charAt(x) &amp; 15);<br>    return res;<br>  }<br>  boolean ok(int y, int x, int w, int l) {<br>    return (x&gt;=0 &amp;&amp; x &lt;w &amp;&amp; y &gt;=0 &amp;&amp; y&lt;l &amp;&amp; !aa[y][x]);<br>  }<br>}<br></td>