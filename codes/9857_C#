<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br>using System.Collections.Generic;<br><br>public class RussianCheckers {<br>    public string[] listMoves(string[] board, string turn) {<br>        char t;<br>        if (turn.CompareTo("BLACK") == 0)<br>            t = 'b';<br>        else<br>            t = 'w';<br>        List&lt;string&gt; simples = new List&lt;string&gt;();<br>        List&lt;string&gt; captures = new List&lt;string&gt;();<br>        char[,] b = new char[8, 8];<br>        for (int r = 0; r &lt; 8; ++r)<br>            for (int c = 0; c &lt; 8; ++c)<br>                b[r, c] = board[r][c];<br>        for (int r = 0; r &lt; 8; ++r)<br>            for (int c = 0; c &lt; 8; ++c)<br>                if (char.ToLower(b[r, c]) == t)<br>                    doit(b, b[r, c], r, c, simples, captures);<br>        simples.Sort();<br>        captures.Sort();<br>        if (captures.Count &gt; 0)<br>            return captures.ToArray();<br>        else<br>            return simples.ToArray();<br>    }<br><br>    private string desc(int r, int c)<br>    {<br>        return (char)('a' + c) + "" + (char)('8' - r);<br>    }<br><br>    private void doit(char[,] board, char t, int r, int c, List&lt;string&gt; simples, List&lt;string&gt; captures)<br>    {<br>        if (t == 'w' &amp;&amp; r == 0)<br>            t = 'W';<br>        if (t == 'b' &amp;&amp; r == 7)<br>            t = 'B';<br>        char sch = board[r, c];<br>        board[r, c] = t;<br>        for (int dr = -1; dr &lt;= 1; dr += 2)<br>            for (int dc = -1; dc &lt;= 1; dc += 2)<br>            {<br>                int cr = r;<br>                int cc = c;<br>                int er = -1;<br>                int ec = -1;<br>                List&lt;string&gt; myCaptures = new List&lt;string&gt;();<br>                bool canStopEating = true;<br>                while (true)<br>                {<br>                    cr += dr;<br>                    cc += dc;<br>                    if (cr &lt; 0 || cr &gt; 7 || cc &lt; 0 || cc &gt; 7)<br>                        break;<br>                    char cur = board[cr, cc];<br>                    if (cur == '.')<br>                    {<br>                        if (er &lt; 0)<br>                        {<br>                            if (t == 'w' &amp;&amp; dr &gt; 0)<br>                            {<br>                            }<br>                            else if (t == 'b' &amp;&amp; dr &lt; 0)<br>                            {<br>                            }<br>                            else<br>                            {<br>                                simples.Add(desc(r, c) + "-" + desc(cr, cc));<br>                            }<br>                        }<br>                        else<br>                        {<br>                            string prefix = desc(r, c) + ":";<br>                            myCaptures.Add(prefix + desc(cr, cc));<br>                            List&lt;string&gt; tmp = new List&lt;string&gt;();<br>                            List&lt;string&gt; tmp2 = new List&lt;string&gt;();<br>                            board[r, c] = '.';<br>                            board[cr, cc] = t;<br>                            char sch2 = board[er, ec];<br>                            board[er, ec] = '#';<br>                            doit(board, t, cr, cc, tmp, tmp2);<br>                            board[r, c] = t;<br>                            board[cr, cc] = '.';<br>                            board[er, ec] = sch2;<br>                            foreach (string x in tmp2)<br>                            {<br>                                captures.Add(prefix + x);<br>                                canStopEating = false;<br>                            }<br>                        }<br>                        if (char.ToLower(t) == t)<br>                            break;<br>                    }<br>                    else if (char.ToLower(cur) == char.ToLower(t) || cur == '#')<br>                    {<br>                        break;<br>                    }<br>                    else<br>                    {<br>                        if (er &gt;= 0)<br>                            break;<br>                        er = cr;<br>                        ec = cc;<br>                    }<br>                }<br>                if (canStopEating)<br>                {<br>                    foreach (string x in myCaptures)<br>                        captures.Add(x);<br>                }<br>            }<br>        board[r, c] = sch;<br>    }<br><br><br>}<br><br><br>// Powered by FileEdit<br>// Powered by TZTester 1.01 [25-Feb-2003] [modified for C# by Petr]<br>// Powered by CodeProcessor<br></td>