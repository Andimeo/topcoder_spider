<td class="problemText" colspan="8" valign="middle" align="left">
            #include &lt;vector&gt;<br>#include &lt;list&gt;<br>#include &lt;map&gt;<br>#include &lt;set&gt;<br>#include &lt;deque&gt;<br>#include &lt;stack&gt;<br>#include &lt;bitset&gt;<br>#include &lt;algorithm&gt;<br>#include &lt;functional&gt;<br>#include &lt;numeric&gt;<br>#include &lt;utility&gt;<br>#include &lt;sstream&gt;<br>#include &lt;iostream&gt;<br>#include &lt;iomanip&gt;<br>#include &lt;cstdio&gt;<br>#include &lt;cmath&gt;<br>#include &lt;cstdlib&gt;<br>#include &lt;ctime&gt;<br> <br>using namespace std;<br> <br>class ColoringRectangles {<br>public:<br>  vector &lt;int&gt; maxColoredArea(vector &lt;int&gt;, vector &lt;int&gt;, vector &lt;int&gt;, vector &lt;int&gt;, int);<br>};<br> <br>vector &lt;int&gt; kx, ky, x, y;<br>vector &lt; pair &lt;int, int&gt; &gt; z;<br>vector &lt;int&gt; ret;<br>int px[100000], py[100000], sx1[1000], sy1[1000], sx2[1000], sy2[1000], a[1000][1000];<br> <br>vector &lt;int&gt; ColoringRectangles::maxColoredArea(vector &lt;int&gt; x1, vector &lt;int&gt; y1, vector &lt;int&gt; x2, vector &lt;int&gt; y2, int K) {<br>  int n = x1.size(), i, w, u, j;<br>  kx.clear();<br>  for (i=0;i&lt;n;i++) {<br>    kx.push_back(x1[i]);<br>    kx.push_back(x2[i]);<br>  }<br>  sort(kx.begin(),kx.end());<br>  x.clear();<br>  x.push_back(kx[0]);<br>  px[kx[0]+10000] = 0;<br>  for (i=1;i&lt;kx.size();i++)<br>    if (kx[i] != kx[i-1]) {<br>      x.push_back(kx[i]);<br>      px[kx[i]+10000] = x.size()-1;<br>    }<br>  for (i=0;i&lt;n;i++) {<br>    sx1[i] = px[x1[i]+10000];<br>    sx2[i] = px[x2[i]+10000];<br>  }<br>  ky.clear();<br>  for (i=0;i&lt;n;i++) {<br>    ky.push_back(y1[i]);<br>    ky.push_back(y2[i]);<br>  }<br>  sort(ky.begin(),ky.end());<br>  y.clear();<br>  y.push_back(ky[0]);<br>  py[ky[0]+10000] = 0;<br>  for (i=1;i&lt;ky.size();i++)<br>    if (ky[i] != ky[i-1]) {<br>      y.push_back(ky[i]);<br>      py[ky[i]+10000] = y.size()-1;<br>    }<br>  for (i=0;i&lt;n;i++) {<br>    sy1[i] = py[y1[i]+10000];<br>    sy2[i] = py[y2[i]+10000];<br>  }<br>  memset(a,0,sizeof(a));<br>  z.clear();<br>  for (u=n-1;u&gt;=0;u--) {<br>    w = 0;<br>    for (i=sx1[u];i&lt;sx2[u];i++)<br>      for (j=sy1[u];j&lt;sy2[u];j++)<br>        if (a[i][j] == 0) {<br>          w += (x[i+1]-x[i])*(y[j+1]-y[j]);<br>          a[i][j] = 1;<br>        }<br>    z.push_back(make_pair(-w,u));<br>  }<br>  sort(z.begin(),z.end());<br>  ret.clear();<br>  for (i=0;i&lt;K;i++) ret.push_back(z[i].second);<br>  sort(ret.begin(),ret.end());<br>  return ret;<br>}<br> <br> <br>//Powered by [KawigiEdit] 2.0!<br></td>