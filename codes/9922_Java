<td class="problemText" colspan="8" valign="middle" align="left">
            import java.util.*;<br>public class InfiniteSequence2 {<br>  long[] memo = new long[5000000];<br>  int p, q, x, y;<br>    public long calc(long n, int p, int q, int x, int y) {<br>      this.p = p;<br>      this.q = q;<br>      this.x = x;<br>      this.y = y;<br>        Arrays.fill(memo, -1);<br>        memo[0] = 1;<br>        return dp(n);<br>    }<br>    long dp(long val) {<br>      if (val &lt; 5000000 &amp;&amp; val &gt;= 0) {<br>        if (memo[(int)val] &gt;= 0)<br>          return memo[(int)val];<br>        return memo[(int)val] = dp(val / p - x) + dp(val / q - y);<br>      }<br>      if (val &lt; 0)<br>        return 1;<br><br>      return dp(val / p - x) + dp(val / q - y);<br>      <br>    }<br><br>}<br><br><br>// Powered by FileEdit<br>// Powered by CodeProcessor<br></td>