<td class="problemText" colspan="8" valign="middle" align="left">
            import java.util.*;<br>import java.util.regex.*;<br>import java.text.*;<br>import java.math.*;<br>import java.awt.geom.*;<br> <br>public class CubeNets<br>{<br> <br>  int m, n;<br>  char[][] a;<br>  boolean result;<br>  int[][] label;<br>  <br>  int[] trai(int[] b) {<br>    int[] a = b.clone();<br>    int t = a[4]; a[4] = a[6]; a[6] = a[2]; a[2] = a[5]; a[5] = t;<br>    return a;<br>  }<br>  <br>  int[] phai(int[] b) {<br>    int[] a = b.clone();<br>    int t = a[4]; a[4] = a[5];a[5] = a[2]; a[2] = a[6]; a[6] = t;<br>    return a;<br>  }<br>  <br>  int[] tren(int[] b) {<br>    int[] a = b.clone();<br>    int t = a[6]; a[6] = a[1]; a[1] = a[5]; a[5] = a[3]; a[3] = t;<br>    return a;<br>  }<br>  <br>  int[] duoi(int[] b) {<br>    int[] a = b.clone();<br>    int t = a[1]; a[1] = a[6]; a[6] = a[3]; a[3] = a[5]; a[5] = t;<br>    return a;<br>  }<br>  <br>  void go(int i, int j, int[] lab, int deep) {<br>    if(i&lt;0 || i&gt;=m || j&lt;0 || j&gt;=n) return;<br>    if(a[i][j]!='#') return;<br>    if(label[i][j]==0) label[i][j] = lab[5];<br>    else if(label[i][j]!=lab[5]) {<br>      result = false;<br>      return;<br>    }<br>    if(deep&gt;10) return;<br>    go( i, j-1, trai(lab), deep+1);<br>    go( i, j+1, phai(lab), deep+1);<br>    go( i-1, j, tren(lab), deep+1);<br>    go( i+1, j, duoi(lab), deep+1);<br>  }<br> <br>  public String isCubeNet(String[] fig)<br>  {<br>    m = fig.length;<br>    n = fig[0].length();<br>    label = new int[m][n];<br>    a = new char[m][];<br>    for(int i=0;i&lt;m;++i) a[i] = fig[i].toCharArray();<br>    result = true;<br>    tt: for(int i=0;i&lt;m;++i) for(int j=0;j&lt;n;++j) {<br>      if(a[i][j]=='#') {<br>        int[] l = new int[7];<br>        for(int t=1;t&lt;=6;++t) l[t] = t;<br>        go( i, j, l, 0);<br>        break tt;<br>      }  <br>    }<br>    for(int i=0;i&lt;m;++i) for(int j=0;j&lt;n;++j) if(a[i][j]=='#' &amp;&amp; label[i][j]==0) result = false;<br>    for(int i=0;i&lt;m;++i) for(int j=0;j&lt;n;++j) if(a[i][j]=='#') for(int u=0;u&lt;m;++u) for(int v=0;v&lt;n;++v) if(a[u][v]=='#' &amp;&amp; (u!=i || v!=j)) if(label[i][j]==label[u][v]) result = false;<br>    for(int i=0;i+1&lt;m;++i) for(int j=0;j+1&lt;n;++j) {<br>      boolean f = true;<br>      for(int dx=0;dx&lt;=1;++dx) for(int dy=0;dy&lt;=1;++dy) if(a[i+dx][j+dy]=='.') f = false;<br>      if(f) result = false;<br>    }<br>    return result ? "YES" : "NO";<br>  }<br>  <br>  <br>}<br>//Powered by [KawigiEdit] 2.0!<br></td>