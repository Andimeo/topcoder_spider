<td class="problemText" colspan="8" valign="middle" align="left">
            #line 5 "TheBeautifulBoard.cpp"<br>#include &lt;cstdlib&gt;<br>#include &lt;cctype&gt;<br>#include &lt;cstring&gt;<br>#include &lt;cstdio&gt;<br>#include &lt;cmath&gt;<br>#include &lt;algorithm&gt;<br>#include &lt;vector&gt;<br>#include &lt;string&gt;<br>#include &lt;iostream&gt;<br>#include &lt;sstream&gt;<br>#include &lt;map&gt;<br>#include &lt;set&gt;<br>#include &lt;queue&gt;<br>#include &lt;stack&gt;<br>#include &lt;fstream&gt;<br>#include &lt;numeric&gt;<br>#include &lt;iomanip&gt;<br>#include &lt;bitset&gt;<br>#include &lt;list&gt;<br>#include &lt;stdexcept&gt;<br>#include &lt;functional&gt;<br>#include &lt;utility&gt;<br>#include &lt;ctime&gt;<br>using namespace std;<br><br>#define PB push_back<br>#define MP make_pair<br><br>typedef vector&lt;int&gt; VI;<br>typedef vector&lt;string&gt; VS;<br>typedef vector&lt;double&gt; VD;<br>typedef pair&lt;int,int&gt; PII;<br><br>const int module = 1234567891;<br>class TheBeautifulBoard<br>{<br>  public:<br><br>  long long N;<br>  long long fac[100005],n4;<br>  vector&lt;int&gt; ct;<br>  void Ex( long long a,long long b,long long &amp;x,long long &amp;y )<br>  {<br>    if(b==0)<br>    {<br>      x=1;y=0;<br>    }else<br>    {<br>      Ex( b,a%b,y,x );<br>      x%=b;if(x&lt;0) x+=b;<br>      y = (1-a*x)/b;<br>    }<br>  }<br>  void prepare()<br>  {<br>    fac[0] = 1;<br>    fac[1] = 1;<br>    long long y;<br>    for(int i=2;i&lt;=100000;i++) Ex( i,module,fac[i],y );<br>    n4 = fac[4];<br>    for(int i=2;i&lt;=100000;i++) fac[i]=(fac[i]*fac[i-1])%module;<br>  }<br>  long long calc( int p )<br>  {<br>    long long C = N;<br>    vector&lt;int&gt; now(ct);<br>    if(C%p!=0 )<br>    {<br>      for(int i=0;i&lt;now.size();i++) if(now[i]%p!=0)<br>      {<br>        now[i]--;<br>        break;<br>      }<br>      C--;<br>    }<br>    for(int i=0;i&lt;now.size();i++)<br>    {<br>      if(now[i]%p!=0) return 0;<br>      now[i]/=p;<br>    }<br>    C/=p;<br>    long long res=1;<br>    for(int i=0;i&lt;now.size();i++)<br>    {<br>      res = (res*fac[now[i]])%module;<br>      for(int j=1;j&lt;=now[i];j++)<br>      {<br>        res= (res*(C%module))%module;<br>        C--;<br>      }<br>    }<br>    return res;<br>  }<br>  int count(int n, vector &lt;int&gt; checkers)<br>  {<br>    N = n;<br>    N=N*N;<br>    int sum=0;<br>    for(int i=0;i&lt;checkers.size();i++) sum+=checkers[i];<br>    if(sum&gt;N) return 0;<br>    prepare();<br>    ct.clear();<br>    ct=checkers;<br>    long long res = n4*( (calc(1)+2*calc(4)+calc(2))%module )%module;<br>    return res;<br>  }<br>  <br><br>};<br><br><br><br><br>// Powered by FileEdit<br>// Powered by TZTester 1.01 [25-Feb-2003]<br>// Powered by CodeProcessor<br></td>