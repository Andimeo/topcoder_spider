<td class="problemText" colspan="8" valign="middle" align="left">
            using System;<br><br>public class LocateTreasure {<br>    public string location(int K, int multi) {<br>        int[] dx = new int[] { 0, 1, 0, -1 };<br>        int[] dy = new int[] { 1, 0, -1, 0 };<br>        int[] last = new int[10];<br>        long[] sdx = new long[10];<br>        long[] sdy = new long[10];<br>        int cur = 1;<br>        int at = 1;<br>        long rx = 0;<br>        long ry = 0;<br>        while (at &lt;= K)<br>        {<br>            if (at % 4 == 1)<br>            {<br>                if (last[cur] &gt; 0)<br>                    break;<br>                last[cur] = at;<br>                sdx[cur] = rx;<br>                sdy[cur] = ry;<br>            }<br>            rx += cur * dx[(at - 1) % 4];<br>            ry += cur * dy[(at - 1) % 4];<br>            cur = (cur * multi) % 9;<br>            if (cur == 0)<br>                cur = 9;<br>            ++at;<br>        }<br>        int plen = at - last[cur];<br>        long pdx = rx - sdx[cur];<br>        long pdy = ry - sdy[cur];<br>        int steps = (K - at) / plen;<br>        if (steps &lt; 0)<br>            steps = 0;<br>        at += plen * steps;<br>        rx += steps * pdx;<br>        ry += steps * pdy;<br>        while (at &lt;= K)<br>        {<br>            rx += cur * dx[(at - 1) % 4];<br>            ry += cur * dy[(at - 1) % 4];<br>            cur = (cur * multi) % 9;<br>            if (cur == 0)<br>                cur = 9;<br>            ++at;<br>        }<br>        return rx + " " + ry;<br>    }<br>    <br><br>}<br><br><br>// Powered by FileEdit<br>// Powered by TZTester 1.01 [25-Feb-2003] [modified for C# by Petr]<br>// Powered by CodeProcessor<br></td>