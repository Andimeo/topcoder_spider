<td class="problemText" valign="middle" align="left">
                      
              		<table><tr><td colspan="2" class="statText"><h3>Problem Statement</h3></td></tr><tr><td class="statText">    </td><td class="statText"><p><i>NOTE: This problem statement contains images that may not display properly if viewed outside of the applet.</i></p>
<br><p>Ivy is the little princess of the Kingdom of Ducks, where slimes and ducks live in peace and harmony.</p>
<br><p>Today, the king gave Ivy several dominoes as presents. Each domino is a rectangle that consist of two numbers, both between 0 and M-1, inclusive. One number is written in red and the other one in black. For example, the following picture shows all possible domino types with M=3.</p>
<br><img src="http://www.topcoder.com/contest/problem/PrinceXDominoes/jja7ao.gif"><br><p>The king would like to arrange a big circular sequence of dominoes for Ivy, and he asks you for your help. A circular sequence of dominoes is a sequence of N dominoes such that the number written in red on the i-th domino is equal to the number written in black on the ((i+1) modulo N)-th domino (zero-based indexing). For example, this picture shows an example of a circular sequence of dominoes with N=4 elements.</p>
<br><img src="http://www.topcoder.com/contest/problem/PrinceXDominoes/6edp5f.jpg"><br><p>Notice that the number written in red on the last domino must be equal to the number written in black on the first domino.</p>
<br><p>You are given the dominoes that Ivy has as a String[] <b>dominoes</b>, consisting of exactly M elements. More precisely, the character <b>dominoes</b>[i][j] encodes how many dominoes with a red number i and a black number j Ivy has. The characters in <b>dominoes</b> are to be interpreted as follows:</p>
<ul><li>'.' - Ivy has no such domino.</li>
<li>'A' - 'Z' - Ivy has X dominoes of that type, where 'A' means X=1, 'B' means X=2, and so on.</li>
</ul><br><p>If Ivy owns at least one domino of a particular domino type, that domino type is said to be available. The circular sequence of dominoes that you will create must contain at least one domino from each of the available domino types. Each domino that Ivy has can be included at most once in this sequence. Return the maximum number N of dominoes in a circular sequence of dominoes that you can construct for Ivy, or -1 if no such sequence exists.</p></td></tr><tr><td colspan="2" class="statText"> </td></tr><tr><td colspan="2" class="statText"><h3>Definition</h3></td></tr><tr><td class="statText">    </td><td class="statText"><table><tr><td class="statText">Class:</td><td class="statText">PrinceXDominoes</td></tr><tr><td class="statText">Method:</td><td class="statText">play</td></tr><tr><td class="statText">Parameters:</td><td class="statText">String[]</td></tr><tr><td class="statText">Returns:</td><td class="statText">int</td></tr><tr><td class="statText">Method signature:</td><td class="statText">int play(String[] dominoes)</td></tr><tr><td colspan="2" class="statText">(be sure your method is public)</td></tr></table></td></tr><tr><td class="statText">    </td></tr><tr><td class="statText"></td></tr><tr><td colspan="2" class="statText"> </td></tr><tr><td colspan="2" class="statText"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>dominoes</b> will contain between 2 and 30 elements, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Each element of <b>dominoes</b> will contain exactly M characters, where M is the number of elements in <b>dominoes</b>.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Each character in each element of <b>dominoes</b> will either be a period ('.') or an uppercase letter ('A'-'Z').</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">For all numbers X between 0 and M-1, inclusive, Ivy will have at least one domino on which the number X is written in red.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">For all numbers X between 0 and M-1, inclusive, Ivy will have at least one domino on which the number X is written in black.</td></tr><tr><td colspan="2" class="statText"> </td></tr><tr><td colspan="2" class="statText"><h3>Examples</h3></td></tr><tr><td align="center" nowrap class="statText">0)</td><td class="statText"></td></tr><tr><td class="statText">    </td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{".A."
,"..B"
,"A.A"}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 4</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">Corresponds to the sequence shown in the second picture above.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap class="statText">1)</td><td class="statText"></td></tr><tr><td class="statText">    </td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{"A.."
,".B."
,"..C"}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: -1</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">It is not possible to use all of the three available
domino types in a single circular sequence of dominoes.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap class="statText">2)</td><td class="statText"></td></tr><tr><td class="statText">    </td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{"ZZ"
,"ZZ"}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 104</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">Sometimes, it is possible to use all the dominoes Ivy has.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap class="statText">3)</td><td class="statText"></td></tr><tr><td class="statText">    </td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{"THIS.SRM"
,"IS.SPONS"
,"ORED.BY."
,"CITI.THA"
,"NKS.FOR."
,"PARTICIP"
,"ATING.DO"
,"LPHINIGL"}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 612</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap class="statText">4)</td><td class="statText"></td></tr><tr><td class="statText">    </td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{"A.A.A.A.A."
,"DOLPHINIGL"
,"A.Z.X.D.F."
,"IVANMETELS"
,"T.W.W.X.M."
,"RNGRNGRNGR"
,"W.S.C.E.F."
,"FUSHARFUSH"
,"A.B.C.D.E."
,"CITICITICI"}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: -1</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText"></td></tr></table></td></tr></table></td></tr></table><hr><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2010, TopCoder, Inc.  All rights reserved.  </p>
                      
                   </td>