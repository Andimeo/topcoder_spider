<td class="problemText" valign="middle" align="left">
                      
              		<table><tr><td colspan="2" class="statText"><h3>Problem Statement</h3></td></tr><tr><td class="statText">    </td><td class="statText">When you are compiling code to a target architecture there are hardware specific optimizations that can be made.  In this problem we will be taking a string of source text and compiling it to some variable architecture.  The source text will be given as a String <b>expression</b>.  <b>expression</b> should be a well-parenthesized mathematical formula that conforms to the following grammar:
<pre>
&lt;EXPR&gt; ::= '('&lt;EXPR&gt;&lt;OP&gt;&lt;EXPR&gt;')' | &lt;INT&gt;
&lt;OP&gt; ::= '+' | '-' | '/' | '*'
&lt;INT&gt; ::= a positive integer with no leading 0s between 1 and 100, inclusive 
</pre>
For example, 9, (1+(2+((3+2)-2))), and ((1*2)/2) conform to the grammar while (1+2+3), (0+2), and ((1+2)) do not.<br><br>
If <b>expression</b> does not conform to the above grammar your method should return -2.  If it does conform, you will then have to determine which instructions should be used to implement the expression.  The machine capabilities will be given in a String[] <b>instructions</b>.  Each element will conform to the following grammar:<pre>
&lt;INST&gt; ::= &lt;COST&gt;':'&lt;VAREXPR&gt;
&lt;VAREXPR&gt; ::= '('&lt;VAREXPR&gt;&lt;OP&gt;&lt;VAREXPR&gt;')' | 'X'
&lt;OP&gt; ::= '+' | '-' | '/' | '*'
&lt;COST&gt; ::= a positive integer with no leading 0s between 1 and 100, inclusive 
</pre>
An example element could be 10:(X+X) meaning that there is an instruction that will add 2 operands together at a cost of 10.  Another example could be 12:(X*(X-X)) meaning that it will cost 12 to multiply 1 operand by the difference of two others.  Each element of <b>instruction</b> will thus represent the possible operations the underlying hardware can perform along with their cost.  Since instructions of the form "COST:X" are meaningless they will not be allowed as input.  If the given expression cannot be computed on the given hardware your method should return -1.  Otherwise it should return the minimum cost required to compute all of the operations in the expression.  For example:  <pre>
<b>expression</b> = "((1+2)*(3+(4-2)))"
<b>instructions</b> = {"5:(X+X)",
                "5:(X-X)",
                "6:(X*X)",
                "7:((X+X)*X)"}
</pre>
Using instruction 0 on the (1+2) portion of the expression and instruction 1 on the (4-2) portion of the expression will produce the intermediate expression (3*(3+2)).  Then applying expression 0 to the (3+2) portion we get the intermediate expression (3*5).  Finally applying instruction 2 we get an expression that no longer contains any operations and is thus complete.  The total cost of this method is 5+5+5+6 = 21.  Alternatively we could have used instruction 1, then 0, and finally 3 for a smaller cost of 17.  Your method should thus return 17, the minimum possible cost.  The cost of applying no operations is 0.  For example:<pre>
<b>expression</b> = "84"
<b>instructions</b> = {"10:(X+X)"}
</pre>
Since the expression only consists of a number, there are no operations to be processed, so the cost is simply 0.<br><br>
Note that you are not allowed to apply any simplifications to the expression (i.e. no associativity, commutativity, distributivity, or identity laws).  This means (3+(4*5)) cannot be processed by an instruction like 4:((X*X)+X).</td></tr><tr><td colspan="2" class="statText"> </td></tr><tr><td colspan="2" class="statText"><h3>Definition</h3></td></tr><tr><td class="statText">    </td><td class="statText"><table><tr><td class="statText">Class:</td><td class="statText">HardwareOptimize</td></tr><tr><td class="statText">Method:</td><td class="statText">bestCost</td></tr><tr><td class="statText">Parameters:</td><td class="statText">String, String[]</td></tr><tr><td class="statText">Returns:</td><td class="statText">int</td></tr><tr><td class="statText">Method signature:</td><td class="statText">int bestCost(String expression, String[] instructions)</td></tr><tr><td colspan="2" class="statText">(be sure your method is public)</td></tr></table></td></tr><tr><td class="statText">    </td></tr><tr><td class="statText"></td></tr><tr><td colspan="2" class="statText"> </td></tr><tr><td colspan="2" class="statText"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>expression</b> will contain between 1 and 50 characters inclusive</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>expression</b> will only contain characters from the string (quotes for clarity) "0123456789+*/-()"</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>instructions</b> will contain between 0 and 50 elements inclusive</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Each element of <b>instructions</b> will contain between 7 and 50 characters inclusive</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Each element of <b>instructions</b> will only contain characters from the string (quotes for clarity)  "0123456789:()X+*/-"</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Each element of <b>instructions</b> will adhere to the format stated above</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">There will be no elements of <b>instructions</b> of the form "COST:X"</td></tr><tr><td colspan="2" class="statText"> </td></tr><tr><td colspan="2" class="statText"><h3>Examples</h3></td></tr><tr><td align="center" nowrap class="statText">0)</td><td class="statText"></td></tr><tr><td class="statText">    </td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>"((1+2)*(3+(4-2)))"</pre></td></tr><tr><td class="statText"><pre>{"5:(X+X)",
 "5:(X-X)",
 "6:(X*X)",
 "7:((X+X)*X)"}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 17</pre></td></tr><tr><td class="statText"></td></tr></table></td></tr><tr><td align="center" nowrap class="statText">1)</td><td class="statText"></td></tr><tr><td class="statText">    </td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>"(1+2+3)"</pre></td></tr><tr><td class="statText"><pre>{}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: -2</pre></td></tr><tr><td class="statText"></td></tr></table></td></tr><tr><td align="center" nowrap class="statText">2)</td><td class="statText"></td></tr><tr><td class="statText">    </td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>"((0+0)*(0+0))"</pre></td></tr><tr><td class="statText"><pre>{"10:(X+X)"}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: -2</pre></td></tr><tr><td class="statText"></td></tr></table></td></tr><tr><td align="center" nowrap class="statText">3)</td><td class="statText"></td></tr><tr><td class="statText">    </td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>"(((1+1)+((1+1)+(1+1)))+(((1+1)+(1+1))+((1+1)+1)))"</pre></td></tr><tr><td class="statText"><pre>{"10:(X+X)","19:(X+(X+X))"}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 117</pre></td></tr><tr><td class="statText"></td></tr></table></td></tr><tr><td align="center" nowrap class="statText">4)</td><td class="statText"></td></tr><tr><td class="statText">    </td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>"23"</pre></td></tr><tr><td class="statText"><pre>{}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 0</pre></td></tr><tr><td class="statText"></td></tr></table></td></tr><tr><td align="center" nowrap class="statText">5)</td><td class="statText"></td></tr><tr><td class="statText">    </td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>"(1+2)"</pre></td></tr><tr><td class="statText"><pre>{}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: -1</pre></td></tr><tr><td class="statText"></td></tr></table></td></tr><tr><td align="center" nowrap class="statText">6)</td><td class="statText"></td></tr><tr><td class="statText">    </td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>"(1/(1-1))"</pre></td></tr><tr><td class="statText"><pre>{"1:(X-X)","1:(X/X)"}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 2</pre></td></tr><tr><td class="statText"></td></tr></table></td></tr><tr><td align="center" nowrap class="statText">7)</td><td class="statText"></td></tr><tr><td class="statText">    </td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>"((1*1)+1)"</pre></td></tr><tr><td class="statText"><pre>{"10:(X*X)", "10:(X+X)", "5:(X+(X*X))"}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 20</pre></td></tr><tr><td class="statText"></td></tr></table></td></tr></table><hr><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2010, TopCoder, Inc.  All rights reserved.  </p>
                      
                   </td>