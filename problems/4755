<td class="problemText" valign="middle" align="left">
                      
              		<table><tr><td colspan="2" class="statText"><h3>Problem Statement</h3></td></tr><tr><td class="statText">    </td><td class="statText"><p>
Travelling salesmen (and of course, travelling saleswomen, too) usually have lots of problems. And some of them are pretty hard to solve algorithmically. Let's take a look at one such problem.
</p>

<p>
In the country there are several towns. Let <b>towns</b> be their count. The towns are numbered from 0 to <b>towns</b>-1. Our travelling salesman wants to travel through this country. He starts his journey in the town <b>origin</b> and wants to end it in the town <b>destination</b>.
</p>

<p>
There are several means of transportation he may use. For each of them he knows the source and destination town and its cost. Furthermore, each time he enters a town, he will be able to sign some contracts there and make some money. This amount of money may differ from town to town, but for each town it is a fixed amount. He does sign contracts at the beginning of his journey (in the town <b>origin</b>). Of course, the salesman's goal is to maximize the amount of money he has at the end of his journey.
</p>

<p>
The various travel possibilities are given in a String[] <b>travelCosts</b>, and the profits for each town are given in a int[] <b>profits</b>. Each element of <b>travelCosts</b> is of the form "<tt>SOURCE DESTINATION COST</tt>", where <tt>SOURCE</tt> and <tt>DESTINATION</tt> are town numbers and <tt>COST</tt> is the cost of using this transportation. In <b>profits</b> there are exactly <b>towns</b> elements, and the i-th of them is the amount of money gained when entering town i.

</p>

<p>
If it is not possible to reach the destination town at all, return the String "<tt>IMPOSSIBLE</tt>".
If it is possible to reach the destination town with an arbitrarily large final profit, return the String "<tt>ENDLESS PROFIT</tt>".
Otherwise, return the String "<tt>BEST PROFIT: X</tt>", where <tt>X</tt> is the best profit he can make.
The value <tt>X</tt> must be printed with no unnecessary leading zeroes.
</p></td></tr><tr><td colspan="2" class="statText"> </td></tr><tr><td colspan="2" class="statText"><h3>Definition</h3></td></tr><tr><td class="statText">    </td><td class="statText"><table><tr><td class="statText">Class:</td><td class="statText">SalesmansDilemma</td></tr><tr><td class="statText">Method:</td><td class="statText">bestRoute</td></tr><tr><td class="statText">Parameters:</td><td class="statText">int, int, int, String[], int[]</td></tr><tr><td class="statText">Returns:</td><td class="statText">String</td></tr><tr><td class="statText">Method signature:</td><td class="statText">String bestRoute(int towns, int origin, int destination, String[] travelCosts, int[] profits)</td></tr><tr><td colspan="2" class="statText">(be sure your method is public)</td></tr></table></td></tr><tr><td class="statText">    </td></tr><tr><td class="statText"></td></tr><tr><td colspan="2" class="statText"> </td></tr><tr><td colspan="2" class="statText"><h3>Notes</h3></td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">We are interested in the amount the salesman earns during the journey, i.e., the difference between the balance of his account at the end and at the beginning of his journey. This difference may also be negative in case the salesman has to pay more than he earns during his journey.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">The salesman may travel to the same town multiple times. He gains the profit from the town once for each visit he makes.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">All means of transportation can only be used in the specified direction, i.e., they are one-way. The salesman may use each of them multiple times.</td></tr><tr><td colspan="2" class="statText"> </td></tr><tr><td colspan="2" class="statText"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>towns</b> is between 1 and 50, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>origin</b> and <b>destination</b> are between 0 and <b>towns</b>-1, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>profits</b> has exactly <b>towns</b> elements.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Each element of <b>profits</b> is between 0 and 1,000,000, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>travelCosts</b> has between 1 and 50 elements, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Each element of <b>travelCosts</b> is of the form "<tt>SOURCE DESTINATION COST</tt>".</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Each <tt>SOURCE</tt> and <tt>DESTINATION</tt> in <b>travelCosts</b> are integers between 0 and <b>towns</b>-1, inclusive, with no unnecessary leading zeroes.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Each <tt>COST</tt> in <b>travelCosts</b> is an integer between 1 and 1,000,000, inclusive, with no leading zeroes.</td></tr><tr><td colspan="2" class="statText"> </td></tr><tr><td colspan="2" class="statText"><h3>Examples</h3></td></tr><tr><td align="center" nowrap class="statText">0)</td><td class="statText"></td></tr><tr><td class="statText">    </td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>5</pre></td></tr><tr><td class="statText"><pre>0</pre></td></tr><tr><td class="statText"><pre>4</pre></td></tr><tr><td class="statText"><pre>{"0 1 10", "1 2 10", "2 3 10", "3 1 10", "2 4 10"}</pre></td></tr><tr><td class="statText"><pre>{0, 10, 10, 110, 10}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: "ENDLESS PROFIT"</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText"><p>
The profit in each town exactly covers the cost of travelling there. The single exception is town 3. Each time the salesman travels (from town 2) to town 3, he pays 10 for the travel and gains 110 from sales in town 3, resulting in a net gain of 100. 
</p>
<p>
He is able to reach an arbitrarily large profit in the following way:
Start by travelling from 0 to 1, travel around the circle 1-&gt;2-&gt;3-&gt;1 sufficiently many times, then travel from 1 to 2 and from 2 to 4.
</p></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap class="statText">1)</td><td class="statText"></td></tr><tr><td class="statText">    </td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>5</pre></td></tr><tr><td class="statText"><pre>0</pre></td></tr><tr><td class="statText"><pre>4</pre></td></tr><tr><td class="statText"><pre>{"0 1 13", "1 2 17", "2 4 20", "0 3 22", "1 3 4747", "2 0 10", "3 4 10"}</pre></td></tr><tr><td class="statText"><pre>{0, 0, 0, 0, 0}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: "BEST PROFIT: -32"</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">There is no profit here, so the salesman has to find the cheapest way of travelling.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap class="statText">2)</td><td class="statText"></td></tr><tr><td class="statText">    </td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>3</pre></td></tr><tr><td class="statText"><pre>0</pre></td></tr><tr><td class="statText"><pre>2</pre></td></tr><tr><td class="statText"><pre>{"0 1 10", "1 0 10", "2 1 10"}</pre></td></tr><tr><td class="statText"><pre>{1000, 1000, 47000}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: "IMPOSSIBLE"</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">The destination town is unreachable.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap class="statText">3)</td><td class="statText"></td></tr><tr><td class="statText">    </td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>2</pre></td></tr><tr><td class="statText"><pre>0</pre></td></tr><tr><td class="statText"><pre>1</pre></td></tr><tr><td class="statText"><pre>{"0 1 1000", "1 1 10"}</pre></td></tr><tr><td class="statText"><pre>{11, 11}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: "ENDLESS PROFIT"</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">Loops are allowed.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap class="statText">4)</td><td class="statText"></td></tr><tr><td class="statText">    </td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>1</pre></td></tr><tr><td class="statText"><pre>0</pre></td></tr><tr><td class="statText"><pre>0</pre></td></tr><tr><td class="statText"><pre>{"0 0 10"}</pre></td></tr><tr><td class="statText"><pre>{7}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: "BEST PROFIT: 7"</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">Loops are not always useful.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap class="statText">5)</td><td class="statText"></td></tr><tr><td class="statText">    </td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>5</pre></td></tr><tr><td class="statText"><pre>0</pre></td></tr><tr><td class="statText"><pre>4</pre></td></tr><tr><td class="statText"><pre>{"0 1 13", "1 2 17", "2 4 20", "0 3 22", "1 3 4747", "2 0 10", "3 4 10"}</pre></td></tr><tr><td class="statText"><pre>{8, 10, 20, 1, 100000}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: "BEST PROFIT: 99988"</pre></td></tr><tr><td class="statText"></td></tr></table></td></tr></table><hr><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2010, TopCoder, Inc.  All rights reserved.  </p>
                      
                   </td>