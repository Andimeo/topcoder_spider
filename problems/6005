<td class="problemText" valign="middle" align="left">
                      
              		<table><tr><td colspan="2" class="statText"><h3>Problem Statement</h3></td></tr><tr><td class="statText">    </td><td class="statText"><p>
Two players play a simple game with a coin.
</p>

<p>
Given is a set S. Each element of S is a sequence of heads and tails, and all the sequences have the same length.
</p>

<p>
The first player starts the game by choosing a sequence from S. Then the second player chooses a different sequence from S. 
A fair coin is then thrown repeatedly until one of the chosen sequences appears as a set of consecutive throws.
The player that has chosen this sequence wins.
</p>

<p>
You are given a String[] <b>sequences</b> containing the allowed sequences encoded as strings of 'H's and 'T's ('H' represents a head, 'T' represents a tail). Return the probability that the first player will win this game, given that both players play optimally.
</p></td></tr><tr><td colspan="2" class="statText"> </td></tr><tr><td colspan="2" class="statText"><h3>Definition</h3></td></tr><tr><td class="statText">    </td><td class="statText"><table><tr><td class="statText">Class:</td><td class="statText">CoinGame</td></tr><tr><td class="statText">Method:</td><td class="statText">bestProbability</td></tr><tr><td class="statText">Parameters:</td><td class="statText">String[]</td></tr><tr><td class="statText">Returns:</td><td class="statText">double</td></tr><tr><td class="statText">Method signature:</td><td class="statText">double bestProbability(String[] sequences)</td></tr><tr><td colspan="2" class="statText">(be sure your method is public)</td></tr></table></td></tr><tr><td class="statText">    </td></tr><tr><td class="statText"></td></tr><tr><td colspan="2" class="statText"> </td></tr><tr><td colspan="2" class="statText"><h3>Notes</h3></td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">The returned value must be accurate to 1e-9 relative or absolute.</td></tr><tr><td colspan="2" class="statText"> </td></tr><tr><td colspan="2" class="statText"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>sequences</b> contains between 2 and 50 elements, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Each element of <b>sequences</b> contains only uppercase 'H' and uppercase 'T' characters.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Each element of <b>sequences</b> contains between 1 and 10 characters, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">Each element of <b>sequences</b> contains the same number of characters.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">No two elements in <b>sequences</b> are equal.</td></tr><tr><td colspan="2" class="statText"> </td></tr><tr><td colspan="2" class="statText"><h3>Examples</h3></td></tr><tr><td align="center" nowrap class="statText">0)</td><td class="statText"></td></tr><tr><td class="statText">    </td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{"H", "T"}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 0.5</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">This game is as simple as it gets. The first player picks a head or a tail, then they flip a coin and look at the outcome. Each player has a 50% chance of winning this game.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap class="statText">1)</td><td class="statText"></td></tr><tr><td class="statText">    </td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{"HHHHHHHHH", "TTTTTTTTT"}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 0.5000000000000011</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">Almost the same game, but quite a bit longer.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap class="statText">2)</td><td class="statText"></td></tr><tr><td class="statText">    </td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{"HH", "HT"}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 0.5</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">This is another example of a fair game. Once a head occurs for the first time, the next throw decides which sequence will appear first.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap class="statText">3)</td><td class="statText"></td></tr><tr><td class="statText">    </td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{"TTT", "HTT"}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 0.875</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText"><p>
In this game, choice matters. The only way TTT can appear before HTT is if it appears in the first three throws. Otherwise the triplet we encounter immediately before seeing TTT for the first time is always HTT. Thus in all other cases HTT appears before TTT.
</p>

<p>
The first player knows this and he chooses HTT, which gives him a 7/8 chance of winning the game.
</p>
</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap class="statText">4)</td><td class="statText"></td></tr><tr><td class="statText">    </td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{"HHH", "HHT", "HTH", "HTT", "THH", "THT", "TTH", "TTT"}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 0.33333333333333337</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">This game contains a wonderful paradox: being the first player is not always good.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap class="statText">5)</td><td class="statText"></td></tr><tr><td class="statText">    </td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>{"TTHTTHTTH", "HTTHTHHTT", "TTHHHHTHT", "TTTTTHTTT", "HHTTHTHHT"}</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 0.5019379844961235</pre></td></tr><tr><td class="statText"></td></tr></table></td></tr></table><hr><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2010, TopCoder, Inc.  All rights reserved.  </p>
                      
                   </td>